(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports={logo:"Navbar_logo__MgftN",logoIcon:"Navbar_logoIcon__2jeM8",logoText:"Navbar_logoText__1D8tP",right:"Navbar_right__1iE_g",menuCon:"Navbar_menuCon__PohV6",menuBar:"Navbar_menuBar__1KUOQ",iconButton:"Navbar_iconButton__1gtNM"}},131:function(e,t,n){e.exports={sticky:"ItineraryViewer_sticky__2yohN",hidden:"ItineraryViewer_hidden__17cYo",open:"ItineraryViewer_open__2t03L",stickyBackMenu:"ItineraryViewer_stickyBackMenu__2Wa51",stickySelect:"ItineraryViewer_stickySelect__2ah5H",noReviews:"ItineraryViewer_noReviews__3eJTI",ratingContainer:"ItineraryViewer_ratingContainer__dVPlZ",section:"ItineraryViewer_section__1_1wj"}},153:function(e,t,n){e.exports={resultList:"BuilderPane_resultList__IYYBR",discoverMenu:"BuilderPane_discoverMenu__2glku",container:"BuilderPane_container__1Hdy4",header:"BuilderPane_header__3r82B",content:"BuilderPane_content__3diwX",sticky:"BuilderPane_sticky__OW2ap"}},154:function(e,t,n){e.exports={splitPane:"Edit_splitPane__1Vi2I",content:"Edit_content__1Tc1O",panel:"Edit_panel__21sYY",overlay:"Edit_overlay__ilP9O",footer:"Edit_footer__Jk6e-"}},183:function(e,t,n){e.exports={list:"MultidayList_list__2AWzs",multilist:"MultidayList_multilist__tgyqV",addSection:"MultidayList_addSection__1g-Uo"}},186:function(e,t,n){e.exports={container:"LoginForm_container__1qRDW",enter:"LoginForm_enter__3KS8M",icon:"LoginForm_icon__1GoQ1",btn1:"LoginForm_btn1__11Wd9",btn:"LoginForm_btn__3eBrc",divider:"LoginForm_divider__Fn1rr"}},187:function(e,t,n){e.exports={bigContainer:"Footer_bigContainer__Hyu6e",right:"Footer_right__3iRZF",wrap:"Footer_wrap__2KJQ1",rights:"Footer_rights__tTxC6",last:"Footer_last__16f5Y"}},188:function(e,t,n){e.exports={bigContainer:"Social_bigContainer__t0xl0",title:"Social_title__3wExB",icon:"Social_icon__2CKuB"}},189:function(e,t,n){e.exports={ratingContainer:"ItinCard_ratingContainer__16Q-T",cardContainer:"ItinCard_cardContainer__1MaFO",noReviews:"ItinCard_noReviews__2CHHV",tagStyle:"ItinCard_tagStyle__1LxUM",item:"ItinCard_item__1Dx11",carousel:"ItinCard_carousel__a0h1a",img:"ItinCard_img__3OYYm"}},218:function(e,t,n){e.exports={bigContainer:"Page4_bigContainer__HjIZT",title:"Page4_title__1P5_X",subTitle:"Page4_subTitle__kHAzN",form:"Page4_form__P4NET"}},275:function(e,t,n){e.exports={input:"Panel_input__3q61B"}},280:function(e,t,n){e.exports={menu:"AuthMenu_menu__KVjID",menuSider:"AuthMenu_menuSider__Mnm52"}},283:function(e,t,n){e.exports={siderLayout:"DayMenu_siderLayout__M_-iY",hover:"DayMenu_hover__Qd_A6",hidden:"DayMenu_hidden__2__Tc"}},284:function(e,t,n){e.exports={item:"ItineraryAnim_item__1G4c0"}},285:function(e,t,n){e.exports={header:"Banner_header__1WsMS",sub:"Banner_sub__1v6bx",container:"Banner_container__UlsUu"}},37:function(e,t,n){e.exports={container:"Page2_container__3Lgg8",bigContainer:"Page2_bigContainer__2yncJ",title:"Page2_title__2nDoB",blue:"Page2_blue__Mhc_8",white:"Page2_white__1Cjoz",sectionTitleWhite:"Page2_sectionTitleWhite__32rhs",sectionText:"Page2_sectionText__2H-Md",rowTextContainer:"Page2_rowTextContainer__1b7Oc",rowTextContainerLast:"Page2_rowTextContainerLast__357O2",rowTextTitle:"Page2_rowTextTitle__27tfN",rowTextDescription:"Page2_rowTextDescription__2gsX-",rowContainer:"Page2_rowContainer__8g2Kt",rowImageContainer:"Page2_rowImageContainer__1_tU7",right:"Page2_right__1v6Of"}},372:function(e,t,n){e.exports={menu:"UnauthMenu_menu__-zYiS",menuSider:"UnauthMenu_menuSider__Fvpay"}},377:function(e,t,n){e.exports={image:"LocationCarousel_image__1mm7y",module:"LocationCarousel_module__3d27x",overlay:"LocationCarousel_overlay__3L7yc"}},378:function(e,t,n){e.exports={panel:"Discover_panel__2hlrC",content:"Discover_content__10bB9"}},511:function(e,t,n){e.exports={menuStyle:"ProfileDrop_menuStyle__2x0CF"}},513:function(e,t,n){e.exports=n.p+"static/media/kangaroo.3673a078.svg"},521:function(e,t,n){e.exports={card:"EventList_card__3dryI",addSection:"EventList_addSection__cP_bL"}},525:function(e,t){e.exports={defaultCoverImage:"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png",defaultAvatarImage:"https://png.pngtree.com/svg/20161212/personal_default_avatar_for_mobile_phone_app__146524.png"}},526:function(e,t,n){e.exports={menuContainer:"FilterMenu_menuContainer__1pauo"}},527:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAAkCAYAAAApZeciAAARjUlEQVR4Ae2dBXTb2vL1x6GmzJehzBjbKb/YcsrMfJkZyvDS1HbgMTMzM7d9zMzMGCjaTrnxt+e7zvqPpwLLdUpLe62fnFqSZak5W3PmzFHI0/UoT7Nf2t49XJeaY8RT24xY6jXhWPJt+Pn1+Hl3KNa2dE7N8X6Ariwe19XJeHhE6k5OM6KpD4eiidMwnLQVWH/eiCc/F44mDUBXBo/r4iQ8PIxY262Icj7J5uIW7PdZ3h+QBwCBD65YW/GB5ec78H9wxf2ACg0vrmk8PCLRZHUonjri1ngUrdXRxExAHgkKfGjVusCHVqY7qPjQqgcAFRpeXLN4eOBuvdyIJs5e3MVKHcbrq7F+caTuxIjqxrZbquqOD4vUpeYh4mkMxRL/0fuE46kdgMIengHlhwc0ETRmmEvu9ZzYv4SuYnHEEoonzqjczmlONC+qSXcDZMXqmnSZEUs+g/3bXuiGpfYCYjw8A7LFwzOgqppjfWAe/84yn3iqOVzf5geUK5H9yfFIRj8NKIMH8AzIBg/PgHhoXZoPRr4SbCaAPC4dz4A8LPAMiPM5Ou+D3M7dgDwKg2dAHhZ4BoQk6Z6s6CeW+DGl0z5AHoXBMyAPCzwDQu7nJ9kGlLoH0OXmb1VV5S2RyoXNkWBtsxF8c0sk8Ea8bm8OB6ana6gIkCu+RuXnvlK88NyB0tpzB4vfjNc3nj1Ysv3soZK8Pm/qy9u7GvG2ZRj1i4fiyTcit1OH6GaR/83pUkDTG1t7ci4NgOYegDK4NqB/R4L9cd6bWyLBl/J1aDGCdU1GcPk/p07tCsgKyxVQEbgRDAIDgI/cqxzcBAaDG0ERXX0qATeDweAWUEr5qQj0Bj2AL8fj3ZxnIy8S1/UmdV07y4DKwe1gEOhzJadYwIAuZHe/TvQHdLlIrx5T1hwJ7GwO+4+gwaXNaAr7/9hiVK5OE/kA2fIRKjt7oGTnmYOlR84dLE2bU/zH84fKViM48QGyY/VH0sWojXrOqjYqFE3+xYgnZiFy/LnIoX0dUIacDejwvMpeON/XNoeDZ0yvhRFsAQ9YXQdesB7OcCMoBwvBPtAo2A2qc2ygI8BDoF59Ri1YCfoBrfHie0wlawXFdrPJWuPEdn6g1QesBjH1HevAZnALmSugrlcZmAdqxGdsBlr9wFqT48XBRnBjjoY+Xx2L2QcWZtZPKJQBCaO7x+T/8lkwycRsbxXXZzU5SF3PWeQg3MUnZDeoxN8BOTEnevJ2HrZ3AzdkQJL/VPkHtBiB71kZjwZRwNvTVVUlgEz5Gg2AwXwPpHOj+O3YpwSQGRzJoAbqK86Fl4lTMKgTl2JAR6v9d7DR5nYtAm+UJqQNqDHDeLANNNrwvM0dsBisBo0OxMAEIDVArH+arPWUanjFZK7NYrvbTAxyv8N3rLcwwtlim5HgGZN9teGNBlGH49WZ7Kevz3aHz9gKggUyoBgYA+IOx9yg/g+K1Pe8hazlA1v1/5ODAYWzu1/J7wNygosMeXs3cOEioA64O9EUCf7kosYVDqYQAfywJeL/eVPEf06vbzb8bwGkaf8udUWX6yfaZBAJpfD6w3MHin9+5iul50xM6C2ANGyYiGq+bGo20dQv8POf9bp8Dah1+vSeuBa/1+eK6/APXI8DuBa/1uvAHkASXkgDerFofBvBDDAdrAV1YrttoNzkl2k9aBQ8AkJgClgIdot1DWA0kHpWrO9lEUU0KkaaGaEwmJ3qLn2balTPAAMEM69PqM8fa2VAwgwbMvvdAx5TUeIgUKf2CYEgiChDbbA4n+5ghzLw1WAqmA42iAilpkAGVCdMcw9YCCpBFXhYXaM1QGqmWLeSrDVUbPcYILcGhNzGDwA5kJcBherapgDqAF2Jl2Q3KP8p5H+e5FwQIIYjJLz3Kt34YExLAUlgJi+RxgKzOYWu2JOcCwKUYQByQa+6yIQOlC0FJOHCyuxrkzgTrkttkUWZ1ftPDFcmlZcBId/zcnUtmvC6SEY5hw1/Jc7zX6Jbev6wUTkGUAe8kAbE7AQ3A63+YIvYbjmQmqQayDigVQpWie1qQFeLxl0JtF4EGhWrHH6xF8u7s+pizAdFJkY6VWyzB5Tq7yjYYtN9KlYRZTXw6eOp89phEtWtUV2fvkDrZrALNBbCgAQbQRnQmqCMdYzqKu4XvwvlZK6NYv8JgNx2wcLxxD8BOePegMLRE9MBMf+dN2kg7uyn/68xBS80VQcjgMxorg7uUFHSL2XjbP8CDUSkc1pEPRcQDUUAmQFj2qGioF/KfBAnnDPTTzKGkmgPxVILAWmqatIlbEL5GtCxqol9YDgnhbkm8DoCkISNGWb8Snkd8O8PAOqAFyS7HQ4hcz+Rw6gDPUUjkuY02SHsvl9sa8hGJN6/G2g9Lu6WjwsT0w12oficwTLPJN6/zyFZvMrkfLQBRR0SspPFtpscjrdBdYU71Bc0iBya3fFuAQ0FNKCn9LVVmia2fQJILRbrZgCtHsLAdoHiPJPQIHkjIDs4muFowA41ugYSYwAxyOU8ohrSmwBZwaNW3CXLjoIqxgNiMLr1SJahfKX0TYCs4M/jLpmKmMYDAhz9rFbf/d2ArJgdPTWYr2M+BtQaCW5UEd5eaTz/q5oyCDmfxpaw/7BJd/V0c9WYHoAYXpDqzztpsUmUcqPq0jiNmN1qke/xiYghqkZh+oh9XqSihuFA6nnQCPaCIos77hCy151i2/UWBrSc7HW32PZWstdwi6hulorYnLSxgAY0OofRuJ1iexmZ9RNmuMXkdyIk9guRC3HdT/bjNNoeAnSpwKi+JyMINjtAgBvWe7LNJDgNkB3opmyR+7Qa/ocBAY5o3iPNBP+eBsiWQyVb5D4wsYcBMboyHOZSBcgORIXfyseAdFTDxsoGiffn4Zw/i3Nvv3hUMHicu6atc/yjAHXwwkInT50biu7fB1z+0vtEPqhBGc188VkjLPIK/VQ+aIXYTr8vtV0lfeM21ElTlQbk4nrtcXs8HU2ovNogclagQAZUn2OJwEoduQndJdYNVf//20UXrRu5EBrMLtV9+JUesXILPyGRH1ImZsb/FlAHLYb/oGxQGAHqDcgOjJbNz05GB6KAGHS5DkozSR+g3oDsQLdrvtwHRAExMM9PZSXQaxIDANmBfd6clwGFgx9S0WAtXv8E0hpO2qMc4f7/zZ7QHZCGeOEiKtCjVfeY3M0qKTc9JvbpLd6/Xby/RLz/qEnE9LRInhepboE2MBLdR7fskgbkIm/RkOfxtoEOPSTe70POGlogA9qdqx+I400HUkNUF7RDI9RNzJVmxVI3XzQLPpZ4DFC+IILYria2vhJQhqvfgGLJT7utjUKB4psKYEAm+E+1hAPv4iS0Qx1UZqG6Mg66Uf9SqW7CNNJyHk7vKe+OIpm6Hfgy6xtMckYRE/O812aIfr/IpQRcMMHCgMaTverEdwm4QH7u/Sryc9LIAhnQi8lZ+npMMYl0nxYRVS+TEokbgWuxQeihZiPWVgnILTwyxJNZs7p19amJgDqAmbw7y0xm+2cAssWo3JbVBYsEHgLEoNv07qzu1JdLZgCyA/tsy+62lT4EiOHnXavrMQuQPalvuDUgPQKm+FOrEXyeq6IB5QIvpAHNJGdNMBlhmuAiL6KHyWMm+YEl4vMGgmnq3x26Qby/DJSKIfa1No2rAXQh93JrQNtE4yuj/LRS5WScNKuAOaDu5KxNKuLU8qtRwJ6iZOABylPVDUd78wiYGrk6hgrgEKCcwcPKjGjyb/oRrYAkbB7Z3Y7A2wBZkV69urg54v+N3Od/4eBYQAybR3YSuvhtgKxAtXQxXn+TlYQ+VDoWEBOOJzeoc3gbIAtw/U7ewV3OvAzI8K9SEc//msOVcyynixD5rKZk8EIa0OPA5yKxOgaweoj39jpUS+vRqPuB1mCZcBbdkOeA1vNiuHyUqt/RWiHWB8heXUD5JRrQGqeRQaHyDFoVLgYJfODJAhrQDLJXN1ErVGfx/UvAXtGtm60NNV9Vxdqm6ofP88gOktQvzcxxImvSJZy8ltXAGZLh6PGhgCR8V88eeg62c9IVkAW12VMS/D/LGoY/QP0xenVSjGi1Y5RrHiBzSmvVMPzP5DB8pgL6uEyi818FAaTJDMN/Pt9heM7n4PyPyfNjAwJkRiYS/DNyQbMASXih64CCZK0xNvUx94p1S4WRORXVTQJaReKX9hnR/ZoDtOaaFAbGQKnDyNZu0IOstQREwXLQOx8DUvmYnQ4RxXIQBctAL2WEtTrKsFBlgeuAamzyTj5lsBtJy7yrXC/yXD66RIXr2pZkP5pDGEks8S4kWjdF6tqCHOlE6lOT+RGubFAwrn+Y/aUMrF8MyAyYSlxV/Z7hkS6ZYG2ZW3EzVz5fPPzsXwBIAlOJqwroMzzS1f5l6g7o//NFupkrn3l9FoeKFwCS6DwWmzMXJ8pCRDZXmPQXLrUQ0aTOqY3nfPE8OUAA12PaDTxPLMu0jeArpBHrHBBTD0KgRBnCNDVSM1XXoKj1q00a3CBVev+kSB5bRisOZf23mGy3KccIbpvJyFKZGomLgp55GpCuedoC7tDHU3VL+0EPmwLMGAiq61YCQqChEwoRd4Ahyiy6g3VqPttAslYPkykdM6hA4m4XGk0LN6R84UezspkBsiAz+z34fbOkK/g5aoV+ZzYEDV4HSMMVzzCh72tz4YroF2p+in/HkZFej31eB0jDkQ1G7L52sbkkTiLn8zOs+2OhpmKk/f5SFCB+w+Rckxhy/yl3P7lY02k6hp6K8ZiaOPoAuB/UmMz/8eVwB64Hj4F7lfEwexySqiPU9tv1MfWQrkNUJRvPNpM5VHeDh0DU4bOUATmqp4r4mC0Wx2sAEy0iwnvUZ+wF94H71cThxwpkQPuUGW0F94BH1I2GCZCzVqnfrS5UQFW9JHUT/z2wvAwIdUXh/cmxgJw4Pmdqv6ZI4JuqUVljBN7A+SBAZrR/ifqh0PCb0mAceAPngwCZwbkxUxMyMSXZZctzMmpvRIFfc7wGYrhej4rpCGgUWA4aLWgASxweqzFezCmz4jHQ1ylRrRrWQlLSlc8qF+FkCg84fMdabQZ5GhCrF3jY6XgOw/olKiFtxipwZ4EMaBfooyfbKqIOZi81Sg9edIaQFwqEo6n3hqLJlLP5JL8D1rmtIeLZ7Yh4ngVNNkPRv241AosBOcGz21Fo+CyinSZL4/lK8a/PHSxbDMgJjoRwftvAMYtz/zNPM+EJqqLu6Wt5/FWMzLUIPgdaba7Fz2Ha1YA0xAuTBjUIrAPbwT6wBawAt7p4DtBM8ADYAWrBNrABjHbR9x8vqp77k7X6i+0mU27ygRFgLdgKajPG+SgwbPI1d4CZGQYAcnG8kWCdyfHCLorx7gRrwHZQC3aA9aIMoae4FoPIvSrATFApbgSV4EGwF+wDT4O5oCflrnXiJtaPOllohOVcDcwPnIchvYwfyMVD9+FYaifngdT0jbzgbgjPB0OUs4u7WU1G4NX4+ZkWo6JC3+lz4sdUyvPBMNy+i7tZMJ5X4+dnkBuqkAnnXOFKbowUrkAeqB68BdTLB5LBeH5vMfIHA1oexB8nfFMH/o+sngnIij/OG9aF655ADT+cja8H58cwehjU18LpcRyePBVafUXy+W7qXHlKp338Z4cAWTHv1e1d1Aji6wFdbnjR2QbkydNiPSXDU+HFj1hFdPcIulC/5LlhgKzgyCirbqgudS+gyw0WnWZAnjzpWqFngY86RV7Ug5zOH7LqgOLJNYA0s2uSN+D1r2Lbs/weoMsNLzrTgDx5MlSNWSfJE/Jb95kk2t/MU1R4cipPOUHk86j+g46Z/BBdCbDoNAPy5KlUFJTWgFLqVHlREBdfuitDSPxdTVy9rPCiswzIk6cpqiSgc+UpM8Uk9bpczIe7bBwVAbpSYNFpBuTJU28wMEMZebpsCkeTBgoKD+qnRzI8+ZbLEcQUjSsGLwgKZRhInjx5um40s/54X340B08zwZSV6qr6U4Oupr8i+/8Adnj5PFwBRDQAAAAASUVORK5CYII="},530:function(e,t,n){e.exports=n.p+"static/media/kangaroo_white.2e94f37b.svg"},531:function(e,t,n){e.exports={siderClosed:"Dashboard_siderClosed__1Nil7",siderOpen:"Dashboard_siderOpen__zVooX",header:"Dashboard_header__3hF19",content:"Dashboard_content__2q-ia"}},532:function(e,t,n){e.exports={slant:"Home_slant__1ZJeb",body:"Home_body__2niWn"}},533:function(e,t,n){e.exports=n.p+"static/media/egypt-pyramid.d1b60a0f.svg"},534:function(e,t,n){e.exports=n.p+"static/media/loupe.d59385b9.svg"},535:function(e,t,n){e.exports=n.p+"static/media/route.30801527.svg"},536:function(e,t,n){e.exports=n.p+"static/media/travel.b51baa11.svg"},537:function(e,t,n){e.exports=n.p+"static/media/placeholder.fdd808ae.svg"},538:function(e,t,n){e.exports=n.p+"static/media/Alisa.41aac9fd.jpg"},539:function(e,t,n){e.exports=n.p+"static/media/Eric.1d28fae8.jpg"},54:function(e,t,n){e.exports={card:"EventItem_card__1LD_P",cardEdit:"EventItem_cardEdit__n4mcq",doneMenuItem:"EventItem_doneMenuItem__1JwWF",titleInput:"EventItem_titleInput__3b5lS",section:"EventItem_section__3zvaG",quill:"EventItem_quill__wnX5o",borderless:"EventItem_borderless__xlfJg",menuItem:"EventItem_menuItem__3oIaR","ant-menu-item-selectedi":"EventItem_ant-menu-item-selectedi__2RPtE",itemTitle:"EventItem_itemTitle__u0xmq",gallery:"EventItem_gallery__auwf5",tagStyle:"EventItem_tagStyle__1j_Vx",hidden:"EventItem_hidden__3Ll_v"}},540:function(e,t,n){e.exports=n.p+"static/media/ischool.1ec147cf.svg"},541:function(e,t,n){e.exports=n.p+"static/media/Matthew.20083396.jpeg"},542:function(e,t,n){e.exports=n.p+"static/media/Peter.45b4f798.jpg"},543:function(e,t,n){e.exports=n.p+"static/media/uw.4d74bb12.png"},55:function(e,t,n){e.exports={bigContainer:"Page3_bigContainer__1rCK_",title:"Page3_title__1L21e",container:"Page3_container__2LTTg",image:"Page3_image__eMNrq",imageTop:"Page3_imageTop__29UF-",text:"Page3_text__12d8P",position:"Page3_position__1Xib_",image2:"Page3_image2__1XlgJ"}},562:function(e,t,n){e.exports=n(996)},567:function(e,t,n){},568:function(e,t,n){},70:function(e,t,n){e.exports={slant:"Page1_slant__3GBGL",container:"Page1_container__2Cb6X",title:"Page1_title__3hU1N",imageIcon:"Page1_imageIcon__eeggU",circle:"Page1_circle__3YCPg",col:"Page1_col__1tDIM"}},92:function(e,t,n){e.exports={container:"SignupForm_container__3Wby5",enter:"SignupForm_enter__2GEW7",icon:"SignupForm_icon__2Rb5S",btn1:"SignupForm_btn1__Ya_v0",btn:"SignupForm_btn__1MZGm",divider:"SignupForm_divider__321Dn"}},96:function(e,t,n){e.exports={ratingContainer:"QueryCard_ratingContainer__10WGP",cardContainer:"QueryCard_cardContainer__2M8NT",noReviews:"QueryCard_noReviews__s0uui",tagStyle:"QueryCard_tagStyle__2P5Sk",item:"QueryCard_item__22niX",carousel:"QueryCard_carousel__3jnOu",img:"QueryCard_img__2Lzva"}},97:function(e,t,n){e.exports={card:"Search_card__30Eng","slick-slide":"Search_slick-slide__2LupQ",itemTitle:"Search_itemTitle__3i8ZO",noReviews:"Search_noReviews__2u0Jt",carousel:"Search_carousel__2i1NP",img:"Search_img__NdbbP",input:"Search_input__1vG-n",container:"Search_container__2554j",containerNoBorder:"Search_containerNoBorder__1bAcB"}},98:function(e,t,n){e.exports={left:"Auth_left__ySK-6",leftText:"Auth_leftText__A7wCf",right:"Auth_right__2AlKf",icon:"Auth_icon__2C7Y9",center:"Auth_center__8_Hz_",overlay:"Auth_overlay__3jw37",rowContainer:"Auth_rowContainer__3Oder",inline:"Auth_inline__3J4cs"}},996:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),o=n.n(i),s=(n(567),n(8)),l=n(9),c=n(11),u=n(10),p=n(12),m=n(1004),d=n(1005),h=n(1001),f=(n(568),n(38),n(13)),g=(n(32),n(16)),y=n(82),E=n(83),v=n(98),b=(n(287),n(104)),O=(n(382),n(61)),C=(n(88),n(39)),_=(n(46),n(4)),w=(n(222),n(127)),S=(n(44),n(20)),I=n(17),j=n(21),N=n(1e3),k=n(186),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=Object(I.a)({},n.state.credentials);t[e.target.id]=e.target.value,n.setState({credentials:t})},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){n.props.signInWithEmailAndPassword(n.state.credentials)})},n.state={confirmDirty:!1,autoCompleteResult:[],credentials:{email:null,password:null}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(S.a,{className:[k.btn1,k.btn].join(" "),shape:"round",type:"primary",onClick:function(){return e.props.signInWithGoogle()}},r.a.createElement(y.Icon,{size:14,className:k.icon,icon:E.google}),"Login with Google"),r.a.createElement(S.a,{shape:"round",type:"primary",onClick:function(){return e.props.signInWithFacebook()}},r.a.createElement(y.Icon,{size:14,className:k.icon,icon:E.facebook}),"Login with Facebook"),r.a.createElement("p",{className:k.divider},"- Or -"),this.props.authError&&r.a.createElement(w.a,{type:"error",message:this.props.authError.message,banner:!0}),r.a.createElement(O.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(O.a.Item,null,t("email",{rules:[{type:"email",message:"Please enter a valid email."},{required:!0,message:"Please enter an email."}]})(r.a.createElement(C.a,{id:"email",onChange:this.handleChange,prefix:r.a.createElement(_.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(O.a.Item,null,t("password",{rules:[{required:!0,message:"Password Required"}]})(r.a.createElement(C.a,{id:"password",onChange:this.handleChange,prefix:r.a.createElement(_.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(N.a,{className:"login-form-forgot",to:""},"Forgot password?"),r.a.createElement(O.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(b.a,null,"Remember me"))),r.a.createElement(O.a.Item,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")),r.a.createElement(O.a.Item,null,r.a.createElement("span",null,"New to Travelroo.io? ",r.a.createElement(N.a,{className:"login-form-forgot",to:"/signup"},"Sign up now")))))}}]),t}(a.Component),T=Object(j.b)(function(e){return{authError:e.auth.authError}},function(e){return{signInWithGoogle:function(){return e(function(e,t,n){var a=n.getFirebase,r=n.getFirestore,i=a(),o=r(),s=new i.auth.GoogleAuthProvider;i.auth().signInWithPopup(s).then(function(e){return o.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})},signInWithFacebook:function(){return e(function(e,t,n){var a=n.getFirebase,r=n.getFirestore,i=a(),o=r(),s=new i.auth.FacebookAuthProvider;i.auth().signInWithPopup(s).then(function(e){return o.db.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})},signInWithEmailAndPassword:function(t){return e((n=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then(function(t){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var n}}})(O.a.create()(x)),R=(n(162),n(76)),A=n(92),D=(n(101),n(51)),P=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.a,{title:"Travelroo.io Terms and Conditions",visible:this.props.visible,centered:!0,closable:!0,onCancel:function(){return e.props.onClose()},width:"50vw",footer:null},r.a.createElement("div",{style:{overflowY:"scroll",height:"400px",maxHeight:"400px",width:"100%",maxWidth:"100%"}},r.a.createElement("p",null,"Welcome to Travelroo  These terms and conditions outline the rules and regulations for the use of Travelroo's Website.  Travelroo is located at:"),r.a.createElement("p",null,"  By accessing this website we assume you accept these terms and conditions in full. Do not continue to use Travelroo's website  if you do not accept all of the terms and conditions stated on this page.  The following terminology applies to these Terms and Conditions, Privacy Statement and Disclaimer Notice  and any or all Agreements: \u201cClient\u201d, \u201cYou\u201d and \u201cYour\u201d refers to you, the person accessing this website  and accepting the Company\u2019s terms and conditions. \u201cThe Company\u201d, \u201cOurselves\u201d, \u201cWe\u201d, \u201cOur\u201d and \u201cUs\u201d, refers  to our Company. \u201cParty\u201d, \u201cParties\u201d, or \u201cUs\u201d, refers to both the Client and ourselves, or either the Client  or ourselves. All terms refer to the offer, acceptance and consideration of payment necessary to undertake  the process of our assistance to the Client in the most appropriate manner, whether by formal meetings  of a fixed duration, or any other means, for the express purpose of meeting the Client\u2019s needs in respect  of provision of the Company\u2019s stated services/products, in accordance with and subject to, prevailing law  of . Any use of the above terminology or other words in the singular, plural,  capitalisation and/or he/she or they, are taken as interchangeable and therefore as referring to same.Cookies  We employ the use of cookies. By using Travelroo's website you consent to the use of cookies  in accordance with Travelroo\u2019s privacy policy.Most of the modern day interactive web sites  use cookies to enable us to retrieve user details for each visit. Cookies are used in some areas of our site  to enable the functionality of this area and ease of use for those people visiting. Some of our  affiliate / advertising partners may also use cookies.License  Unless otherwise stated, Travelroo and/or it\u2019s licensors own the intellectual property rights for  all material on Travelroo. All intellectual property rights are reserved. You may view and/or print  pages from http://travelroo.io for your own personal use subject to restrictions set in these terms and conditions.  You must not:"),r.a.createElement("p",null," Republish material from http://travelroo.io  Sell, rent or sub-license material from http://travelroo.io  Reproduce, duplicate or copy material from http://travelroo.io"),r.a.createElement("p",null," Redistribute content from Travelroo (unless content is specifically made for redistribution). Hyperlinking to our Content"),r.a.createElement("p",null," The following organizations may link to our Web site without prior written approval:"),r.a.createElement("p",null," Government agencies;  Search engines;  News organizations;  Online directory distributors when they list us in the directory may link to our Web site in the same  manner as they hyperlink to the Web sites of other listed businesses; and  Systemwide Accredited Businesses except soliciting non-profit organizations, charity shopping malls,  and charity fundraising groups which may not hyperlink to our Web site."),r.a.createElement("p",null,"  These organizations may link to our home page, to publications or to other Web site information so long  as the link: (a) is not in any way misleading; (b) does not falsely imply sponsorship, endorsement or  approval of the linking party and its products or services; and (c) fits within the context of the linking  party's site."),r.a.createElement("p",null," We may consider and approve in our sole discretion other link requests from the following types of organizations:"),r.a.createElement("p",null," commonly-known consumer and/or business information sources such as Chambers of Commerce, American  Automobile Association, AARP and Consumers Union;  dot.com community sites;  associations or other groups representing charities, including charity giving sites,  online directory distributors;  internet portals;  accounting, law and consulting firms whose primary clients are businesses; and  educational institutions and trade associations."),r.a.createElement("p",null),r.a.createElement("p",null," We will approve link requests from these organizations if we determine that: (a) the link would not reflect  unfavorably on us or our accredited businesses (for example, trade associations or other organizations  representing inherently suspect types of business, such as work-at-home opportunities, shall not be allowed  to link); (b)the organization does not have an unsatisfactory record with us; (c) the benefit to us from  the visibility associated with the hyperlink outweighs the absence of ; and (d) where the  link is in the context of general resource information or is otherwise consistent with editorial content  in a newsletter or similar product furthering the mission of the organization."),r.a.createElement("p",null," These organizations may link to our home page, to publications or to other Web site information so long as  the link: (a) is not in any way misleading; (b) does not falsely imply sponsorship, endorsement or approval  of the linking party and it products or services; and (c) fits within the context of the linking party's  site."),r.a.createElement("p",null," If you are among the organizations listed in paragraph 2 above and are interested in linking to our website,  you must notify us by sending an e-mail to pete96@uw.edu.  Please include your name, your organization name, contact information (such as a phone number and/or e-mail  address) as well as the URL of your site, a list of any URLs from which you intend to link to our Web site,  and a list of the URL(s) on our site to which you would like to link. Allow 2-3 weeks for a response."),r.a.createElement("p",null," Approved organizations may hyperlink to our Web site as follows:"),r.a.createElement("p",null,"  By use of our corporate name; or  By use of the uniform resource locator (Web address) being linked to; or  By use of any other description of our Web site or material being linked to that makes sense within the  context and format of content on the linking party's site."),r.a.createElement("p",null," No use of Travelroo\u2019s logo or other artwork will be allowed for linking absent a trademark license  agreement. Iframes  Without prior approval and express written permission, you may not create frames around our Web pages or  use other techniques that alter in any way the visual presentation or appearance of our Web site. Reservation of Rights  We reserve the right at any time and in its sole discretion to request that you remove all links or any particular  link to our Web site. You agree to immediately remove all links to our Web site upon such request. We also  reserve the right to amend these terms and conditions and its linking policy at any time. By continuing  to link to our Web site, you agree to be bound to and abide by these linking terms and conditions. Removal of links from our website  If you find any link on our Web site or any linked web site objectionable for any reason, you may contact  us about this. We will consider requests to remove links but will have no obligation to do so or to respond  directly to you.  Whilst we endeavour to ensure that the information on this website is correct, we do not warrant its completeness  or accuracy; nor do we commit to ensuring that the website remains available or that the material on the  website is kept up to date. Content Liability  We shall have no responsibility or liability for any content appearing on your Web site. You agree to indemnify  and defend us against all claims arising out of or based upon your Website. No link(s) may appear on any  page on your Web site or within any context containing content or materials that may be interpreted as  libelous, obscene or criminal, or which infringes, otherwise violates, or advocates the infringement or  other violation of, any third party rights. Disclaimer  To the maximum extent permitted by applicable law, we exclude all representations, warranties and conditions relating to our website and the use of this website (including, without limitation, any warranties implied by law in respect of satisfactory quality, fitness for purpose and/or the use of reasonable care and skill). Nothing in this disclaimer will:"),r.a.createElement("p",null," limit or exclude our or your liability for death or personal injury resulting from negligence;  limit or exclude our or your liability for fraud or fraudulent misrepresentation;  limit any of our or your liabilities in any way that is not permitted under applicable law; or  exclude any of our or your liabilities that may not be excluded under applicable law."),r.a.createElement("p",null," The limitations and exclusions of liability set out in this Section and elsewhere in this disclaimer: (a)  are subject to the preceding paragraph; and (b) govern all liabilities arising under the disclaimer or  in relation to the subject matter of this disclaimer, including liabilities arising in contract, in tort  (including negligence) and for breach of statutory duty.  To the extent that the website and the information and services on the website are provided free of charge,  we will not be liable for any loss or damage of any nature."),r.a.createElement("p",null," Credit & Contact Information  This Terms and conditions page was created at termsandconditionstemplate.com generator. If you have  any queries regarding any of our terms, please contact us. ")))}}]),t}(a.Component),L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=Object(I.a)({},n.state.newUser);t[e.target.id]=e.target.value,n.setState({newUser:t})},n.handleSubmit=function(e){e.preventDefault(),n.props.signUpWithEmailAndPassword(n.state.newUser)},n.compareToFirstPassword=function(e,t,a){var r=n.props.form;t&&t!==r.getFieldValue("password")?a("Passwords do not match."):a()},n.state={termsModal:!1,confirmDirty:!1,autoCompleteResult:[],newUser:{password:null,passwordConf:null,email:null,username:null,name:null}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n={styles:{"margin-bottom":"15px"},labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},a={wrapperCol:{xs:{span:24}}};return r.a.createElement("div",null,r.a.createElement(S.a,{onClick:function(){return e.props.signInWithGoogle()},className:[A.btn1,A.btn].join(" "),shape:"round",type:"primary"},r.a.createElement(y.Icon,{size:14,className:A.icon,icon:E.google}),"Join with Google"),r.a.createElement(S.a,{onClick:function(){return e.props.signInWithFacebook()},shape:"round",type:"primary"},r.a.createElement(y.Icon,{size:14,className:A.icon,icon:E.facebook}),"Join with Facebook"),r.a.createElement("p",{className:A.divider},"- Or -"),this.props.authError&&r.a.createElement(w.a,{type:"error",message:this.props.authError.message,banner:!0}),r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Item,Object.assign({},n,{className:A.container,label:r.a.createElement("span",null,"Name")}),t("name",{rules:[{required:!0,message:"Please enter your name.",whitespace:!0}]})(r.a.createElement(C.a,{id:"name",onChange:this.handleChange}))),r.a.createElement(O.a.Item,Object.assign({},n,{className:A.container,label:"E-mail"}),t("email",{rules:[{type:"email",message:"Please enter a valid email."},{required:!0,message:"Please enter an email."}]})(r.a.createElement(C.a,{id:"email ",onChange:this.handleChange}))),r.a.createElement(O.a.Item,Object.assign({},n,{className:A.container,label:r.a.createElement("span",null,"Username\xa0",r.a.createElement(R.a,{title:"Public Username"},r.a.createElement(_.a,{type:"question-circle-o"})))}),t("username",{rules:[{required:!0,message:"Please enter a username.",whitespace:!0}]})(r.a.createElement(C.a,{id:"username ",onChange:this.handleChange}))),r.a.createElement(O.a.Item,Object.assign({},n,{className:A.container,label:"Password"}),t("password",{rules:[{required:!0,message:"Please enter a password."},{validator:this.validateToNextPassword}]})(r.a.createElement(C.a,{type:"password",id:"password ",onChange:this.handleChange}))),r.a.createElement(O.a.Item,Object.assign({},n,{className:A.container,label:"Confirm Password"}),t("passwordConfirm",{rules:[{required:!0,message:"Please confirm your password."},{validator:this.compareToFirstPassword}]})(r.a.createElement(C.a,{type:"password",onBlur:this.handleConfirmBlur,id:"passwordConfirm",onChange:this.handleChange}))),r.a.createElement(O.a.Item,a,t("agreement",{valuePropName:"checked"})(r.a.createElement(b.a,null,"I have read the ",r.a.createElement("a",{onClick:function(){return e.setState({termsModal:!0})}},"agreement")))),r.a.createElement(O.a.Item,a,r.a.createElement(S.a,{className:A.enter,type:"primary",htmlType:"submit"},"Register"),r.a.createElement(N.a,{to:"/login"},"Already a member?"))),r.a.createElement(P,{visible:this.state.termsModal,onClose:function(){return e.setState({termsModal:!1})}}))}}]),t}(a.Component),U=Object(j.b)(function(e){return{authError:e.auth.authError}},function(e){return{signUpWithEmailAndPassword:function(t){return e((n=t,function(e,t,a){var r=a.getFirebase,i=a.getFirestore,o=r(),s=i();o.auth().createUserWithEmailAndPassword(n.email,n.password).then(function(e){return s.collection("users").doc(e.user.uid).set({name:n.name,username:n.username})}).then(function(){e({type:"SIGNUP_SUCCESS"})}).catch(function(t){e({type:"SIGNUP_ERROR",err:t})})}));var n},signInWithGoogle:function(){return e(function(e,t,n){var a=n.getFirebase,r=n.getFirestore,i=a(),o=r(),s=new i.auth.GoogleAuthProvider;i.auth().signInWithPopup(s).then(function(e){return o.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})},signInWithFacebook:function(){return e(function(e,t,n){var a=n.getFirebase,r=n.getFirestore,i=a(),o=r(),s=new i.auth.FacebookAuthProvider;i.auth().signInWithPopup(s).then(function(e){return o.db.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})}}})(O.a.create()(L)),F=function(e){return r.a.createElement("svg",Object.assign({viewBox:"0 0 286 178"},e),r.a.createElement("path",{d:"M87.2 176.8l.9-3.2-3.9-.9c.2-1.8.5-3.5 1-5.2 1.5-4.1 2.3-9.1 5.1-12 4.4-4.6 5.9-9.9 6.7-15.6.6-4.9.7-9.9 1.1-14.9.3-4.3 2.1-7.1 6.8-7.7 1.9-.3 3.6-1.3 4.8-2.8 6.3-9.4 12.4-18.9 18.3-28.5 3.1-5.1 1.8-6.8-3.5-9.8-3.4-1.9-5.9-5.3-9.7-8.9-5.2 5.8-11.3 12.2-16.8 19.2-10.1 12.7-20.7 24.8-34 34.3-12.7 9.1-26.7 14-42.5 13.3-7.9-.4-14.9-3-19.8-10.8 1.5.2 2.5.1 3.2.5 9.3 5.5 18.8 4.6 28.3.7 16.9-6.9 31.5-18.5 42-33.5 9-12.7 18.5-25.3 26.1-38.9 9.4-16.8 23.9-26.3 40.9-33 7.3-2.8 14.8-5 22.4-6.5 9.8-2 19.2.9 28.2 4.4 8.1 3.2 15.9 7.5 23.9 11 4.8 2 9.8 4.3 14.8 4.7 3.7.3 8.2-1.6 11.4-3.8 6.9-4.7 11.7-11.4 15.5-18.9 1.5-3 4.4-5.2 6.6-7.8l1.7.8c.6 2.3 1.2 4.6 1.8 7l2.4-1.1 1.3.7c-1.3 3-2.4 6.2-4.1 9-1.4 2.3-1.2 3.7 1 4.8 9 4.4 10.5 14.5 15.8 21.6.5.6-2.2 4.7-4.2 5.8-1.7.9-4.8.5-6.6-.5-4-2.2-8.4-3.5-13-3.8-3.7-.2-5.9.4-8.2 3-3.9 4.5-7.4 9.7-12.1 13.1-5.2 3.8-11.6 6.1-17.4 9-.7.4-1.9.6-2.1 1.2-2.4 6.7-5.3 13.2-6.8 20.1s-10 15.8-17.4 16.2c-1.4.1-4.2-1.3-4.2-1.8.2-2.4.8-6.4 2-6.8 9.1-2.5 9.3-9.5 9.2-16.6 0-2.7-1.2-5.4-2-8.4h-26c-2.9 9.3-9.5 16.9-18.2 21.2-18.1 9.1-31.2 23.7-43.9 38.6-2.4 2.8-2.6 7.6-3.5 11.6-.7 2.7-1 5.6-.9 8.4.7 10.1-6.3 14.9-13.3 19.3-2.6 1.5-5.8 1.4-9.1 2.2z"}))},B=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={termsModal:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{type:"flex",justify:"space-around",align:"middle",style:{minHeight:"100%",maxHeight:"100%",overflowY:"scroll"}},r.a.createElement(f.a,{className:v.left,xs:0,sm:0,md:12,style:{minHeight:"100%",maxHeight:"100%",overflowY:"scroll"}},r.a.createElement(F,{className:v.overlay}),r.a.createElement(g.a,{style:{minHeight:"100%",maxHeight:"100%"},type:"flex",justify:"center",align:"middle"},r.a.createElement("div",{className:v.center},r.a.createElement("span",{className:v.leftText},r.a.createElement(y.Icon,{className:v.icon,size:32,icon:E.search}),"Discover where others have gone"),r.a.createElement("br",null),r.a.createElement("span",{className:v.leftText},r.a.createElement(y.Icon,{className:v.icon,size:32,icon:E.list}),"Build and customize your perfect itinerary"),r.a.createElement("br",null),r.a.createElement("span",{className:v.leftText},r.a.createElement(y.Icon,{className:v.icon,size:32,icon:E.group}),"Share it for the next traveler (if you want)")))),r.a.createElement(f.a,{className:v.right,xs:20,sm:20,md:12,style:{minHeight:"100%",maxHeight:"100%",overflowY:"scroll"}},r.a.createElement(g.a,{style:{minHeight:"100%",maxHeight:"100%"},type:"flex",justify:"center",align:"middle"},r.a.createElement(f.a,{xs:20,sm:20,md:16,lg:12},!this.props.isLogin&&r.a.createElement("div",null,r.a.createElement("h1",null,"See where the world is traveling."),r.a.createElement("h2",null,"Join Travelroo.io"),r.a.createElement(U,null)),this.props.isLogin&&r.a.createElement("div",null,r.a.createElement("h1",null,"See where the world is traveling."),r.a.createElement("h2",null,"Login to Travelroo.io"),r.a.createElement(T,null))))))}}]),t}(a.Component),M=(n(307),n(129)),V=(n(120),n(65)),W=n(42),G=n(74),Y=n(125),z=(n(308),n(106)),Q=n(45),H=n(508),q=n(75),J=n(43),K=n(509),X=n.n(K),Z={XS:480,SM:576,MD:768,LG:992,XL:1200,XXL:1600},$=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={class:"XS"},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"100%",height:"100%"},className:this.state.class},r.a.createElement(X.a,{onResize:function(t){var n=["XS"];Object.keys(Z).forEach(function(e){t.width>Z[e]&&n.push(e)}),e.setState({class:n[n.length-1]})}}),this.props.children)}}]),t}(a.Component),ee=n(269),te={name:"Untitled",location:[],tags:[],collection:{},collectionOrder:[]},ne={name:"Untitled"},ae=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},re=function(){return function(e,t,n){var a=n.getFirestore;e({type:"START_SAVING"});var r=t(),i=r.firebase,o=(r.edit,a());e({type:"CLEAR_STATE"});var s=o.collection("users").doc(i.auth.uid).collection("itineraries").doc();s.set(Object(I.a)({},te,{editedAt:o.FieldValue.serverTimestamp(),createdAt:o.FieldValue.serverTimestamp()})).then(function(){e({type:"NEW_ITIN_CREATED_SUCCESS",itinID:s.id,itinRef:s,meta:{transition:function(e,t,n){return{pathname:"/edit/"+s.id}}}})}).catch(function(t){e({type:"NEW_ITIN_CREATED_ERROR",e:t})})}},ie=function(){return function(e,t,n){var a=n.getFirestore;e({type:"START_SAVING"});var r=t(),i=a(),o=i.collection("users").doc(r.firebase.auth.uid).collection("itineraries").doc(r.edit.currentItinID),s=ae(),l=function(){var e=ae(),t={name:"Untitled",events:{},eventOrder:[]};return t.eventOrder.push(e),t.events[e]=Object(I.a)({},ne),t}();o.set({editedAt:i.FieldValue.serverTimestamp(),collection:Object(W.a)({},s,l),collectionOrder:a().FieldValue.arrayUnion(s)},{merge:!0}).then(function(){e({type:"NEW_COLLECTION_SUCCESS"})}).catch(function(t){return e({type:"NEW_COLLECTION_ERROR",e:t})})}},oe=function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=n(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({editedAt:o.FieldValue.serverTimestamp(),collection:Object(W.a)({},e,o.FieldValue.delete()),collectionOrder:o.FieldValue.arrayRemove(e)},{merge:!0}).then(function(){t({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){t({type:"ITIN_UPDATE_ERROR",e:e})})}},se=function(e,t){return function(n,a,r){var i=r.getFirestore;n({type:"START_SAVING"});var o=a(),s=i();s.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:s.FieldValue.serverTimestamp(),collection:Object(W.a)({},e,{events:Object(W.a)({},t,s.FieldValue.delete()),eventOrder:s.FieldValue.arrayRemove(t)})},{merge:!0}).then(function(){n({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){n({type:"ITIN_UPDATE_ERROR",e:e})})}},le=function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=r(),o=n();i.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:i.FieldValue.serverTimestamp(),collection:Object(W.a)({},o.edit.currentCollection,{eventOrder:e})},{merge:!0}).then(function(){t({type:"UPDATED_EVENTLIST_ORDER_SUCCESS"})}).catch(function(e){t({type:"UPDATED_EVENTLIST_ORDER_ERROR",e:e})})}},ce=function(e){return function(t,n,a){a.getFirestore;t({type:"UPDATE_COLLECTION_SELECTED_SUCCESS",collectionID:e})}},ue=function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=r(),o=n();i.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).update({editedAt:i.FieldValue.serverTimestamp(),collectionOrder:e}).then(function(){t({type:"UPDATED_COLLECTION_ORDER_SUCCESS"})}).catch(function(e){t({type:"UPDATED_COLLECTION_ORDER_ERROR",e:e})})}},pe=function(e,t){return function(n,a,r){r.getFirestore;n({type:"PREP_CURRENT_EVENT_EDITING",id:e,event:t})}},me=(n(248),n(126)),de=n(510),he=function(e){return function(t,n,a){var r=(0,a.getFirestore)().collection("publicItineraries"),i=null,o="";if("location"===e.type){var s=e.location;i=r.where("meta.locations."+s.address,"==",!0),o=s.address}else i=r.where("meta.user.displayName",">=",e.user),o=e.user;t({type:"QUERY_LOADING"}),i.limit(15).get().then(function(e){var n=[];e.docs.forEach(function(e){n.push(Object(I.a)({},e.data(),{id:e.id}))});var a=e.docs.length>=15?i.limit(15).startAfter(e):null;t({type:"QUERY_SUCCESS",lastSnapshot:e,nextQuery:a,formattedResults:n,currentQuery:o})}).catch(function(e){t({type:"QUERY_ERROR",err:e})})}},fe=function(e){return function(t,n,a){var r=(0,a.getFirestore)();new ee.GeoFirestore(r).collection("publicIndex").add(Object(I.a)({coordinates:new r.GeoPoint(e.lat,e.lng)},e)).then(function(){t({type:"PUBLIC_ADD_SUCCESS"})}).catch(function(e){t({type:"PUBLIC_ADD_ERROR"},e)})}},ge=(n(345),n(93)),ye=n(85),Ee=n.n(ye),ve=ge.a.Option,be=(C.a.Search,{types:["(cities)"]}),Oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState({input:e,location:null})},n.handleSelect=function(e){Object(ye.geocodeByAddress)(e).then(function(e){return Object(ye.getLatLng)(e[0])}).then(function(t){return n.setState({input:e,location:Object(I.a)({},t,{address:e})})}).catch(function(e){return console.error("Error",e)})},n.handleKeyDown=function(e){"Enter"===e.key&&n.handleSubmit()},n.handleSubmit=function(){if("location"===n.state.searchType)if(n.state.location)n.props.getPublicQueryResults({type:"location",location:n.state.location}),n.props.reroute&&n.props.history.push("/discover");else{var e="";Object(ye.geocodeByAddress)(n.state.input).then(function(t){Object(ye.getLatLng)(t[0]),e=t[0].formatted_address}).then(function(t){return n.setState({input:e,location:Object(I.a)({},t,{address:e})},function(){console.log(n.state),n.props.getPublicQueryResults({type:"location",location:n.state.location}),n.props.reroute&&n.props.history.push("/discover")})}).catch(function(e){return console.error("Error",e)})}else n.props.getPublicQueryResults({type:"user",user:n.state.input}),n.props.reroute&&n.props.history.push("/discover")},n.state={input:"",searchType:"location"},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(ge.a,{defaultValue:this.state.searchType,style:{width:100},onChange:function(t){return e.setState({searchType:t},function(){return console.log(e.state)})}},r.a.createElement(ve,{value:"location"},"Location"),r.a.createElement(ve,{value:"user"},"Users")),n={boxShadow:"0 12px 20px #d8e0e6",border:"solid 1px #e8e8e8",position:"absolute",zIndex:2e3,width:"100%"},a={boxShadow:"none",border:"none",position:"absolute",zIndex:2e3,width:"100%"};return r.a.createElement(Ee.a,{value:this.state.input,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:be,debounce:350},function(i){var o=i.getInputProps,s=i.suggestions,l=i.getSuggestionItemProps,c=i.loading;return r.a.createElement("div",null,r.a.createElement(g.a,{type:"flex",justify:"start",align:"middle"},r.a.createElement(f.a,{style:{display:"inline-flex",flexGrow:1}},r.a.createElement(C.a,Object.assign({},o({placeholder:"Search Places ...",className:"location-search-input"}),{onKeyDown:e.handleKeyDown,value:e.state.input,addonBefore:t,placeholder:"location"===e.state.searchType?"Search Locations":"Seach Users"}))),r.a.createElement(f.a,{style:{display:"inline-flex"}},r.a.createElement(S.a,{style:{display:"inline"},disabled:!e.state.input,onClick:function(){return e.handleSubmit(e.state.location)},type:"primary",icon:"search"}))),"location"===e.state.searchType&&r.a.createElement("div",{className:"autocomplete-dropdown-container",style:c||s.length>0?n:a},c&&r.a.createElement("div",null,"Loading..."),s.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#e6f7ff",cursor:"pointer",padding:".5em",fontWeight:"bold"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:".5em"};return r.a.createElement("div",l(e,{className:t,style:n}),r.a.createElement("span",null,e.description))})))})}}]),t}(a.Component),Ce=Object(de.a)(Object(j.b)(null,function(e){return{getPublicQueryResults:function(t){return e(he(t))}}})(Oe)),_e=(n(346),n(115)),we=(n(165),n(28)),Se=n(280),Ie=(n(815),n(512)),je=n(511),Ne=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(we.b,{className:je.menuStyle},this.props.auth.displayName&&r.a.createElement(we.b.Item,{disabled:!0},"Signed In As: ",this.props.auth.displayName),r.a.createElement(we.b.Item,null,r.a.createElement(_.a,{type:"user"}),"Profile"),r.a.createElement(we.b.Item,null,r.a.createElement(_.a,{type:"setting"}),"Settings"),r.a.createElement(we.b.Item,{onClick:function(){return e.props.signOut()}},r.a.createElement(_.a,{type:"logout"}),"Sign Out"));return r.a.createElement(Ie.a,{content:t,placement:"bottomRight"},this.props.children)}}]),t}(a.Component),ke=Object(j.b)(null,function(e){return{signOut:function(){return e(function(e,t,n){(0,n.getFirebase)().auth().signOut().then(function(){e({type:"RESET_APP"}),e({type:"SIGNOUT_SUCCESS"})}).catch(function(t){e({type:"SIGNOUT_ERROR"})})})}}})(Ne),xe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,!this.props.sider&&r.a.createElement(we.b,{selectable:!1,className:this.props.sider?Se.menuSider:Se.menu,mode:this.props.sider?"vertical":"horizontal"},r.a.createElement(we.b.Item,{key:"1",onClick:function(){return e.props.createNewItinerary()}},r.a.createElement(_.a,{type:"plus",style:{marginRight:"0px"}})),r.a.createElement(we.b.Item,{key:"2"},r.a.createElement(N.a,{to:"/discover"},"Discover")),r.a.createElement(we.b.Item,{key:"3"},r.a.createElement(N.a,{to:"/feed"},"Following")),r.a.createElement(ke,{auth:this.props.auth},r.a.createElement(N.a,{to:"/profile",style:{marginRight:"0px"}},this.props.auth.photoURL&&r.a.createElement(_e.a,{src:this.props.auth.photoURL}),!this.props.auth.photoURL&&r.a.createElement(_e.a,{style:{marginRight:"0px"},icon:"user"})))),this.props.sider&&r.a.createElement(we.b,{selectable:!1,className:Se.menuSider,mode:"vertical"},r.a.createElement(N.a,{to:"/profile"},r.a.createElement(g.a,{style:{marginLeft:"14px"},type:"flex",justify:"left",align:"middle"},r.a.createElement(f.a,null,this.props.auth.photoURL&&r.a.createElement(_e.a,{src:this.props.auth.photoURL}),!this.props.auth.photoURL&&r.a.createElement(_e.a,{style:{marginRight:"0px"},icon:"user"})),r.a.createElement(f.a,{style:{marginLeft:"14px"}},this.props.auth.displayName))),r.a.createElement(we.b.Item,{key:"2"},r.a.createElement(N.a,{to:"/discover"},"Discover")),r.a.createElement(we.b.Item,{key:"3"},r.a.createElement(N.a,{to:"/feed"},"Following")),r.a.createElement(we.b.Item,{key:"1",onClick:function(){return e.props.createNewItinerary()}},r.a.createElement(_.a,{type:"plus",style:{marginRight:"0px"}}))))}}]),t}(a.Component),Te=Object(j.b)(null,function(e){return{createNewItinerary:function(){return e(re())}}})(xe),Re=n(116),Ae=n(513),De=n.n(Ae),Pe=n(372),Le=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(we.b,{selectable:!1,className:this.props.sider?Pe.menuSider:Pe.menu,mode:this.props.sider?"vertical":"horizontal"},r.a.createElement(we.b.Item,{key:"mail"},r.a.createElement(N.a,{to:"/login"},"Login")),r.a.createElement(we.b.Item,{key:"app"},r.a.createElement(N.a,{to:"/signup"},"Signup")))}}]),t}(a.Component),Ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={current:"mail",visible:!1},n.showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:Re.menuBar},r.a.createElement(g.a,{type:"flex",justify:"start",align:"middle"},r.a.createElement(f.a,{style:{display:"inline-flex"}},r.a.createElement("div",{className:Re.logo},r.a.createElement(N.a,{to:this.props.auth.uid?"/home":"/",className:Re.logoText},r.a.createElement("img",{src:De.a,className:Re.logoIcon,alt:"Travelroo Logo"}),"Travelroo"))),r.a.createElement(f.a,{className:Re.searchContainer,sm:0,xs:0,md:1,style:{maxWidth:"40%",flexGrow:1}},r.a.createElement(Ce,{reroute:!0})),r.a.createElement(f.a,{style:{display:"inline-flex",marginLeft:"auto"}},r.a.createElement(g.a,null,r.a.createElement(f.a,{sm:0,xs:0,md:24,lg:24,xl:24,className:Re.menuCon},!this.props.auth.uid&&r.a.createElement(Le,null),this.props.auth.uid&&r.a.createElement(Te,{auth:this.props.auth})),r.a.createElement(f.a,{sm:24,xs:24,md:0,className:Re.menuCon},r.a.createElement(S.a,{onClick:function(){return e.showDrawer()},className:Re.iconButton},r.a.createElement(_.a,{type:"menu-fold"}))),r.a.createElement(me.a,{title:"Travelroo.io",placement:"right",closable:!1,onClose:function(){return e.onClose()},visible:this.state.visible,style:{zIndex:3e3}},!this.props.auth.uid&&r.a.createElement(Le,{sider:!0}),this.props.auth.uid&&r.a.createElement(Te,{auth:this.props.auth,sider:!0}))))))}}]),t}(a.Component),Fe=Object(de.a)(Object(j.b)(function(e){return{auth:e.firebase.auth}},function(e){return{getPublicQueryResults:function(t){return e(he(t))}}})(Ue)),Be=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{zIndex:999,position:"fixed",width:"100%",top:0,background:"#ffff"}},r.a.createElement(Fe,null))}}]),t}(a.Component),Me=(n(467),n(185)),Ve=function(e){return function(t,n,a){(0,a.getFirestore)().collection("publicItineraries").doc(e).get().then(function(n){if(n.exists){var a=n.data();a.id=e,t({type:"LOAD_ITINERARY_TO_VIEW",itinerary:a,currentCollectionId:a.collectionOrder[0]})}else t({type:"VIEW_ERROR",e:"Itinerary Does Not Exist"})}).catch(function(e){t({type:"VIEW_ERROR",e:e})})}},We=n(41),Ge=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},Ye=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},ze=(n(110),n(52)),Qe=n(273),He=n.n(Qe),qe={types:["establishment"],fields:["place_id","name"]},Je=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState({address:e,selected:!1})},n.handleSelect=function(e){n.setState({address:e.description,selected:!0}),Object(ye.geocodeByPlaceId)(e.placeId).then(function(e){return Object(ye.getLatLng)(e[0])}).then(function(t){return n.props.onSelect(Object(I.a)({},e,t))}).catch(function(e){return console.error("Error",e)})},n.state={address:n.props.value},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={boxShadow:"0 12px 20px #d8e0e6",border:"solid 1px #e8e8e8",position:"absolute",zIndex:2e3,width:"100%"},n={boxShadow:"none",border:"none",position:"absolute",zIndex:2e3,width:"100%"};return r.a.createElement(Ee.a,{value:this.state.address,onChange:this.handleChange,searchOptions:qe,debounce:350},function(a){var i=a.getInputProps,o=a.suggestions,s=a.getSuggestionItemProps,l=a.loading;return r.a.createElement("div",null,r.a.createElement(C.a,Object.assign({},i({placeholder:"Search Places ...",className:"location-search-input"}),{placeholder:"Location",allowClear:!0})),r.a.createElement("div",{className:"autocomplete-dropdown-container",style:l||o.length>0?t:n},l&&r.a.createElement("div",null,"Loading..."),!e.state.selected&&o.map(function(t){var n=t.active?"suggestion-item--active":"suggestion-item",a=t.active?{backgroundColor:"#e6f7ff",cursor:"pointer",padding:".5em",fontWeight:"bold"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:".5em"};return r.a.createElement("div",Object.assign({},s(t,{className:n,style:a}),{onClick:function(){return e.handleSelect(t)}}),r.a.createElement("span",null,t.description))})))})}}]),t}(a.Component),Ke=(n(999),n(554)),Xe=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleCancel=function(){return n.setState({previewVisible:!1})},n.handlePreview=function(e){n.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},n.updateFileState=function(e,t,a,r,i){var o=Object(We.a)(n.state.fileList),s=n.state.fileList.findIndex(function(t){return t.uid===e.uid}),l=Object(I.a)({},n.state.fileList[s]);l.percent=t?parseFloat(t):parseFloat(l.percent),l.status=a||l.status,l.url=r||l.url,o[s]=l,n.setState({fileList:o},function(){if(i){var e=Object(We.a)(n.state.fileList);n.props.handleUpdate(e.map(function(e){return{url:e.url,name:e.name,uid:e.uid,status:e.status}}))}})},n.handleUpload=function(e){var t=n.props.firebase.storage().ref().child(n.props.auth.uid).child("images/"+Ge()).put(e.file),a=Object(G.a)(n);t.on("state_changed",function(t){var n=Math.round(t.bytesTransferred/t.totalBytes*100).toFixed(2);a.updateFileState(e.file,n,null,null,null,!1)},function(e){},function(){t.snapshot.ref.getDownloadURL().then(function(t){a.updateFileState(e.file,null,"done",t,!0)})})},n.handleChange=function(e){var t=e.fileList;return n.setState({fileList:t})};var a=[];return n.props.fileList.forEach(function(e){return a.push(Object(I.a)({},e))}),n.state={previewVisible:!1,previewImage:"",fileList:a},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,n=e.previewImage,a=e.fileList,i=r.a.createElement("div",null,r.a.createElement(_.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload"));return r.a.createElement("div",{className:"clearfix"},r.a.createElement(Ke.a,{action:"//jsonplaceholder.typicode.com/posts/",listType:"picture-card",fileList:a,onPreview:this.handlePreview,onChange:this.handleChange,customRequest:this.handleUpload},a.length>=3?null:i),r.a.createElement(D.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:n})))}}]),t}(a.Component),Ze=Object(J.d)(q.withFirebase,Object(j.b)(function(e){return{auth:e.firebase.auth}},null))(Xe),$e=n(54),et=(n(166),n(87)),tt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tags:n.props.tags?n.props.tags:[],inputVisible:!1,inputValue:""},n.handleClose=function(e){var t=n.state.tags.filter(function(t){return t!==e});n.setState({tags:t},function(){return n.props.handleTagChange(t)})},n.showInput=function(){n.setState({inputVisible:!0},function(){return n.input.focus()})},n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.handleInputConfirm=function(){var e=n.state,t=e.inputValue,a=e.tags;t&&-1===a.indexOf(t)&&(a=[].concat(Object(We.a)(a),[t])),n.setState({tags:a,inputVisible:!1,inputValue:""},function(){return n.props.handleTagChange(a)})},n.saveInputRef=function(e){return n.input=e},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.tags,a=t.inputVisible,i=t.inputValue;return r.a.createElement("div",null,n.map(function(t,n){var a=t.length>20,i=r.a.createElement(et.a,{key:t,closable:!0,size:"large",color:"#1890ff",afterClose:function(){return e.handleClose(t)}},a?"".concat(t.slice(0,20).toUpperCase(),"..."):t.toUpperCase());return a?r.a.createElement(R.a,{title:t,key:t},i):i}),a&&r.a.createElement(C.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:i,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!a&&r.a.createElement(et.a,{size:"large",onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(_.a,{type:"plus"})," New Tag"))}}]),t}(a.Component),nt=D.a.confirm,at=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlePictureChange=function(e){n.setState({item:Object(I.a)({},n.state.item,{images:e})},function(){return n.props.updateCurrentEvent(n.state.item)})},n.handleNameChange=function(e){n.setState({item:Object(I.a)({},n.state.item,{name:e.target.value})},function(){return n.props.updateCurrentEvent(n.state.item)})},n.handleTagChange=function(e){n.setState({item:Object(I.a)({},n.state.item,{tags:e})},function(){return n.props.updateCurrentEvent(n.state.item)})},n.handleLocationChange=function(e){n.setState({item:Object(I.a)({},n.state.item,{location:{place_id:e.id,name:e.description,lat:e.lat,lng:e.lng}})},function(){return n.props.updateCurrentEvent(n.state.item)})},n.handleDetailChange=function(e){n.setState({item:Object(I.a)({},n.state.item,{description:e})},function(){return n.props.updateCurrentEvent(n.state.item)})},n.updateMenuState=function(e){var t,a=Object(We.a)(n.state.selected),r=n.state.selected.indexOf(e);-1===r?a.push(e):a=(t=Object(We.a)(n.state.selected.slice(0,r))).concat.apply(t,Object(We.a)(n.state.selected.slice(r+1)));n.setState({selected:a})},n.onMenuClick=function(e){switch(e){case"location":n.state.item.location?n.showConfirm("Remove location from event?",e):n.updateMenuState(e);break;case"description":n.state.item.description?n.showConfirm("Remove notes from event?",e):n.updateMenuState(e);break;case"images":n.state.item.images?n.showConfirm("Remove image(s) from event?",e):n.updateMenuState(e);break;case"tags":n.state.item.tags?n.showConfirm("Remove tag(s) from event?",e):n.updateMenuState(e)}},n.showConfirm=function(e,t){var a=Object(G.a)(n);nt({title:e,okText:"Yes",cancelText:"No",onOk:function(){var e=Object(I.a)({},a.state.item);delete e[t],a.setState({item:e},function(){a.props.updateCurrentEvent(a.state.item),a.updateMenuState(t)})},onCancel:function(){return!1}})},n.onDeleteClick=function(e){var t=Object(G.a)(n);nt({title:"Are you sure you want to delete this event?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteEventFromCollection(t.props.collectionID,e)},onCancel:function(){return!1}})},n.state={text:"",selected:["location","description","tags","images"],location:!0,note:!0,picture:!0,tag:!0,item:Object(I.a)({},e.item)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.item&&e.item!==this.state.item&&this.setState({item:e.item},function(){return t.props.updateCurrentEvent(t.state.item)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,{type:"flex",justify:"space-between",style:{alignItems:"flex-start"}},r.a.createElement(f.a,{span:1,style:{flexGrow:1}},r.a.createElement(ze.a,{className:$e.cardEdit,style:{minHeight:294},bordered:!1},r.a.createElement("input",{value:this.state.item.name,onChange:this.handleNameChange,className:$e.titleInput}),this.state.selected.includes("location")&&r.a.createElement(g.a,{className:$e.section,type:"flex",align:"middle",justify:"start"},r.a.createElement(f.a,{span:1},r.a.createElement(_.a,{type:"environment"})),r.a.createElement(f.a,{span:23},r.a.createElement(Je,{value:this.state.item&&this.state.item.location&&this.state.item.location.name?this.state.item.location.name:"",onSelect:function(t){return e.handleLocationChange(t)},style:{display:"inline"}}))),this.state.selected.includes("description")&&r.a.createElement("div",{className:$e.section},r.a.createElement(He.a,{style:{height:"300px",paddingTop:"20px",paddingBottom:"50px"},value:this.state.item.description?this.state.item.description:"",onChange:this.handleDetailChange})),this.state.selected.includes("images")&&r.a.createElement("div",{className:$e.section},r.a.createElement(Ze,{fileList:this.state.item&&this.state.item.images?this.state.item.images:[],handleUpdate:function(t){return e.handlePictureChange(t)}})),this.state.selected.includes("tags")&&r.a.createElement("div",{className:$e.section},r.a.createElement(tt,{tags:this.state.item&&this.state.item.tags?this.state.item.tags:[],handleTagChange:function(t){return e.handleTagChange(t)}})))),r.a.createElement(f.a,{style:{minWidth:"30px"}},r.a.createElement("div",{style:{paddingLeft:10}},r.a.createElement(g.a,{style:{marginBottom:10},className:$e.cardEdit},r.a.createElement(we.b,{theme:"dark",mode:"inline",selectable:!1,style:{borderRight:0,backgroundColor:"white"}},r.a.createElement(we.b.Item,{style:{color:"red"},onClick:function(){return e.onDeleteClick(e.props.id)}},r.a.createElement(_.a,{type:"close"})))),r.a.createElement(g.a,{className:$e.cardEdit},r.a.createElement(we.b,{theme:"dark",selectedKeys:this.state.selected,mode:"inline",multiple:!0,className:$e.menu,style:{borderRight:0,backgroundColor:"white"}},r.a.createElement(we.b.Item,{key:"location",style:{margin:0,color:this.state.selected.includes("location")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("location")}},r.a.createElement(_.a,{type:"pushpin"})),r.a.createElement(we.b.Item,{key:"description",style:{margin:0,color:this.state.selected.includes("description")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("description")}},r.a.createElement(_.a,{type:"file-text"})),r.a.createElement(we.b.Item,{key:"images",style:{margin:0,color:this.state.selected.includes("images")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("images")}},r.a.createElement(_.a,{type:"picture"})),r.a.createElement(we.b.Item,{key:"tags",style:{margin:0,color:this.state.selected.includes("tags")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("tags")}},r.a.createElement(_.a,{type:"tag"})))),r.a.createElement(g.a,{style:{marginTop:10},className:$e.cardEdit},r.a.createElement(we.b,{theme:"dark",mode:"inline",selectable:!1,style:{borderRight:0,backgroundColor:"#1890ff"}},r.a.createElement(we.b.Item,{style:{color:"white"},onClick:function(){return e.props.saveCurrentEventEdit()}},r.a.createElement(_.a,{type:"check"}))))))))}}]),t}(a.Component),rt=Object(j.b)(function(e){return{collectionID:e.edit.currentCollection}},function(e){return{updateCurrentEvent:function(t){return e(function(e){return function(t,n,a){a.getFirestore,t({type:"UPDATE_CURRENT_EVENT_EDITING",event:e})}}(t))},saveCurrentEventEdit:function(){return e(function(e,t,n){var a=n.getFirestore;e({type:"START_SAVING"});var r=t();if(r.edit.currentEventEditing){var i=a(),o=i.collection("users").doc(r.firebase.auth.uid).collection("itineraries").doc(r.edit.currentItinID);JSON.stringify(r.edit.currentEventEditing)!==JSON.stringify(r.edit.currentEventInitial)?o.set({editedAt:i.FieldValue.serverTimestamp(),collection:Object(W.a)({},r.edit.currentCollection,{events:Object(W.a)({},r.edit.editEventID,r.edit.currentEventEditing)})},{merge:!0}).then(function(){e({type:"CURRENT_EVENT_SAVED_SUCCESS"})}).catch(function(t){e({type:"CURRENT_EVENT_SAVED_ERROR",e:t})}):e({type:"CLOSE_EVENT_EDITING"})}else e({type:"EVENT_SETUP_ERROR"})})},deleteEventFromCollection:function(t,n){return e(se(t,n))}}})(at),it=n(276),ot=(n(477),n(217)),st=ot.a.Text,lt=ot.a.Paragraph,ct=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getHoursInOrder=function(){if(n.state.place.opening_hours&&n.state.place.opening_hours.weekday_text){var e=(new Date).getDay()-1,t=Object(We.a)(n.state.place.opening_hours.weekday_text);return t.slice(e,t.length).concat(t.slice(0,e))}return null},n.state={place:null},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.props.placeId},function(t,n){n===window.google.maps.places.PlacesServiceStatus.OK&&e.setState({place:t})})}},{key:"render",value:function(){console.log(this.props);var e=this.state.place&&this.state.place.photos?this.state.place.photos.map(function(e){return e.getUrl()}):[];return r.a.createElement("div",null,!this.state.place&&r.a.createElement(V.a,null),this.state.place&&console.log(this.state.place),this.state.place&&r.a.createElement("div",null,this.state.place.website&&r.a.createElement("div",{style:{marginTop:"3px"}},r.a.createElement(_.a,{type:"global",style:{marginRight:"10px"}}),r.a.createElement("a",{href:this.state.place.website,target:"_blank"},this.state.place.website)),this.state.place.formatted_phone_number&&r.a.createElement("div",{style:{marginTop:"3px"}},r.a.createElement(_.a,{type:"phone",style:{marginRight:"10px"}}),this.state.place.formatted_phone_number),this.state.place.opening_hours&&this.state.place.opening_hours.weekday_text&&r.a.createElement("div",{style:{marginTop:"3px"}},r.a.createElement(g.a,{type:"flex",justify:"start"},r.a.createElement(f.a,{style:{marginRight:"10px"}},r.a.createElement(st,{strong:!0},"Hours:")),r.a.createElement(f.a,null,this.state.place.opening_hours&&this.state.place.opening_hours.open_now&&r.a.createElement(st,{style:{color:this.state.place.opening_hours.open_now?"green":"red"}},this.state.place.opening_hours.open_now?"Open Now":"Closed"),r.a.createElement(lt,{ellipsis:{rows:2,expandable:!0}},this.getHoursInOrder().map(function(e){return r.a.createElement(st,null,e,r.a.createElement("br",null))}))))),e.length>0&&r.a.createElement("div",null,r.a.createElement(it.a,{images:e}))))}}]),t}(a.Component),ut=D.a.confirm,pt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onDeleteClick=function(e){var t=Object(G.a)(n);ut({title:"Are you sure you want to delete this event?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteEventFromCollection(t.props.collectionID,e)},onCancel:function(){return!1}})},n.state={details:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item&&this.props.item.images?this.props.item.images.map(function(e){return e.url}):[],n=this.props.item&&this.props.item.tags?this.props.item.tags.map(function(e,t){return r.a.createElement(et.a,{key:t,className:$e.tagStyle,color:"#1890ff"},e.toUpperCase())}):[];return console.log(this.props.item),r.a.createElement(ze.a,{className:$e.card,bordered:!1},!this.props.viewOnly&&r.a.createElement("div",{className:$e.hidden},r.a.createElement(S.a,{type:"danger",shape:"circle",icon:"close",onClick:function(){return e.onDeleteClick(e.props.id)}})),r.a.createElement(g.a,{type:"flex",justify:"start"},r.a.createElement(f.a,{onClick:function(){return e.props.click()},style:{flexGrow:1},span:t.length>0?16:24},this.props.item&&this.props.item.name&&r.a.createElement("p",{className:$e.itemTitle},this.props.item.name),(!this.props.item||!this.props.item.name)&&r.a.createElement("p",{className:$e.itemTitle},"Untitled"),this.props.item&&this.props.item.location&&r.a.createElement("div",{className:$e.section},r.a.createElement(_.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},this.props.item.location.name)),this.props.item&&this.props.item.description&&r.a.createElement("div",{className:$e.section},r.a.createElement("h3",null,"Notes:"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.item.description}})),n.length>0&&r.a.createElement("div",{className:$e.section},n)),t.length>0&&r.a.createElement(f.a,{span:8},r.a.createElement("div",{className:$e.gallery},r.a.createElement(it.a,{images:t})))),r.a.createElement(g.a,null,!this.state.details&&this.props.item&&this.props.item.location&&this.props.item.location.place_id&&r.a.createElement("a",{onClick:function(){return e.setState({details:!0})}},"See More"),this.state.details&&r.a.createElement(ct,{placeId:this.props.item.location.place_id}),this.state.details&&r.a.createElement("a",{onClick:function(){return e.setState({details:!1})}},"Hide Details")))}}]),t}(a.Component),mt=Object(j.b)(function(e){return{collectionID:e.edit.currentCollection}},function(e){return{deleteEventFromCollection:function(t,n){return e(se(t,n))}}})(pt),dt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,!this.props.editing&&r.a.createElement(mt,{click:function(){return e.props.click()},viewOnly:this.props.viewOnly,item:this.props.item,id:this.props.id}),this.props.editing&&r.a.createElement(rt,{item:this.props.item,id:this.props.id}))}}]),t}(a.Component),ht=n(521),ft=n(103),gt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).addSectionClick=function(e){var t=Ge(),a=Object(I.a)({},n.props.items,Object(W.a)({},t,{id:t}));if(e){var r=n.props.eventOrder.indexOf(e),i=Object(We.a)(n.props.eventOrder).slice(0,r+1).concat([t]).concat(Object(We.a)(n.props.eventOrder).slice(r+1));n.setState({eventOrder:i,events:a},function(){return n.props.addNewEventToCurrentCollection(t,i)})}else n.setState({eventOrder:[t],events:a},function(){return n.props.addNewEventToCurrentCollection(t,[t])})},n.onClick=function(e){n.setState({editing:e})},n.state={events:e.collection&&e.collection.events?e.collection.events:{},eventOrder:e.collection&&e.collection.eventOrder?e.collection.eventOrder:[],editing:null,dragging:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){!e.collection||e.collection.events===this.props.events&&e.collection.eventOrder===this.props.eventOrder||this.setState({events:e.collection.events,eventOrder:e.collection.eventOrder})}},{key:"render",value:function(){var e=this;return r.a.createElement(Q.c,{droppableId:this.props.viewOnly?"viewPanel":"editPanel",isDropDisabled:this.props.viewOnly},function(t,n){return r.a.createElement("div",{style:{width:"100%",minHeight:"95%"},ref:t.innerRef,className:"ant-timeline"},e.props.collectionID&&e.props.eventOrder.length<1&&r.a.createElement("div",{style:{textAlign:"center",marginTop:"25vh"}},r.a.createElement("h1",null,"Nothing's Planned Yet, Start Building!"),r.a.createElement("div",{onClick:function(){return e.addSectionClick()}},r.a.createElement(M.a,{style:{marginTop:5,marginBottom:5}},r.a.createElement(S.a,{type:"primary",size:"small",shape:"circle",icon:"plus"})))),r.a.createElement(ft.a,{type:["bottom"],duration:[450,0],interval:[100,0]},e.props.eventOrder&&e.props.eventOrder.map(function(t,n){return r.a.createElement(Q.b,{key:e.props.viewOnly?t+"-view":t,draggableId:e.props.viewOnly?t+"-view":t,index:n,type:"DEFAULT"},function(a,i){return r.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),r.a.createElement("li",{className:e.props.eventOrder.length-1===n?"ant-timeline-item ant-timeline-item-last":"ant-timeline-item",style:{padding:0}},!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-tail"}),!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue"}),r.a.createElement("div",{className:"ant-timeline-item-content"},r.a.createElement("div",null,r.a.createElement(dt,{click:function(){e.props.editing===t||e.props.viewOnly||e.props.prepCurrentEventEdit(t,e.props.events[t])},viewOnly:e.props.viewOnly,editing:e.props.editing===t,item:e.props.events[t],id:t})),!e.props.viewOnly&&r.a.createElement("div",{onClick:function(){return e.addSectionClick(t)},className:ht.addSection},r.a.createElement(M.a,{style:{marginTop:5,marginBottom:5}},r.a.createElement(S.a,{type:"primary",size:"small",shape:"circle",icon:"plus"}))),e.props.viewOnly&&r.a.createElement("div",{style:{height:25}}))))})})),t.placeholder)})}}]),t}(a.Component),yt=Object(j.b)(function(e){return{editing:e.edit.editEventID}},function(e){return{addNewEventToCurrentCollection:function(t,n){return e(function(e,t){return function(n,a,r){var i=r.getFirestore;n({type:"START_SAVING"});var o=a(),s=i();s.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:s.FieldValue.serverTimestamp(),collection:Object(W.a)({},o.edit.currentCollection,{events:Object(W.a)({},e,ne),eventOrder:t})},{merge:!0}).then(function(){n({type:"NEW_EVENT_SUCCESS",id:e,event:ne})}).catch(function(e){n({type:"NEW_EVENT_ERROR",e:e})})}}(t,n))},updateEventOrder:function(t){return e(le(t))},prepCurrentEventEdit:function(t,n){return e(pe(t,n))}}})(gt),Et=(n(348),n(178)),vt=n(131),bt=ot.a.Paragraph,Ot=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.itinerary.location.map(function(t,n){return r.a.createElement("span",{key:n},n+1!==e.props.itinerary.location.length?t.name+" | ":t.name)});return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h1",null,this.props.itinerary.name?this.props.itinerary.name:"Untitled"),r.a.createElement(g.a,{className:vt.section},r.a.createElement(Et.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.itinerary&&this.props.itinerary.rating?parseFloat((Math.round(2*this.props.itin.rating)/2).toFixed(1)):0,style:{fontSize:15}}),(!this.props.itinerary||!this.props.itinerary.rating)&&r.a.createElement("span",{className:vt.noReviews},"(No Reviews)"),this.props.itinerary&&this.props.itinerary.rating&&this.props.itinerary.ratingCount&&r.a.createElement("span",{className:vt.noReviews},"(",this.props.itin.ratingCount,")")),r.a.createElement(_.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},t),this.props.itinerary.description&&r.a.createElement(g.a,{className:vt.section},r.a.createElement(bt,{ellipsis:{rows:3,expandable:!0}},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.itinerary.description}}))))}}]),t}(a.Component),Ct=ge.a.Option,_t=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.updateCurrentCollectionViewing(e)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"100%",minWidth:"100%"}},this.props.itinerary&&r.a.createElement("div",{style:{width:"100%",minWidth:"100%"}},r.a.createElement(g.a,{type:"flex",align:"middle",justify:"center",className:vt.stickyBackMenu,style:{width:"100%",minWidth:"100%"}},r.a.createElement(f.a,{span:22},r.a.createElement("a",{onClick:function(){return e.props.onBack()}},r.a.createElement(_.a,{type:"left"}),r.a.createElement("span",null," Back")))),r.a.createElement(g.a,{type:"flex",align:"middle",justify:"center",style:{width:"100%",minWidth:"100%"}},r.a.createElement(f.a,{span:22},r.a.createElement(Ot,{itinerary:this.props.itinerary}))),r.a.createElement(g.a,{type:"flex",align:"middle",justify:"center",className:vt.stickySelect,style:{width:"100%",minWidth:"100%"}},r.a.createElement(f.a,{span:22},r.a.createElement(ge.a,{defaultValue:this.props.currentCollectionId,style:{width:"100%"},onChange:this.handleChange},this.props.itinerary.collectionOrder.map(function(t){return r.a.createElement(Ct,{key:t,value:t},e.props.itinerary.collection[t].name)})))),r.a.createElement(g.a,Object(W.a)({type:"flex",align:"middle",justify:"center",style:{marginTop:"1.5em"}},"style",{width:"100%",minWidth:"100%"}),r.a.createElement(f.a,{span:22},r.a.createElement(yt,{dragging:this.props.dragging,viewOnly:!0,events:this.props.itinerary.collection[this.props.currentCollectionId]?this.props.itinerary.collection[this.props.currentCollectionId].events:{},eventOrder:this.props.itinerary.collection[this.props.currentCollectionId]?this.props.itinerary.collection[this.props.currentCollectionId].eventOrder:[]})))),!this.props.itinerary&&r.a.createElement(V.a,null))}}]),t}(a.Component),wt=Object(j.b)(function(e,t){return Object(I.a)({},t,{itinerary:e.view.itinerary,currentCollectionId:e.view.currentCollectionId})},function(e){return{updateCurrentCollectionViewing:function(t){return e(function(e){return function(t,n,a){a.getFirestore,t({type:"UPDATE_COLLECTION_VIEWING",currentCollectionId:e})}}(t))}}})(_t),St=(n(859),n(555)),It=n(96),jt=ze.a.Meta,Nt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:It.item},r.a.createElement(ze.a,{loading:!0,style:{marginTop:20},cover:r.a.createElement("img",{alt:"example",src:"https://gradientjoy.com/300x200?id=135"})},r.a.createElement(St.a,{loading:!0,avatar:!0,active:!0},r.a.createElement(jt,{avatar:r.a.createElement(_e.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:"Card title",description:"This is the description"}))))}}]),t}(a.Component),kt=(n(349),n(175)),xt=(n(478),n(177)),Tt=n(525),Rt=ze.a.Meta,At=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(we.b,null,r.a.createElement(we.b.Item,null,r.a.createElement(_.a,{type:"alert"}),"Report Itinerary")),n=this.props.itin.tags?this.props.itin.tags.map(function(e){return r.a.createElement(et.a,{className:It.tagStyle,color:"#1890ff"},e.toUpperCase())}):[],a=r.a.createElement(xt.a,{overlay:t,placement:"bottomLeft"},r.a.createElement(_.a,{type:"ellipsis"})),i=this.props.itin.location.map(function(t,n){return r.a.createElement("span",{key:n},n+1!==e.props.itin.location.length?t.name+" | ":t.name)}),o=r.a.createElement(kt.a,{className:It.carousel,effect:"fade",afterChange:this.onChange},this.props.itin&&this.props.itin.meta.images&&this.props.itin.meta.images.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:It.img,alt:"example",src:e}))}));return r.a.createElement("div",{className:It.item},r.a.createElement(ze.a,{onClick:function(){return e.props.loadItineraryToState(e.props.itin.id)},style:{marginTop:"1em"},hoverable:!0,cover:this.props.itin.meta.images?o:null,actions:[r.a.createElement(_.a,{type:"heart"}),r.a.createElement(_.a,{type:"edit"}),a]},r.a.createElement(g.a,{className:It.ratingContainer},r.a.createElement(Et.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.itin.rating?parseFloat((Math.round(2*this.props.itin.rating)/2).toFixed(1)):0,style:{fontSize:15}}),!this.props.itin.rating&&r.a.createElement("span",{className:It.noReviews},"(No Reviews)"),this.props.itin.rating&&this.props.itin.ratingCount&&r.a.createElement("span",{className:It.noReviews},"(",this.props.itin.ratingCount,")")),r.a.createElement(g.a,null,r.a.createElement(Rt,{avatar:r.a.createElement(_e.a,{src:this.props.itin.meta.user.picture?this.props.itin.meta.user.picture:Tt.defaultAvatarImage}),title:this.props.itin.meta.name,description:i})),r.a.createElement(g.a,{className:It.cardContainer},n.slice(0,6))))}}]),t}(a.Component),Dt=Object(j.b)(null,function(e){return{loadItineraryToState:function(t){return e(Ve(t))},querySpecificPublicDocument:function(t){return e((n=t,function(e,t,a){var r=(0,a.getFirestore)().collection("publicItineraries");r.doc(n),e({type:"SPECIFIC_QUERY_LOADING"}),r.get().then(function(t){if(!t.exists)throw"Itinerary Not Found";e({type:"SPECIFIC_QUERY_SUCCESS",focused:t.data()})}).catch(function(t){e({type:"SPECIFIC_QUERY_ERROR",err:t})})}));var n}}})(At),Pt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){new Array(15).fill(15).map(function(e,t){return r.a.createElement(Nt,{key:t})});return console.log(this.props),r.a.createElement("div",{className:"masonry"},r.a.createElement(ft.a,{type:["bottom"],duration:[450,0],interval:[100,0]},this.props.itineraries&&this.props.itineraries.map(function(e){return r.a.createElement(Dt,{key:e.id,itin:e})}),!this.props.itineraries&&!this.props.loading&&this.props.resultList&&this.props.resultList.map(function(e){return r.a.createElement(Dt,{key:e.id,itin:e})}),!this.props.itineraries&&this.props.loading&&r.a.createElement(V.a,null)))}}]),t}(a.Component),Lt=Object(j.b)(function(e,t){return{resultList:e.query.formattedResults,loading:e.query.loading}},null)(Pt),Ut=n(526),Ft=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},n.handleDrawer=function(){n.setState({visible:!n.state.visible})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{gutter:12,className:Ut.menuContainer,type:"flex",justify:"start",align:"middle"},r.a.createElement(f.a,null,r.a.createElement(Mt,{type:"primary"},"Location")),r.a.createElement(f.a,null,r.a.createElement(Mt,{type:"primary"},"Trip Length")),r.a.createElement(f.a,null,r.a.createElement(Mt,{type:"primary"},"Outdoors")),r.a.createElement(f.a,null,r.a.createElement(Mt,{type:"primary"},"Food")),this.props.drawer&&r.a.createElement(f.a,null,r.a.createElement(S.a,{onClick:function(){return e.handleDrawer()},type:"default"},"More Tags...")),this.props.drawer&&r.a.createElement(Bt,{closeHandler:function(){return e.handleDrawer()},visible:this.state.visible}))}}]),t}(a.Component),Bt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Array(200).fill(200).map(function(e){return r.a.createElement(f.a,null,r.a.createElement(Mt,{margin:!0},"I'm A Tag"))});return r.a.createElement(me.a,{title:r.a.createElement(C.a,{placeholder:"Find Something Cool",allowClear:!0}),placement:"top",closable:!1,style:{top:"115px",overflowY:"auto"},onClose:function(){return e.props.closeHandler()},visible:this.props.visible},r.a.createElement("div",{style:{height:"143px",overflowX:"hidden",overflowY:"scroll"}},r.a.createElement(g.a,{gutter:12,type:"flex",justify:"start",align:"middle"},t)))}}]),t}(a.Component),Mt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={type:"default"},n.handleChange=function(){n.setState({type:"default"===n.state.type?"primary":"default"})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(S.a,Object.assign({style:{marginBottom:this.props.margin?"5px":"0px"}},this.props,{type:this.state.type,onClick:function(){return e.handleChange()}}))}}]),t}(r.a.Component),Vt=n(282),Wt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=new window.google.maps.LatLngBounds,n=(this.props.markers.map(function(e){var n=new window.google.maps.LatLng(e.lat,e.lng);return t.extend(n),n}),Object(Vt.withGoogleMap)(function(n){return r.a.createElement(Vt.GoogleMap,{defaultCenter:{lat:40.756795,lng:-73.954298},defaultZoom:13,ref:function(n){return n&&e.props.markers.length>0&&n.fitBounds(t)}},e.props.markers&&e.props.markers.map(function(e,t){return r.a.createElement(Vt.Marker,{key:t,position:{lat:e.lat,lng:e.lng}})}))}));return r.a.createElement(n,{containerElement:r.a.createElement("div",{style:{height:"100%",width:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}}]),t}(a.Component),Gt=n(153),Yt=(n(249),n(94)),zt={types:["(cities)"]},Qt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLocationChange=function(e){n.setState({location:e})},n.handleSelect=function(e){n.setState({location:e},function(){Object(ye.geocodeByAddress)(e).then(function(e){return Object(ye.getLatLng)(e[0])}).then(function(t){return n.props.handleLocationSelect(Object(I.a)({name:e},t))}).catch(function(e){return console.error("Error",e)})})},n.state={location:n.props.location&&n.props.location.name?n.props.location.name:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){JSON.stringify(e.location)!==JSON.stringify(this.props.location)&&this.setState({location:this.props.location&&this.props.location.name?this.props.location.name:""})}},{key:"render",value:function(){var e={boxShadow:"0 12px 20px #d8e0e6",border:"solid 1px #e8e8e8",zIndex:2e3,position:"absolute",width:"80%"},t={boxShadow:"none",border:"none",position:"absolute",width:"80%",zIndex:2e3};return r.a.createElement(Ee.a,{value:this.state.location,onChange:this.handleLocationChange,onSelect:this.handleSelect,searchOptions:zt,debounce:350},function(n){var a=n.getInputProps,i=n.suggestions,o=n.getSuggestionItemProps,s=n.loading;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(C.a,Object.assign({},a({placeholder:"Location",className:"location-search-input"}),{placeholder:"Location"})),r.a.createElement("div",{className:"autocomplete-dropdown-container",style:s||i.length>0?e:t},s&&r.a.createElement("div",null,"Loading..."),i.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#e6f7ff",cursor:"pointer",padding:".5em",fontWeight:"bold"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:".5em"};return r.a.createElement("div",o(e,{className:t,style:n}),r.a.createElement("span",null,e.description))})))})}}]),t}(a.Component),Ht=n(97),qt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={details:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(kt.a,{className:Ht.carousel,afterChange:this.onChange},this.props.result&&this.props.result.photos&&this.props.result.photos.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:Ht.img,alt:"example",src:e.getUrl()}))}));return r.a.createElement(ze.a,{className:Ht.card,bordered:!1,cover:this.props.result.photos&&this.props.result.photos.length>0?t:null},r.a.createElement(g.a,{type:"flex",justify:"start"},r.a.createElement(f.a,{style:{flexGrow:1}},r.a.createElement("div",null,r.a.createElement(Et.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.result.rating?parseFloat((Math.round(2*this.props.result.rating)/2).toFixed(1)):0,style:{fontSize:15}}),!this.props.result.rating&&r.a.createElement("span",{className:Ht.noReviews},"(No Reviews)"),this.props.result.rating&&this.props.result.user_ratings_total&&r.a.createElement("span",{className:Ht.noReviews},"(",this.props.result.user_ratings_total,")")),r.a.createElement("p",{className:Ht.itemTitle},this.props.result.name),this.props.result.formatted_address&&r.a.createElement("div",null,r.a.createElement(_.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},this.props.result.formatted_address)),this.props.result.html_attributions.length>0&&r.a.createElement("div",null,this.props.result.html_attributions.length))),r.a.createElement(g.a,{style:{marginTop:"10px"}},!this.state.details&&r.a.createElement("a",{onClick:function(){return e.setState({details:!0})}},"See More"),this.state.details&&r.a.createElement(ct,{placeId:this.props.result.place_id})))}}]),t}(a.Component),Jt=n(527),Kt=n.n(Jt),Xt=C.a.Search,Zt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).searchResults=function(){n.setState({loading:!0,results:[]},function(){var e={query:n.state.query};if(n.state.location){var t=new window.google.maps.LatLng({lat:n.state.location.lat,lng:n.state.location.lng});e.location=t}new window.google.maps.places.PlacesService(document.createElement("div")).textSearch(e,function(e,t,a){t===window.google.maps.places.PlacesServiceStatus.OK?n.setState({results:n.state.results.concat(e),loading:!1,pagination:a},function(){return n.props.updateSearchResults(n.state.results)}):n.setState({loading:!1})})})},n.handleLocation=function(e){n.setState({location:e})},n.onQueryChange=function(e){n.setState({query:e.target.value})},n.state={loading:!1,results:[],query:"",pagination:null,location:n.props.location?n.props.location[0]:null},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.setState({location:this.props.location?this.props.location[0]:null})}},{key:"render",value:function(){var e=this,t=this.state.results&&this.state.results.map(function(e,t){return r.a.createElement(Q.b,{draggableId:"search-"+t,index:t,key:"search-"+t},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement(qt,{result:e}))})});return r.a.createElement("div",null,r.a.createElement("div",{className:Ht.container},r.a.createElement(Xt,{className:Ht.input,onChange:this.onQueryChange,placeholder:"Search",onSearch:this.searchResults,enterButton:r.a.createElement(S.a,{type:"primary",size:"large",disabled:this.state.query.length<1,icon:"search"})}),r.a.createElement("div",{style:{marginTop:5}},r.a.createElement(Qt,{location:this.props.location?this.props.location[0]:null,handleLocationSelect:function(t){return e.handleLocation(t)}})),r.a.createElement("img",{style:{paddingTop:5,paddingBottom:5,width:"140px",float:"right"},src:Kt.a})),r.a.createElement("div",{className:Ht.containerNoBorder},r.a.createElement(Q.c,{droppableId:"searchResults",isDropDisabled:!0},function(e,n){return r.a.createElement("div",{ref:e.innerRef},r.a.createElement(ft.a,{type:["bottom"],duration:[450,0],interval:[100,0]},t))}),!this.state.results||this.state.results.length<1&&r.a.createElement(Yt.a,{image:Yt.a.PRESENTED_IMAGE_SIMPLE,description:"No Results"}),this.state.results.length>0&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(S.a,{onClick:function(){e.state.pagination.nextPage()},disabled:!this.state.pagination||this.state.pagination&&!this.state.pagination.hasNextPage},"Load More Results"))))}}]),t}(a.Component),$t=Object(j.b)(null,function(e){return{updateSearchResults:function(t){return e(function(e){return function(t,n,a){a.getFirestore,t({type:"UPDATE_SEARCH_RESULTS",results:e})}}(t))}}})(Zt),en=Me.a.TabPane,tn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){n.props.getPublicQueryResults({lat:e.lat,lng:e.lng})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Me.a,{defaultActiveKey:"1",renderTabBar:function(e,t){return r.a.createElement(t,Object.assign({},e,{style:{position:"relative",margin:0,top:0,left:0,width:"100%",background:"#fff"}}))}},r.a.createElement(en,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"search"}),"Search"),key:"1"},r.a.createElement($t,{location:this.props.itinerary&&this.props.itinerary.location?this.props.itinerary.location:null})),r.a.createElement(en,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"compass"}),"Discover"),key:"2"},this.props.itineraryInFocus&&r.a.createElement(wt,{dragging:this.props.dragging,match:this.props.match,onBack:function(){return e.props.clearItineraryInView()}}),!this.props.itineraryInFocus&&r.a.createElement("div",null,r.a.createElement("div",{className:Gt.sticky},r.a.createElement("div",{style:{width:"100%",paddingTop:10,paddingLeft:"15px",paddingRight:"15px"}},r.a.createElement(Ce,{reroute:!1})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Ft,{drawer:!1}))),r.a.createElement("div",{className:Gt.resultList},this.props.currentQuery&&r.a.createElement("h2",null,"Results for '",this.props.currentQuery,"'"),r.a.createElement(Lt,null))),this.props.loading&&r.a.createElement(V.a,{size:"large"})),r.a.createElement(en,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"heart"}),"Saved"),key:"3"},"Tab 3"),r.a.createElement(en,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"environment"}),"Map"),key:"4"},r.a.createElement(Wt,{markers:this.props.markers}))))}}]),t}(a.Component),nn=Object(j.b)(function(e){return{auth:e.firebase.auth,itineraryInFocus:e.view.itinerary,loading:e.view.loading,currentQuery:e.query.currentQuery}},function(e){return{getPublicQueryResults:function(t){return e(he(t))},loadItineraryToState:function(){return e(Ve("3H0jUKxaJ5mX0LReiGH1"))},clearItineraryInView:function(){return e(function(e,t,n){n.getFirestore,e({type:"CLEAR_ITINERARY_TO_VIEW"})})}}})(tn),an=(n(896),n(381)),rn=n(275),on=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onButtonClick=function(e){n.setState({locations:[].concat(Object(We.a)(n.state.locations),[{}])})},n.handleLocation=function(e,t){var a=n.state.locations.slice(0,t).concat([e]).concat(n.state.locations.slice(t+1));n.setState({locations:a},function(){return n.props.handleLocationChange(n.state.locations)})},n.onButtonDeleteClick=function(e){var t=Object(We.a)(n.state.locations);t.splice(e,1),n.setState({locations:t},function(){return n.props.handleLocationChange(n.state.locations)})},n.state={locations:n.props.itinerary&&n.props.itinerary.location&&n.props.itinerary.location.length>0?n.props.itinerary.location:[{}]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:rn.panel},r.a.createElement("h1",null,"Love suggestions? Help us, help you."),r.a.createElement("h2",{style:{marginTop:"20px"}},"Where ya heading? \ud83d\ude97 \ud83d\ude81 \u2708\ufe0f \u26f5"),r.a.createElement("div",{style:{width:"100%"}},this.state.locations.map(function(t,n){return r.a.createElement(g.a,{type:"flex",justify:"start",align:"middle",style:{marginBottom:"10px"}},r.a.createElement(f.a,{style:{display:"inline-flex",flexGrow:1}},r.a.createElement(Qt,{location:t,handleLocationSelect:function(t){return e.handleLocation(t,n)}})),e.state.locations.length>1&&r.a.createElement(f.a,{style:{marginLeft:"10px",display:"inline-flex"}},r.a.createElement(S.a,{size:"small",type:"danger",ghost:!0,shape:"circle",icon:"minus",onClick:function(){return e.onButtonDeleteClick(n)}})))})),r.a.createElement(S.a,{type:"primary",onClick:this.onButtonClick},"Add Another Location"),r.a.createElement("h2",{style:{marginTop:"20px"}},"Tag Some Interests"),r.a.createElement(tt,{tags:this.props.tags,handleTagChange:function(t){return e.props.handleTagChange(t)}}),this.props.error.length>0&&r.a.createElement(w.a,{message:this.props.error,type:"error"}))}}]),t}(a.Component),sn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{style:{height:"100%",width:"100%"},type:"flex",justify:"center",align:"middle"},r.a.createElement(f.a,{span:24},r.a.createElement("h1",{style:{marginBottom:"20px"}},"Yay! You're going on a trip! Let's give it a name \ud83e\udd17"),r.a.createElement("input",{value:"Untitled"!==this.props.name?this.props.name:"",onChange:this.props.onChange,placeholder:"Untitled Trip Name \ud83c\udfd6\ufe0f \ud83c\udfd5  \ud83c\udfd9\ufe0f\ufe0f",className:rn.input})))}}]),t}(a.Component),ln=an.a.Step,cn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTagChange=function(e){n.setState({tags:e})},n.handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.handleLocationChange=function(e){n.setState({locations:e})},n.purgeLocations=function(){var e=Object(We.a)(n.state.locations),t=[];return e.forEach(function(e){e.name&&t.push(e)}),t},n.handleNameChange=function(e){n.setState({name:e.target.value})},n.state={current:0,name:n.props.itinerary&&n.props.itinerary.name?n.props.itinerary.name:"",locations:n.props.itinerary&&n.props.itinerary.location?n.props.itinerary.location:[{}],tags:n.props.itinerary&&n.props.itinerary.tags?n.props.itinerary.tags:[],detailError:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(JSON.stringify(e.itinerary)!==JSON.stringify(this.props.itinerary)){var t={detailError:"",name:e.itinerary&&e.itinerary.name&&e.itinerary.name!==this.state.name?e.itinerary.name:this.state.name,locations:e.itinerary&&e.itinerary.location&&e.itinerary.location!==this.state.location?e.itinerary.location:this.state.location,tags:e.itinerary&&e.itinerary.tags&&e.itinerary.tags!==this.state.tags?e.itinerary.tags:this.state.tags};this.setState({nextState:t})}}},{key:"next",value:function(){switch(this.state.current){case 0:this.state.name.trim().length>0&&0!==this.state.name.localeCompare(this.props.itinerary.name)&&this.props.updateCurrentItineraryName(this.state.name);break;case 1:if(null!==this.state.location){var e=this.purgeLocations();this.props.updateCurrentItineraryLocation(e)}this.state.tags.length>0&&(this.props.itinerary.tags&&this.props.itinerary.tags!==this.state.tags||!this.props.itinerary.tags&&this.state.tags)&&this.props.updateCurrentItineraryTags(this.state.tags)}var t=this.state.current+1;this.setState({current:t})}},{key:"prev",value:function(){switch(console.log(this.state.current),this.state.current){case 0:this.state.name.trim().length>0&&this.props.itinerary.name!==this.state.name&&this.props.updateCurrentItineraryName(this.state.name);break;case 1:null!==this.state.location&&JSON.stringify(this.state.locations)!==JSON.stringify([{}])&&this.props.updateCurrentItineraryLocation(this.state.locations),this.state.tags.length>0&&(this.props.itinerary.tags&&this.props.itinerary.tags!==this.state.tags||!this.props.itinerary.tags&&this.state.tags)&&(console.log("tags"),this.props.updateCurrentItineraryTags(this.state.tags))}var e=this.state.current-1;this.setState({current:e})}},{key:"render",value:function(){var e=this,t=[{title:"Name",content:r.a.createElement(sn,{name:this.state.name,onChange:this.handleNameChange})},{title:"Details",content:r.a.createElement(on,{error:this.state.detailError,tags:this.state.tags,itinerary:this.props.itinerary,handleTagChange:this.handleTagChange,handleLocationChange:function(t){return e.handleLocationChange(t)}})},{title:"Build",content:"Last-content"}],n=this.state.current;return r.a.createElement(D.a,{title:r.a.createElement(an.a,{style:{marginTop:"15px"},progressDot:!0,current:n},t.map(function(e){return r.a.createElement(ln,{key:e.title,title:e.title})})),visible:this.props.visible,centered:!0,closable:!1,width:"50vw",footer:[r.a.createElement("div",{className:"steps-action"},n>0&&r.a.createElement(S.a,{style:{marginLeft:8},onClick:function(){return e.prev()}},"Previous"),n<t.length-1&&r.a.createElement(S.a,{type:"primary",disabled:0===n&&this.state.name.trim().length<1||1===n&&this.purgeLocations().length<1,onClick:function(){return e.next()}},"Next"),n===t.length-1&&r.a.createElement(S.a,{type:"primary",onClick:function(){return e.props.handleModal()}},"Build!"))]},r.a.createElement("div",{style:{padding:"1em"}},r.a.createElement("div",{className:"steps-content",style:{minHeight:"25vh",padding:"3em"}},t[n].content)))}}]),t}(a.Component),un=Object(j.b)(null,function(e){return{updateCurrentItineraryName:function(t){return e(function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=n(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({name:e,editedAt:o.FieldValue.serverTimestamp()},{merge:!0}).then(function(){t({type:"ITINERARY_NAME_UPDATE_SUCCESS"})}).catch(function(e){return t({type:"ITINERARY_NAME_UPDATE_ERROR",e:e})})}}(t))},updateCurrentItineraryLocation:function(t){return e(function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=n(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({editedAt:o.FieldValue.serverTimestamp(),location:e},{merge:!0}).then(function(){t({type:"ITINERARY_LOCATION_UPDATE_SUCCESS"})}).catch(function(e){return t({type:"ITINERARY_LOCATION_UPDATE_ERROR",e:e})})}}(t))},updateCurrentItineraryTags:function(t){return e(function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=n(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({editedAt:o.FieldValue.serverTimestamp(),tags:e},{merge:!0}).then(function(){t({type:"ITINERARY_TAGS_UPDATE_SUCCESS"})}).catch(function(e){return t({type:"ITINERARY_TAGS_UPDATE_ERROR",e:e})})}}(t))}}})(cn),pn=(n(898),n(528)),mn=n(283),dn=D.a.confirm,hn=pn.a.Sider,fn=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(Y.a)(r,1)[0];return a.splice(n,0,i),a},gn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onDragEnd=function(e){if(e.destination){var t=fn(n.props.itinerary.collectionOrder,e.source.index,e.destination.index);Ye(n.state.collectionOrder,t)||(n.setState({collectionOrder:t}),n.props.updateCollectionOrder(t))}},n.onDeleteClick=function(e){n.state.item;var t=Object(G.a)(n);dn({title:"Are you sure you want to delete this day?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteSpecificCollection(e)},onCancel:function(){return!1}})},n.onEditClick=function(e,t,a){n.setState({editModal:!0,editTitle:t,editId:e,editName:a})},n.handleCancel=function(){n.setState({editModal:!1})},n.onEditOk=function(){n.setState({editModal:!1},function(){n.props.editNameSpecificCollection(n.state.editId,n.state.editName)})},n.onChange=function(e){n.setState({editName:e.target.value})},n.state={collectionOrder:e.itinerary?e.itinerary.collectionOrder:[],editModal:!1,editTitle:"Day 1:",editId:"some id",editName:"some name"},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){this.props.itinerary&&this.props.itinerary.collectionOrder&&this.props.itinerary.collectionOrder!==this.state.collectionOrder&&this.setState({collectionOrder:this.props.itinerary.collectionOrder}),(this.props.itinerary&&this.props.selected&&!this.props.itinerary.collection[this.props.selected]&&this.props.itinerary.collectionOrder.length>0||!this.props.selected&&this.props.itinerary.collectionOrder.length>0)&&this.props.updateCurrentCollectionSelected(this.props.itinerary.collectionOrder[0])}},{key:"render",value:function(){var e=this;return r.a.createElement(hn,{className:mn.siderLayout},r.a.createElement("div",{style:{position:"sticky",top:0,width:"100%",backgroundColor:"white"}},r.a.createElement(S.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()},type:"primary",style:{position:"sticky",top:"1em",width:"90%",marginRight:"5%",marginLeft:"5%",marginTop:"1em",marginBottom:"1em"}},r.a.createElement(_.a,{type:"plus"}),"Add a Day")),r.a.createElement(Q.a,{onDragEnd:this.onDragEnd},r.a.createElement(Q.c,{droppableId:"droppable"},function(t,n){return r.a.createElement("div",{ref:t.innerRef},r.a.createElement("ul",{className:"ant-menu ant-menu-light ant-menu-root ant-menu-inline",style:{borderRight:0}},r.a.createElement(ft.a,{type:["left"],duration:[450,0],interval:[100,0]},e.state.collectionOrder.map(function(t,n){return r.a.createElement(Q.b,{key:t,draggableId:t,index:n},function(a,i){return r.a.createElement("li",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{className:e.props.selected===t?"ant-menu-item ant-menu-item-selected":"ant-menu-item",onClick:function(){return e.props.updateCurrentCollectionSelected(t)},key:n}),r.a.createElement(g.a,{type:"flex",justify:"space-between",align:"middle",className:mn.hover},r.a.createElement(f.a,{span:16,style:{flexGrow:1,maxWidth:"170px",overflow:"hidden",textOverflow:"ellipsis"}},e.props.itinerary&&e.props.itinerary.collection&&e.props.itinerary.collection[t]&&e.props.itinerary.collection[t].name?e.props.itinerary.collection[t].name:"Untitled"),r.a.createElement(f.a,{span:8,className:mn.hidden},r.a.createElement(S.a,{type:"danger",ghost:!0,onClick:function(){return e.onDeleteClick(t)},style:{boxShadow:"none",border:"none",float:"right",padding:0}},r.a.createElement(_.a,{style:{margin:0},type:"close"})),r.a.createElement(S.a,{type:"primary",ghost:!0,onClick:function(){return e.onEditClick(t,"Day "+(n+1)+":",e.props.itinerary.collection[t].name)},style:{boxShadow:"none",border:"none",float:"right",padding:0}},r.a.createElement(_.a,{style:{marginRight:6},type:"edit"})))))})})),t.placeholder))})),r.a.createElement(D.a,{title:this.state.editTitle,visible:this.state.editModal,onOk:this.onEditOk,onCancel:this.handleCancel},r.a.createElement(C.a,{value:this.state.editName,allowClear:!0,onChange:this.onChange})))}}]),t}(a.Component),yn=Object(j.b)(function(e){return{selected:e.edit.currentCollection}},function(e){return{addCollectionToCurrentItinerary:function(){return e(ie())},updateCollectionOrder:function(t){return e(ue(t))},updateCurrentCollectionSelected:function(t){return e(ce(t))},deleteSpecificCollection:function(t){return e(oe(t))},editNameSpecificCollection:function(t,n){return e(function(e,t){return function(n,a,r){var i=r.getFirestore;n({type:"START_SAVING"});var o=a(),s=i();s.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:s.FieldValue.serverTimestamp(),collection:Object(W.a)({},e,{name:t.trimLeft().length<1?"Untitled":t.trimLeft()})},{merge:!0}).then(function(){n({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){n({type:"ITIN_UPDATE_ERROR",e:e})})}}(t,n))}}})(gn),En=n(154),vn=n(183),bn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).addSectionClick=function(e){var t=Ge(),a=Object(I.a)({},n.props.collection.events,Object(W.a)({},t,{id:t}));if(e){var r=n.props.collection.eventOrder.indexOf(e),i=Object(We.a)(n.props.collection.eventOrder).slice(0,r+1).concat([t]).concat(Object(We.a)(n.props.collection.eventOrder).slice(r+1));n.props.addNewEventToSpecificCollection(n.props.id,t,i)}else n.setState({eventOrder:[t],events:a},function(){return n.props.addNewEventToSpecificCollection(n.props.id,t,[t])})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Q.c,{droppableId:this.props.id,isDropDisabled:this.props.viewOnly},function(t,n){return r.a.createElement("div",{style:{paddingTop:"1em",width:"100%",minHeight:"100px"},ref:t.innerRef,className:vn.list},r.a.createElement("div",{className:"ant-timeline"},e.props.collection.eventOrder.length<1&&r.a.createElement("div",{onClick:function(){return e.addSectionClick()}},r.a.createElement(M.a,{style:{marginTop:"10%"}},r.a.createElement(S.a,{type:"primary",size:"small",shape:"circle",icon:"plus"}))),e.props.collection.eventOrder&&e.props.collection.eventOrder.map(function(t,n){return r.a.createElement(Q.b,{key:t,draggableId:t,index:n,type:"DEFAULT"},function(a,i){return r.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),r.a.createElement("li",{className:e.props.collection.eventOrder.length-1===n?"ant-timeline-item ant-timeline-item-last":"ant-timeline-item",style:{padding:0}},!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-tail"}),!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue"}),r.a.createElement("div",{className:"ant-timeline-item-content"},e.props.editing===t&&r.a.createElement(D.a,{closable:!1,footer:null,visible:e.props.editing===t,centered:!0,width:"50vw"},r.a.createElement(rt,{item:e.props.collection.events[t]})),r.a.createElement("div",{onClick:function(){e.props.prepCurrentEventEditSpecific(e.props.id,t,e.props.collection.events[t])}},r.a.createElement(On,{item:e.props.collection.events[t]})),r.a.createElement("div",{onClick:function(){return e.addSectionClick(t)},className:vn.addSection},r.a.createElement(M.a,{style:{marginTop:0,marginBottom:0}},r.a.createElement(S.a,{type:"primary",size:"small",shape:"circle",icon:"plus"}))))))})}),t.placeholder))})}}]),t}(a.Component),On=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ze.a,{bordered:!0},r.a.createElement(g.a,{type:"flex",justify:"start"},this.props.item.name,this.props.item.location&&r.a.createElement("div",null,r.a.createElement(_.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},this.props.item.location.name))))}}]),t}(a.Component),Cn=Object(j.b)(function(e){return{editing:e.edit.editEventID}},function(e){return{prepCurrentEventEditSpecific:function(t,n,a){return e(function(e,t,n){return function(a,r,i){i.getFirestore,a({type:"PREP_CURRENT_EVENT_EDITING_SPECIFIC",collectionId:e,id:t,event:n})}}(t,n,a))},addNewEventToSpecificCollection:function(t,n,a){return e((r=t,i=n,o=a,function(e,t,n){var a=n.getFirestore;e({type:"START_SAVING"});var s=t(),l=a();l.collection("users").doc(s.firebase.auth.uid).collection("itineraries").doc(s.edit.currentItinID).set({editedAt:l.FieldValue.serverTimestamp(),collection:Object(W.a)({},r,{events:Object(W.a)({},i,ne),eventOrder:o})},{merge:!0}).then(function(){e({type:"NEW_EVENT_SUCCESS"})}).catch(function(t){e({type:"NEW_EVENT_ERROR",e:t})})}));var r,i,o}}})(bn),_n=D.a.confirm,wn=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(Y.a)(r,1)[0];return a.splice(n,0,i),a},Sn=function(e,t,n){var a=Array.from(e);return a.splice(t,0,n),a},In=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onDragEnd=function(e){if(e.destination)if("grid"===e.destination.droppableId){var t=wn(n.state.itinerary.collectionOrder,e.source.index,e.destination.index);if(!Ye(n.state.itinerary.collectionOrder,t)){var a=JSON.parse(JSON.stringify(n.state.itinerary));a.collectionOrder=t,n.setState({itinerary:a},function(){return n.props.updateCollectionOrder(t)})}}else if(e.destination.droppableId===e.source.droppableId){var r=wn(n.state.itinerary.collection[e.destination.droppableId].eventOrder,e.source.index,e.destination.index);if(!Ye(n.state.itinerary.collection[e.destination.droppableId].eventOrder,r)){var i=JSON.parse(JSON.stringify(n.state.itinerary));i.collection[e.destination.droppableId].eventOrder=r,n.setState({itinerary:i},function(){return n.props.updateCurrentItinerary(n.state.itinerary)})}}else{var o=JSON.parse(JSON.stringify(n.state.itinerary)),s=o.collection[e.source.droppableId].eventOrder[e.source.index],l=n.state.itinerary.collection[e.source.droppableId].events[s];delete o.collection[e.source.droppableId].events[s],o.collection[e.source.droppableId].eventOrder.splice(e.source.index,1),o.collection[e.destination.droppableId].events[s]=l,o.collection[e.destination.droppableId].eventOrder=Sn(o.collection[e.destination.droppableId].eventOrder,e.destination.index,s),n.setState({itinerary:o},function(){return n.props.updateCurrentItinerary(n.state.itinerary)})}n.setState({dragging:!1})},n.onDragStart=function(e){"grid"!==e.source.droppableId&&n.setState({dragging:!0})},n.onDeleteClick=function(e){n.state.item;var t=Object(G.a)(n);_n({title:"Are you sure you want to delete this day?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteSpecificCollection(e)},onCancel:function(){return!1}})},n.state={itinerary:n.props.itinerary?n.props.itinerary:null,dragging:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){JSON.stringify(e.itinerary)!==JSON.stringify(this.state.itinerary)&&this.setState({itinerary:e.itinerary})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:vn.multilist,style:{position:"relative",top:0,left:0,width:"100%",maxHeight:"100%",minHeight:"100%"}},r.a.createElement(Q.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement(Q.c,{direction:"horizontal",droppableId:"grid",type:"board"},function(t,n){return r.a.createElement("div",{className:vn.multilist,style:{display:"flex",overflowX:"scroll",height:"100%",maxHeight:"100%",flexWrap:"nowrap"},ref:t.innerRef},e.state.itinerary&&e.state.itinerary.collectionOrder&&e.state.itinerary.collectionOrder.map(function(t,n){return r.a.createElement(Q.b,{draggableId:t,index:n,key:t},function(n,a){return r.a.createElement("div",Object.assign({style:{display:"inline-flex",margin:"15px"},ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(ze.a,{title:r.a.createElement("div",null,r.a.createElement("div",{style:{maxWidth:"85%",overflow:"hidden",textOverflow:"ellipsis",float:"left"}},r.a.createElement("span",{style:{maxWidth:"150px"}},e.state.itinerary.collection[t].name)),r.a.createElement(S.a,{onClick:function(){return e.onDeleteClick(t)},style:{border:"none",boxShadow:"none",float:"right"},icon:"close"})),bordered:!1,style:{margin:"15px",minWidth:"300px",maxWidth:"300px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)",borderColor:"rgba(0, 0, 0, 0.09)"}},r.a.createElement(Cn,{dragging:e.state.dragging,id:t,collection:e.state.itinerary.collection[t]})))})}),t.placeholder,r.a.createElement(S.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()},type:"primary",style:{margin:"15px",minWidth:"300px",maxWidth:"300px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)",borderColor:"rgba(0, 0, 0, 0.09)"}},r.a.createElement(_.a,{type:"plus"}),"Add a Day"))})))}}]),t}(a.Component),jn=Object(j.b)(null,function(e){return{updateCollectionOrder:function(t){return e(ue(t))},updateCurrentItinerary:function(t){return e(function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=n(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set(Object(I.a)({},e,{editedAt:o.FieldValue.serverTimestamp()})).then(function(){t({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){t({type:"ITIN_UPDATE_ERROR",e:e})})}}(t))},addCollectionToCurrentItinerary:function(){return e(ie())},deleteSpecificCollection:function(t){return e(oe(t))}}})(In),Nn=n(376),kn=n.n(Nn),xn=n(529),Tn=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleDetailChange=function(e){n.setState({description:e})},n.handleTagChange=function(e){n.setState({tags:e})},n.onChange=function(e,t){n.setState(Object(W.a)({},e,t))},n.onButtonClick=function(e){n.setState({locations:[].concat(Object(We.a)(n.state.locations),[{}])})},n.onButtonDeleteClick=function(e){var t=Object(We.a)(n.state.locations);t.splice(e,1),n.setState({locations:t})},n.handleLocation=function(e,t){var a=n.state.locations.slice(0,t).concat([e]).concat(n.state.locations.slice(t+1));n.setState({locations:a})},n.purgeLocations=function(){var e=Object(We.a)(n.state.locations),t=[];return e.forEach(function(e){e.name&&t.push(e)}),t},n.handleOk=Object(xn.a)(kn.a.mark(function e(){var t,a;return kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.purgeLocations(),a="",n.state.name.trim().length<1&&(a="Name field is required."),t.length<1&&(a=a.length>0?"Name field and 1 Location is required.":"1 Location is required."),!(a.length<1)){e.next=11;break}return e.next=7,n.props.updateItineraryDetails(n.state.name.trim(),t,n.state.description,n.state.tags);case 7:return e.next=9,n.props.closeDetailModal();case 9:e.next=12;break;case 11:n.setState({errorMessage:a});case 12:case"end":return e.stop()}},e)})),n.state={errorMessage:"",locations:n.props.itinerary&&n.props.itinerary.location&&n.props.itinerary.location.length>0?n.props.itinerary.location:[{}],name:n.props.itinerary&&n.props.itinerary.name?n.props.itinerary.name:"",tags:n.props.itinerary&&n.props.itinerary.tags?n.props.itinerary.tags:[],description:n.props.itinerary&&n.props.itinerary.description?n.props.itinerary.description:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){JSON.stringify(e.itinerary)!==JSON.stringify(this.props.itinerary)&&this.setState({errorMessage:"",locations:this.props.itinerary&&this.props.itinerary.location&&this.props.itinerary.location.length>0?this.props.itinerary.location:[{}],name:this.props.itinerary&&this.props.itinerary.name?this.props.itinerary.name:"",tags:this.props.itinerary&&this.props.itinerary.tags?this.props.itinerary.tags:[],description:this.props.itinerary&&this.props.itinerary.description?this.props.itinerary.description:""})}},{key:"render",value:function(){var e=this;return r.a.createElement(D.a,{visible:this.props.visible,centered:!0,width:"50vw",closable:!1,onOk:this.handleOk,title:"Itinerary Details",onCancel:function(){return e.props.closeDetailModal()}},r.a.createElement("div",{style:{padding:"1em"}},this.state.errorMessage.length>0&&r.a.createElement(w.a,{message:this.state.errorMessage,type:"error"}),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,"Name:"),r.a.createElement(C.a,{value:this.state.name,id:"name",onChange:function(t){return e.onChange("name",t.target.value)},placeholder:"Itinerary Name"})),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,"Description:"),r.a.createElement(He.a,{style:{height:"250px",marginBottom:"50px"},value:this.state.description,onChange:this.handleDetailChange})),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,this.state.locations.length>1?"Locations:":"Location:"),this.state.locations.map(function(t,n){return r.a.createElement(g.a,{type:"flex",justify:"start",align:"middle",style:{marginBottom:"10px"}},r.a.createElement(f.a,{style:{display:"inline-flex",flexGrow:1}},r.a.createElement(Qt,{location:t,handleLocationSelect:function(t){return e.handleLocation(t,n)}})),e.state.locations.length>1&&r.a.createElement(f.a,{style:{marginLeft:"10px",display:"inline-flex"}},r.a.createElement(S.a,{size:"small",type:"danger",ghost:!0,shape:"circle",icon:"minus",onClick:function(){return e.onButtonDeleteClick(n)}})))}),r.a.createElement(S.a,{type:"primary",onClick:this.onButtonClick},"Add Another Location")),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,this.state.tags.length>1?"Tags:":"Tag"),r.a.createElement(tt,{tags:this.state.tags,handleTagChange:function(t){return e.handleTagChange(t)}}))))}}]),t}(a.Component),Rn=Object(j.b)(null,function(e){return{updateItineraryDetails:function(t,n,a,r){return e(function(e,t,n,a){return function(r,i,o){var s=o.getFirestore;r({type:"START_SAVING"});var l=i(),c=s();c.collection("users").doc(l.firebase.auth.uid).collection("itineraries").doc(l.edit.currentItinID).set({name:e,location:t,description:n,tags:a,editedAt:c.FieldValue.serverTimestamp()},{merge:!0}).then(function(){r({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){return r({type:"ITIN_UPDATE_ERROR",e:e})})}}(t,n,a,r))}}})(Tn),An=D.a.confirm,Dn=r.a.createElement(_.a,{type:"loading",style:{fontSize:".7em",color:"white"},spin:!0}),Pn=z.a.Button,Ln=z.a.Group,Un=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(Y.a)(r,1)[0];return a.splice(n,0,i),a},Fn=function(e,t,n){var a=Array.from(e);return a.splice(t,0,n),a},Bn=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleModal=function(){n.props.resetNewModal()},n.onDragEnd=function(e){if(e.destination){if("editPanel"===e.source.droppableId&&"editPanel"===e.destination.droppableId){var t=Un(n.state.eventOrder,e.source.index,e.destination.index);Ye(n.state.eventOrder,t)||n.setState({dragging:!1,eventOrder:t},function(){return n.props.updateEventOrder(t)})}if("viewPanel"===e.source.droppableId&&"editPanel"===e.destination.droppableId){var a=n.props.view.itinerary.collection[n.props.view.currentCollectionId].eventOrder[e.source.index],r=n.props.view.itinerary.collection[n.props.view.currentCollectionId].events[a];r.reference={itineraryID:n.props.view.itinerary.id,collectionID:n.props.view.currentCollectionId,eventID:a};var i=Ge(),o=Fn(n.state.eventOrder,e.destination.index,i);Ye(n.state.eventOrder,o)||n.setState({dragging:!1,eventOrder:o,events:Object(I.a)({},n.state.events,Object(W.a)({},i,r))},function(){return n.props.addEventToCurrentCollection(i,o,r)})}if("searchResults"===e.source.droppableId&&"editPanel"===e.destination.droppableId){var s=n.props.searchResults[e.source.index],l=Ge(),c={name:s.name,location:{lat:s.geometry.location.lat(),lng:s.geometry.location.lng(),place_id:s.place_id,name:s.formatted_address}},u=Fn(n.state.eventOrder,e.destination.index,l);Ye(n.state.eventOrder,u)||n.setState({dragging:!1,eventOrder:u,events:Object(I.a)({},n.state.events,Object(W.a)({},l,c))},function(){return n.props.addEventToCurrentCollection(l,u,c)})}}},n.onDragStart=function(){n.setState({dragging:!0})},n.onChange=function(e){n.setState({view:e.target.value},function(){n.props.prepCurrentEventEdit()})},n.onPublicButtonClick=function(e){var t=Object(G.a)(n);An({title:"Are you sure you want to publish your itinerary?",content:"",onOk:function(){t.props.makeItineraryPublic()},onCancel:function(){console.log("Cancel")}})};var a=e.itinerary?e.itinerary[e.match.params.id]:{};return n.state={itinerary:a,collectionID:e.collectionID?e.collectionID:null,events:a&&e.collectionID&&a.collection[e.collectionID]?a.collection[e.collectionID].events:{},eventOrder:a&&e.collectionID&&a.collection[e.collectionID]?a.collection[e.collectionID].eventOrder:[],panelBclass:"XS",modal:n.props.edit.showNewModal,view:"single",detailsModal:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.itinerary&&this.props.itinerary[this.props.match.params.id]?this.props.itinerary[this.props.match.params.id]:null,n=e.itinerary&&e.itinerary[this.props.match.params.id]?e.itinerary[this.props.match.params.id]:null;(t&&JSON.stringify(t)!==JSON.stringify(n)||t&&JSON.stringify(t)!==JSON.stringify(this.state.itinerary)||t&&this.props.collectionID!==this.state.collectionID)&&this.setState({itinerary:t,detailsModal:!1,collectionID:this.props.collectionID,events:t&&this.props.collectionID&&t.collection&&t.collection[this.props.collectionID]?t.collection[this.props.collectionID].events:{},eventOrder:t&&this.props.collectionID&&t.collection&&t.collection[this.props.collectionID]?t.collection[this.props.collectionID].eventOrder:[]})}},{key:"componentDidMount",value:function(){this.props.prepEditState(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=[];this.state.eventOrder.forEach(function(n){e.state.events[n]&&e.state.events[n].location&&e.state.events[n].location.lat&&e.state.events[n].location.lng&&t.push(e.state.events[n].location)});var n=this.props.itinerary&&this.props.itinerary[this.props.match.params.id]?this.props.itinerary[this.props.match.params.id]:null;return r.a.createElement("div",null,r.a.createElement(Be,null),r.a.createElement(S.a,{onClick:function(){return e.props.makeItineraryPublic()}},"MAKE PUBLIC?"),"multiple"===this.state.view&&r.a.createElement("div",{className:En.content},r.a.createElement(jn,{itinerary:n})),"single"===this.state.view&&r.a.createElement("div",null,r.a.createElement(yn,{itinerary:n}),r.a.createElement(Q.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement("div",{className:En.splitPane},r.a.createElement(H.a,{borderColor:"#e8e8e8"},r.a.createElement("div",{className:En.panel,style:{width:"100%",padding:"1.5em"}},r.a.createElement(F,{className:En.overlay}),this.props.itinerary&&r.a.createElement(yt,{collectionID:this.state.collectionID,viewOnly:!1,dragging:this.state.dragging,events:this.state.events,eventOrder:this.state.eventOrder}),!this.props.itinerary&&r.a.createElement(M.a,{style:{marginTop:"25vh",marginBottom:5}},r.a.createElement(V.a,{style:{},size:"large"}))),r.a.createElement("div",{className:En.panel},r.a.createElement($,null,r.a.createElement(nn,{itinerary:n,markers:t,dragging:this.state.dragging,match:this.props.match}))))))),r.a.createElement("div",{className:En.footer},r.a.createElement(g.a,{type:"flex",align:"middle",style:{height:"100%"}},r.a.createElement(f.a,{span:10,style:{flexGrow:1}},r.a.createElement(Ln,{style:{marginLeft:"1em"},onChange:this.onChange,defaultValue:"single"},r.a.createElement(Pn,{value:"single"},r.a.createElement(_.a,{type:"profile"})),r.a.createElement(Pn,{value:"multiple"},r.a.createElement(_.a,{type:"project"}))),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"1em",color:"white"}},n&&n.name?n.name:"Untitled"),r.a.createElement(_.a,{type:"form",style:{color:"white",marginLeft:"1em",fontSize:"16px"},onClick:function(){return e.setState({detailsModal:!0})}})),r.a.createElement(f.a,{style:{textAlign:"right",paddingRight:"1em"}},this.props.saving&&r.a.createElement("span",{style:{fontSize:"1em",color:"white"}},"Saving... ",r.a.createElement(V.a,{indicator:Dn})),!this.props.saving&&r.a.createElement("span",{style:{fontSize:"1em",color:"white"}},"Saved ",r.a.createElement(_.a,{type:"check",style:{color:"white",fontSize:".7em"}}))),r.a.createElement(f.a,{style:{textAlign:"right",paddingRight:"1em"}},r.a.createElement(S.a,{onClick:function(){return e.onPublicButtonClick()}},"Publish")))),r.a.createElement(un,{visible:this.props.edit.showNewModal,handleModal:function(){return e.handleModal()},itinerary:n}),r.a.createElement(Rn,{visible:this.state.detailsModal,closeDetailModal:function(){return e.setState({detailsModal:!1})},itinerary:n}))}}]),t}(a.Component),Mn=Object(J.d)(Object(j.b)(function(e,t){return Object(I.a)({},t,{edit:e.edit,auth:e.firebase.auth,itinerary:e.firestore.data["users/"+e.firebase.auth.uid+"/itineraries"],collectionID:e.edit.currentCollection,view:e.view,saving:e.edit.saving,searchResults:e.search.results})},function(e){return{makeItineraryPublic:function(){return e(function(e,t,n){var a=n.getFirestore,r=t(),i=a(),o=new ee.GeoFirestore(i),s=i.collection("users").doc(r.firebase.auth.uid).collection("itineraries").doc(r.edit.currentItinID),l=i.collection("publicItineraries").doc(r.edit.currentItinID),c=o.collection("testPublic"),u=i.collection("users").doc(r.firebase.auth.uid);s.get().then(function(t){if(t.exists){var n=t.data(),a={},o=[];n.location.forEach(function(e){a[e.name]=!0,o.push(new i.GeoPoint(e.lat,e.lng))});var s={};n.tags.forEach(function(e){s[e]=!0});var p=[];n.collectionOrder.forEach(function(e){n.collection[e].eventOrder.forEach(function(t){n.collection[e].events[t].images&&n.collection[e].events[t].images.forEach(function(e){return p.push(e.url)})})});var m={name:n.name,locations:a,tags:s,views:1,coordinates:o,addedDate:i.FieldValue.serverTimestamp()};p.length>0&&(m.images=p),u.get().then(function(t){if(t.exists){var a=t.data(),i={displayName:a.name,userName:a.name,picture:r.firebase.auth.photoURL,uid:r.firebase.auth.uid};m.user=i,n.meta=m,n.id=r.edit.currentItinID,l.set(n).then(function(){var t=o.map(function(e){c.add(Object(I.a)({coordinates:e},n)).then(function(){},function(e){throw e})});Promise.all(t).then(function(){e({type:"ITIN_TO_PUBLIC_SUCCESS"})}).catch(function(t){e({type:"ITIN_TO_PUBLIC_ERROR",e:t})})}).catch(function(t){e({type:"ITIN_TO_PUBLIC_ERROR",e:t})})}else e({type:"ITIN_TO_PUBLIC_ERROR",e:"User Not Valid"})}).catch(function(t){e({type:"ITIN_TO_PUBLIC_ERROR",e:t})})}}).catch(function(t){e({type:"ITIN_TO_PUBLIC_ERROR",e:t})})})},loadItineraryToEdit:function(t){return e(function(e){return function(t,n,a){var r=a.getFirestore;t({type:"START_SAVING"});var i=n().firebase,o=r().collection("users").doc(i.auth.uid).collection("itineraries").doc(e);t({type:"LOAD_ITIN_SUCCESS",itinID:e,itinRef:o,transition:function(t,n,a){return{pathname:"/edit/"+e}}})}}(t))},updateEventOrder:function(t){return e(le(t))},prepEditState:function(t){return e(function(e){return function(t,n,a){a.getFirestore,t({type:"PREP_EDIT_STATE",itinID:e})}}(t))},resetNewModal:function(){return e(function(e,t,n){n.getFirestore,e({type:"CLOSE_NEW_MODAL"})})},updateCurrentCollectionSelected:function(t){return e(ce(t))},addEventToCurrentCollection:function(t,n,a){return e(function(e,t,n){return function(a,r,i){var o=i.getFirestore;a({type:"START_SAVING"});var s=r(),l=o();l.collection("users").doc(s.firebase.auth.uid).collection("itineraries").doc(s.edit.currentItinID).set({editedAt:l.FieldValue.serverTimestamp(),collection:Object(W.a)({},s.edit.currentCollection,{events:Object(W.a)({},e,n),eventOrder:t})},{merge:!0}).then(function(){a({type:"ADD_EVENT_SUCCESS",id:e,event:n})}).catch(function(e){a({type:"ADD_EVENT_ERROR",e:e})})}}(t,n,a))},prepCurrentEventEdit:function(){return e(pe(null,null))}}}),Object(q.firestoreConnect)(function(e){return[{collection:"users/"+e.auth.uid+"/itineraries",doc:e.match.params.id}]}))(Bn),Vn=n(187),Wn=n(530),Gn=n.n(Wn),Yn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Vn.bigContainer},r.a.createElement(g.a,{className:Vn.wrap},r.a.createElement(f.a,{span:20,offset:2},r.a.createElement(g.a,{type:"flex",justify:"space-between"},r.a.createElement(f.a,{xs:24,sm:24,md:6},r.a.createElement("h2",null,"Hello:"),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"About Us")),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"Press")),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"Blog")),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"Jobs"))),r.a.createElement(f.a,{xs:24,sm:24,md:6},r.a.createElement("h2",null,"Contact Us:"),r.a.createElement("p",null,"travelroo.io@gmail.com")),r.a.createElement(f.a,{xs:24,sm:24,md:6},r.a.createElement("img",{src:Gn.a,alt:"logo"}),r.a.createElement("p",{className:Vn.rights},"\xa9 2019 TRAVELROO.IO,"),r.a.createElement("p",{className:Vn.rights},"ALL RIGHTS RESERVED."),r.a.createElement("p",{className:Vn.last},"Made with love in Seattle, WA."))))))}}]),t}(a.Component),zn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{zIndex:999,position:"fixed",width:"100%",top:0,background:"#ffff"}},r.a.createElement(Fe,null)),r.a.createElement("div",{style:{minHeight:"100vh",paddingTop:"65px"}},this.props.children),r.a.createElement(Yn,null))}}]),t}(a.Component),Qn=n(377),Hn=n(369),qn=n.n(Hn),Jn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"location"},!this.props.trendingLocations&&r.a.createElement(g.a,{style:{width:"100%"},type:"flex",justify:"center"},r.a.createElement(f.a,null,r.a.createElement(V.a,null))),this.props.trendingLocations&&r.a.createElement(qn.a,{dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}],nextArrow:null,prevArrow:null,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0},Object.keys(this.props.trendingLocations).map(function(t){return r.a.createElement(ze.a,{hoverable:!0,onClick:function(){e.props.getPublicQueryResults({type:"location",location:{address:e.props.trendingLocations[t].address}}),e.props.history.push("/discover")},bodyStyle:{padding:"0"}},r.a.createElement("div",{className:Qn.module,style:{backgroundImage:"url("+e.props.trendingLocations[t].image+")"}},r.a.createElement("div",{className:Qn.overlay}),r.a.createElement("header",null,r.a.createElement("h1",null,e.props.trendingLocations[t].name))))})))}}]),t}(a.Component),Kn=Object(J.d)(Object(j.b)(function(e,t){return Object(I.a)({},t,{trendingLocations:e.firestore.data.locations})},function(e){return{getPublicQueryResults:function(t){return e(he(t))}}}),de.a,Object(q.firestoreConnect)(function(e){return[{collection:"locations"}]}))(Jn),Xn=n(531),Zn=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,component:1,itineraries:[]},n.onCollapse=function(e){n.setState({collapsed:e})},n.onMenuClick=function(e){n.setState({component:e})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"loadMore",value:function(){var e=this;if(this.state.next){var t=Object(We.a)(this.state.itineraries);this.state.next.get().then(function(n){n.forEach(function(e){t.push(Object(I.a)({},e.data(),{id:e.id}))});var a=n.docs.length>=15?e.props.firestore.collection("publicItineraries").orderBy("meta.addedDate","desc").startAfter(n).limit(15):null;e.setState({itineraries:t,next:a})})}}},{key:"componentDidMount",value:function(){var e=this,t=[];this.props.firestore.collection("publicItineraries").orderBy("meta.addedDate","desc").limit(15).get().then(function(n){n.forEach(function(e){t.push(Object(I.a)({},e.data(),{id:e.id}))});var a=n.docs.length>=15?e.props.firestore.collection("publicItineraries").orderBy("meta.addedDate","desc").startAfter(n).limit(15):null;e.setState({itineraries:t,next:a})})}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement(zn,null,r.a.createElement("div",{className:Xn.content},r.a.createElement(g.a,{type:"flex",justify:"center"},r.a.createElement(f.a,{xs:22,sm:22,md:22,lg:20,xl:20,xxl:20},r.a.createElement($,null,r.a.createElement("h2",null,"Trending Locations"),r.a.createElement(Kn,null),r.a.createElement("h2",null,"Newest Itineraries"),r.a.createElement(Lt,{itineraries:this.state.itineraries}),this.state.next&&r.a.createElement(S.a,{type:"primary",onClick:this.loadMore},"Load More"))))),r.a.createElement(me.a,{placement:"right",closable:!1,onClose:this.onClose,visible:this.props.itineraryInFocus,width:window.innerWidth<=760?"100vw":"50vw"},r.a.createElement(Q.a,{onDragEnd:function(){}},r.a.createElement(wt,{dragging:this.props.dragging,match:this.props.match,onBack:function(){return e.props.clearItineraryInView()}}))))}}]),t}(a.Component),$n=Object(J.d)(q.withFirestore,Object(j.b)(function(e){return{itineraryInFocus:e.view.itinerary}},function(e){return{addToPublicIndex:function(t){return e(fe(t))},getPublicQueryResults:function(t){return e(he(t))},clearItineraryInView:function(){return e(function(e,t,n){n.getFirestore,e({type:"CLEAR_ITINERARY_TO_VIEW"})})}}}))(Zn),ea=(n(901),n(556)),ta=n(378),na=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(){},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(zn,null,r.a.createElement(ea.a,null),r.a.createElement("div",{className:ta.content},r.a.createElement("div",{className:ta.content,style:{width:"100%"}},r.a.createElement("div",{style:{paddingTop:"70px",paddingBottom:"70px"}},r.a.createElement(g.a,{type:"flex",justify:"center"},r.a.createElement(f.a,{xs:22,sm:22,md:22,lg:20,xl:20,xxl:20},r.a.createElement($,null,this.props.currentQuery&&r.a.createElement("h2",null,"Results for '",this.props.currentQuery,"'"),r.a.createElement(Lt,null)))),this.props.nextQuery&&r.a.createElement(g.a,{type:"flex",justify:"center",style:{paddingTop:"50px"}},r.a.createElement(f.a,null,r.a.createElement(S.a,{onClick:function(){return e.props.loadMorePublicQueryResults()},type:"primary",size:"lg"}," Load More "))))),r.a.createElement(me.a,{placement:"right",closable:!1,onClose:this.onClose,visible:this.props.itineraryInFocus,width:window.innerWidth<=760?"100vw":"50vw"},r.a.createElement(Q.a,{onDragEnd:this.onDragEnd},r.a.createElement(wt,{dragging:this.props.dragging,match:this.props.match,onBack:function(){return e.props.clearItineraryInView()}})))))}}]),t}(a.Component),aa=Object(j.b)(function(e){return{authError:e.auth.authError,loading:e.query.loading,nextQuery:e.query.nextQuery,modalOpen:e.query.discoverModalOpen,itineraryInFocus:e.view.itinerary,currentQuery:e.query.currentQuery}},function(e){return{addToPublicIndex:function(t){return e(fe(t))},getPublicQueryResults:function(t){return e(he(t))},loadMorePublicQueryResults:function(){return e(function(e,t,n){(0,n.getFirestore)();var a=t(),r=a.query.nextQuery,i=t().query.currentQuery;i.radius=i.radius+5,e({type:"QUERY_LOADING"}),r.get().then(function(t){var n=a.query.formattedResults;t.docs.forEach(function(e){n.push(Object(I.a)({},e.data(),{id:e.id}))}),e({type:"QUERY_SUCCESS",formattedResults:n,lastSnapshot:t,currentQuery:a.query.currentQuery})}).catch(function(t){e({type:"QUERY_ERROR",err:t})})})},clearItineraryInView:function(){return e(function(e,t,n){n.getFirestore,e({type:"CLEAR_ITINERARY_TO_VIEW"})})}}})(na),ra=(n(903),n(220)),ia=n(380),oa=n(284),sa=ia.b.li({}),la=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[0,1,2,3],itemDesc:["a","b","c","d","e"]},n.toggleVisibility=function(){return n.setState({items:ca(n.state.items)})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.toggleVisibility,3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement(ra.a,null,r.a.createElement(ra.a.Item,{key:6},r.a.createElement("div",{className:oa.item})),r.a.createElement(ia.a,null,this.state.items.map(function(e){return r.a.createElement(sa,{"data-key":e,key:e},r.a.createElement(ra.a.Item,null,r.a.createElement("div",{className:oa.item,"data-key":e})))}),r.a.createElement(ra.a.Item,{key:6},r.a.createElement("div",{className:oa.item}))))}}]),t}(a.Component);function ca(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}var ua=n(285),pa=n(176),ma=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{type:"flex",justify:"space-around",className:ua.container},r.a.createElement(f.a,{xs:{span:20},md:{span:8}},r.a.createElement("h1",{className:ua.header},"Travelroo.io"),r.a.createElement("p",{className:ua.sub},"Discover, plan, and share your perfect itinerary"),r.a.createElement(g.a,null,r.a.createElement(pa.Link,{activeClass:"active",to:"page1",spy:!0},r.a.createElement(S.a,{type:"primary",shape:"round",size:"large"},"Learn More")))),r.a.createElement(f.a,{xs:{span:0},md:{span:8}},r.a.createElement(la,null)))}}]),t}(a.Component),da=n(532),ha=n(70),fa=n(533),ga=n.n(fa),ya=n(534),Ea=n.n(ya),va=n(535),ba=n.n(va),Oa=n(536),Ca=n.n(Oa),_a=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(pa.Element,{name:"page1",className:"element"},r.a.createElement("div",{className:ha.slant},r.a.createElement("p",{className:ha.title},"Designed to make planning fun again"),r.a.createElement(g.a,null,r.a.createElement(f.a,{span:18,offset:3},r.a.createElement(g.a,{type:"flex",justify:"space-around",className:ha.container},r.a.createElement(f.a,{className:ha.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:ha.circle},r.a.createElement("img",{className:ha.imageIcon,src:Ca.a,alt:"Globe"})),r.a.createElement("p",null,"Pick a place on the Earth")),r.a.createElement(f.a,{className:ha.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:ha.circle},r.a.createElement("img",{className:ha.imageIcon,src:Ea.a,alt:"Trip Itinerary"})),r.a.createElement("p",null,"Discover what other's have done")),r.a.createElement(f.a,{className:ha.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:ha.circle},r.a.createElement("img",{className:ha.imageIcon,src:ba.a,alt:"Trip Route"})),r.a.createElement("p",null,"Build your itinerary")),r.a.createElement(f.a,{className:ha.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:ha.circle},r.a.createElement("img",{className:ha.imageIcon,src:ga.a,alt:"Pyramid"})),r.a.createElement("p",null,"Travelroo the world!")))))))}}]),t}(a.Component),wa=n(37),Sa=n(537),Ia=n.n(Sa),ja=et.a.CheckableTag,Na=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!0},n.toggleVisibility=function(){return n.setState({checked:Math.random()>=.5})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.toggleVisibility,3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement(ja,Object.assign({},this.props,{checked:this.state.checked}))}}]),t}(r.a.Component),ka=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:wa.bigContainer},r.a.createElement("p",{className:wa.title},"Travel plans made by real travelers"),r.a.createElement(g.a,null,r.a.createElement(f.a,{xs:{span:20,offset:2},md:{span:18,offset:3},lg:{span:16,offset:4}},r.a.createElement(g.a,{type:"flex",className:wa.container},r.a.createElement(f.a,{className:wa.blue,xs:{span:24,offset:0},md:{span:12,offset:0}},r.a.createElement("p",{className:wa.sectionTitleWhite},"Powered by community"),r.a.createElement("p",{className:wa.sectionText,style:{marginRight:"10px"}},"At Travelroo, it's all about community. Whether you're a seasoned traveller or don't know where to start, Travelroo has something for you. Explore our community currated collection of itineraries from across the world. Get insight, get inspired, and when you're ready, build an itinerary fined tuned for you."),r.a.createElement(N.a,{to:"/signup"},r.a.createElement(S.a,{size:"default",ghost:!0,shape:"round"},"Begin Exploring"))),r.a.createElement(f.a,{className:wa.white,sm:{span:24,offset:0},md:{span:12,offset:0}},r.a.createElement(g.a,{style:{height:"700px"}},r.a.createElement(g.a,{className:wa.rowContainer},r.a.createElement(f.a,{xs:24,sm:24,md:24,lg:16,className:wa.rowTextContainer},r.a.createElement("p",{className:wa.rowTextTitle},"Explore"),r.a.createElement("p",{className:wa.rowTextDescription},"Browse our community currated itineraries from across the globe."),r.a.createElement(N.a,{to:"/signup"},"Learn More >")),r.a.createElement(f.a,{xs:0,sm:0,md:0,lg:7,offset:1,className:wa.rowImageContainer},r.a.createElement("div",null,r.a.createElement(Na,null,"Food"),r.a.createElement(Na,null,"21+"),r.a.createElement(Na,null,"Kid Friendly"),r.a.createElement(Na,null,"Outdoors"),r.a.createElement(Na,null,"City"),r.a.createElement(Na,null,"Tour"),r.a.createElement(Na,null,"Local")))),r.a.createElement(g.a,{className:wa.rowContainer},r.a.createElement(f.a,{xs:0,sm:0,md:0,lg:8,className:wa.rowImageContainer},r.a.createElement("img",{src:Ia.a,alt:"heart"})),r.a.createElement(f.a,{xs:24,sm:24,md:24,lg:16,className:wa.rowTextContainer},r.a.createElement("p",{className:wa.rowTextTitle},"Discover"),r.a.createElement("p",{className:wa.rowTextDescription},"Found something cool? Store it in a 'trip bucket' to save for later."),r.a.createElement(N.a,{to:"/signup"},"Learn More >"))),r.a.createElement(g.a,{className:wa.rowContainer},r.a.createElement(f.a,{xs:24,sm:24,md:24,lg:16,className:wa.rowTextContainer},r.a.createElement("p",{className:wa.rowTextTitle},"Build"),r.a.createElement("p",{className:wa.rowTextDescription},"Plan your trip, add items from your buckets or build from scratch."),r.a.createElement(N.a,{to:"/signup"},"Learn More >")),r.a.createElement(f.a,{xs:0,sm:0,md:0,lg:8,className:wa.rowImageContainer},r.a.createElement("img",{src:"https://via.placeholder.com/200?text=Placeholder",className:wa.right,alt:"Placeholder"}))),r.a.createElement(g.a,{className:wa.rowContainer},r.a.createElement(f.a,{xs:0,sm:0,md:0,lg:8,className:wa.rowImageContainer},r.a.createElement("img",{src:"https://via.placeholder.com/200?text=Placeholder",alt:"Placeholder"})),r.a.createElement(f.a,{xs:24,sm:24,md:24,lg:16,className:wa.rowTextContainerLast},r.a.createElement("p",{className:wa.rowTextTitle},"Contribute"),r.a.createElement("p",{className:wa.rowTextDescription},"Inspire others with your travel. Publicize your itinerary to our collection (we'll generify it)!"),r.a.createElement(N.a,{to:"/signup"},"Learn More >")))))))))}}]),t}(a.Component),xa=n(55),Ta=n(538),Ra=n.n(Ta),Aa=n(539),Da=n.n(Aa),Pa=n(540),La=n.n(Pa),Ua=n(541),Fa=n.n(Ua),Ba=n(542),Ma=n.n(Ba),Va=n(543),Wa=n.n(Va),Ga=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(pa.Element,{name:"page3",className:"element"},r.a.createElement("div",{className:xa.bigContainer},r.a.createElement("p",{className:xa.title},"Meet the team behind the scenes"),r.a.createElement(g.a,null,r.a.createElement(f.a,{span:20,offset:2},r.a.createElement(g.a,{type:"flex",justify:"space-around"},r.a.createElement(f.a,null,r.a.createElement("div",{className:xa.container},r.a.createElement("img",{src:Fa.a,alt:"Avatar",className:xa.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/UKkes2qN2T70s/giphy.gif",alt:"Avatar",className:xa.imageTop})),r.a.createElement("p",{className:xa.position},"The Architect"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/matthewkli/",target:"_blank"},"Matthew Li")),r.a.createElement(f.a,null,r.a.createElement("div",{className:xa.container},r.a.createElement("img",{src:Ra.a,alt:"Avatar",className:xa.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/w90dSL511YLiutvRYo/giphy.gif",alt:"Avatar",className:xa.imageTop})),r.a.createElement("p",{className:xa.position},"The Planner"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/alisa-kean/",target:"_blank"},"Alisa Kean")),r.a.createElement(f.a,null,r.a.createElement("div",{className:xa.container},r.a.createElement("img",{src:Ma.a,alt:"Avatar",className:xa.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/9Jcw5pUQlgQLe5NonJ/giphy.gif",alt:"Avatar",className:xa.imageTop})),r.a.createElement("p",{className:xa.position},"The Swiss Army Knife"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/peterhongg/",target:"_blank"},"Peter Hong")),r.a.createElement(f.a,null,r.a.createElement("div",{className:xa.container},r.a.createElement("img",{src:Da.a,alt:"Avatar",className:xa.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif",alt:"Avatar",className:xa.imageTop})),r.a.createElement("p",{className:xa.position},"The Dev"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/epeng1/",target:"_blank"},"Eric Peng"))))),r.a.createElement(g.a,null,r.a.createElement(f.a,{span:16,offset:4},r.a.createElement(g.a,{type:"flex",justify:"space-around"},r.a.createElement(f.a,{xs:20,sm:20,md:8,lg:8},r.a.createElement("img",{src:Wa.a,alt:"Avatar",className:xa.image2})),r.a.createElement(f.a,{xs:20,sm:20,md:8,lg:8},r.a.createElement("img",{src:La.a,alt:"Avatar",className:xa.image2})))))))}}]),t}(a.Component),Ya=n(218),za=n(558),Qa=function(){return r.a.createElement(za.a,{url:"https://travelroo.us20.list-manage.com/subscribe/post?u=2185e84ce0e75be368b493285&amp;id=1f199c783c"})},Ha=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Ya.bigContainer},r.a.createElement("p",{className:Ya.title},"Let's stay in touch :)"),r.a.createElement("p",{className:Ya.subTitle},"Be the first to know when we're live!"),r.a.createElement(g.a,{className:Ya.form},r.a.createElement(f.a,{lg:{span:12,offset:6},md:{span:18,offset:3},sm:{span:20,offset:2},xs:{span:22,offset:1}},r.a.createElement(Qa,null))))}}]),t}(a.Component),qa=n(188),Ja=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:qa.bigContainer},r.a.createElement(g.a,null,r.a.createElement(f.a,{span:20,offset:2},r.a.createElement(g.a,{type:"flex",justify:"center"},r.a.createElement(f.a,null,r.a.createElement("span",{className:qa.title},"Follow Travelroo.io")),r.a.createElement(f.a,null,r.a.createElement("a",{href:"#",className:qa.icon},r.a.createElement(y.Icon,{size:28,icon:E.twitter})),r.a.createElement("a",{href:"#",className:qa.icon},r.a.createElement(y.Icon,{size:28,icon:E.instagram})),r.a.createElement("a",{href:"#",className:qa.icon},r.a.createElement(y.Icon,{size:28,icon:E.linkedin})))))))}}]),t}(a.Component),Ka=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(zn,null,r.a.createElement("div",{className:da.body},r.a.createElement(ma,null),r.a.createElement(_a,null),r.a.createElement(ka,null),r.a.createElement(Ga,null),r.a.createElement(Ha,null),r.a.createElement(Ja,null)))}}]),t}(a.Component),Xa=n(557),Za=n(1003),$a=n(1002),er=Object($a.a)(Object(j.b)(function(e){return{auth:e.firebase.auth}})(function(e){var t=e.component,n=e.auth,a=e.isAuth,i=void 0!==a&&a,o=e.redirect,s=void 0===o?"/":o,l=Object(Xa.a)(e,["component","auth","isAuth","redirect"]),c=t;return r.a.createElement(h.a,Object.assign({},l,{render:function(e){return i&&n&&!n.uid||!1===i&&n.uid?r.a.createElement(Za.a,{to:{pathname:s,state:{from:e.location}}}):r.a.createElement(c,e)}}))})),tr=n(552),nr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).exportPDFWithComponent=function(){n.pdfExportComponent.save()},n.onDragEnd=function(e){},n.onDragStart=function(e){},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:"k-button",onClick:this.exportPDFWithComponent},"Export with component"),r.a.createElement("p",null,this.props.edit.currentItin?this.props.edit.currentItin.toString():"asdf"),r.a.createElement(S.a,{onClick:function(){return e.props.createNewItinerary()}}),r.a.createElement(S.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()}}),r.a.createElement(S.a,{onClick:function(){return e.props.loadItineraryToState()}},"Load To State"),r.a.createElement(tr.a,{ref:function(t){return e.pdfExportComponent=t},paperSize:"A4"},r.a.createElement(S.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()}}),r.a.createElement(S.a,{onClick:function(){return e.props.loadItineraryToState()}},"Load To State")),r.a.createElement(Q.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement($t,null)),r.a.createElement(Kn,{locations:[{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"},{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"},{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"},{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"},{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"},{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"},{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Seattle_Kerry_Park_Skyline.jpg/1920px-Seattle_Kerry_Park_Skyline.jpg",name:"Seattle, WA"}]}))}}]),t}(a.Component),ar=Object(j.b)(function(e){return{edit:e.edit,view:e.view}},function(e){return{createNewItinerary:function(){return e(re())},addCollectionToCurrentItinerary:function(){return e(ie())},loadItineraryToState:function(){return e(Ve("3H0jUKxaJ5mX0LReiGH1"))}}})(nr),rr=n(130),ir=Object(rr.a)(),or=n(189),sr=ze.a.Meta,lr=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=(r.a.createElement(we.b,null,r.a.createElement(we.b.Item,null,r.a.createElement(_.a,{type:"alert"}),"Report Itinerary")),this.props.itin.tags?this.props.itin.tags.map(function(e){return r.a.createElement(et.a,{className:or.tagStyle,color:"#1890ff"},e)}):[]),n=this.props.itin.location.map(function(t,n){return r.a.createElement("span",{key:n},n+1!==e.props.itin.location.length?t.name+" | ":t.name)}),a=[];this.props.itin.collectionOrder.forEach(function(t){e.props.itin.collection[t].eventOrder.forEach(function(n){e.props.itin.collection[t].events[n].images&&e.props.itin.collection[t].events[n].images.forEach(function(e){return a.push(e.url)})})});var i=r.a.createElement(kt.a,{className:or.carousel,effect:"fade",afterChange:this.onChange},a.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:or.img,alt:"example",src:e}))}));return r.a.createElement("div",{className:or.item},r.a.createElement(ze.a,{onClick:function(){e.props.history.push("/edit/"+e.props.itin.id)},style:{marginTop:"1em"},hoverable:!0,cover:a.length>0?i:null,actions:null},r.a.createElement(g.a,null,r.a.createElement(sr,{title:this.props.itin.name,description:n})),r.a.createElement(g.a,{className:or.cardContainer},t.slice(0,6))))}}]),t}(a.Component),cr=Object(de.a)(lr),ur=(n(998),n(553)),pr=n(219),mr=n.n(pr),dr=n(184),hr=n.n(dr),fr=n(547),gr=n.n(fr),yr=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={searchText:""},n.handleChange=function(e,t,a){n.setState({sortedInfo:a})},n.getColumnSearchProps=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,i=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(C.a,{ref:function(e){n.searchInput=e},placeholder:"Search ".concat(e),value:i[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return n.handleSearch(i,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return n.handleSearch(i,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return n.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(_.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return n.searchInput.select()})},render:function(e){return r.a.createElement(gr.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},n.handleSearch=function(e,t){t(),n.setState({searchText:e[0]})},n.handleReset=function(e){e(),n.setState({searchText:""})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.sortedInfo;t=t||{};var n=[Object(I.a)({title:"Name",dataIndex:"name",key:"name",width:"30%",sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===t.columnKey&&t.order},this.getColumnSearchProps("name")),{title:"Tags",key:"tags",dataIndex:"tags",render:function(e){return r.a.createElement("span",null,e.map(function(e){return r.a.createElement(et.a,{color:"#108ee9",key:e},e.toUpperCase())}))}},{title:"Location",key:"location",dataIndex:"location",render:function(e){return r.a.createElement("span",null,e.length>0?e.map(function(t,n){return r.a.createElement("span",null,n+1===e.length?t.name:t.name+" | ")}):"N/A")}},{title:"Created",key:"createdAt",dataIndex:"createdAt",sorter:function(e,t){return e.createdAt.seconds-t.createdAt.seconds},sortOrder:"createdAt"===t.columnKey&&t.order,render:function(e){return r.a.createElement("span",null,e&&0!==hr()().diff(e.toDate(),"days")&&r.a.createElement(mr.a,{format:"MM/DD/YYYY"},e.toDate()),e&&0===hr()().diff(e.toDate(),"days")&&r.a.createElement(mr.a,{fromNow:!0},e.toDate()),!e&&"N/A")}},{title:"Last Edited",key:"editedAt",dataIndex:"editedAt",sorter:function(e,t){return e.editedAt.seconds-t.editedAt.seconds},sortOrder:"editedAt"===t.columnKey&&t.order,render:function(e){return r.a.createElement("span",null,e&&0!==hr()().diff(e.toDate(),"days")&&r.a.createElement(mr.a,{format:"MM/DD/YYYY"},e.toDate()),e&&0===hr()().diff(e.toDate(),"days")&&r.a.createElement(mr.a,{fromNow:!0},e.toDate()),!e&&"N/A")}}];return r.a.createElement(ur.a,{onRow:function(t,n){return{onClick:function(n){e.props.history.push("/edit/"+t.id)}}},loading:this.props.loading,pagination:!1,columns:n,dataSource:this.props.itineraries,onChange:this.handleChange})}}]),t}(a.Component),Er=Object(de.a)(yr),vr=z.a.Button,br=z.a.Group,Or=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState({view:e.target.value})},n.state={view:"2"},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(br,{onChange:this.onChange,defaultValue:"2"},r.a.createElement(vr,{value:"2"},r.a.createElement(_.a,{type:"project"})),r.a.createElement(vr,{value:"1"},r.a.createElement(_.a,{type:"profile"}))),"1"===this.state.view&&r.a.createElement("div",{style:{marginTop:"20px",marginBottom:"20px"}},r.a.createElement(Er,{loading:!this.props.auth.isLoaded,itineraries:this.props.itineraries})),"2"===this.state.view&&r.a.createElement($,null,r.a.createElement("div",{className:"masonry",style:{width:"100%"}},r.a.createElement(ft.a,{type:["bottom"],duration:[450,0],interval:[50,0]},this.props.auth.isLoaded&&this.props.itineraries&&this.props.itineraries.length>0&&this.props.itineraries.map(function(e){return r.a.createElement(cr,{key:e.id,itin:e})}),(!this.props.auth.isLoaded||!this.props.itineraries)&&r.a.createElement(g.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(f.a,{span:24},r.a.createElement(V.a,null))))),this.props.auth.isLoaded&&this.props.itineraries&&this.props.itineraries.length<1&&r.a.createElement(Yt.a,null)))}}]),t}(a.Component),Cr=Object(J.d)(Object(j.b)(function(e,t){return Object(I.a)({},t,{auth:e.firebase.auth,itineraries:e.firestore.ordered["users/"+e.firebase.auth.uid+"/itineraries"]})},null),Object(q.firestoreConnect)(function(e){return[{collection:"users/"+e.auth.uid+"/itineraries",orderBy:["editedAt","desc"]}]}))(Or),_r=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(zn,null,r.a.createElement(g.a,{type:"flex",justify:"center"},r.a.createElement(f.a,{xs:22,sm:22,md:22,lg:20,xl:20,xxl:20,style:{paddingTop:"100px",paddingBottom:"100px"}},r.a.createElement("h1",{style:{marginBottom:"20px"}},"My Itineraries"),r.a.createElement(S.a,{style:{marginBottom:"20px"},onClick:function(){return e.props.createNewItinerary()},type:"primary"},r.a.createElement(_.a,{type:"plus"}),"Create New Itinerary"),r.a.createElement(Cr,null))))}}]),t}(a.Component),wr=Object(j.b)(null,function(e){return{createNewItinerary:function(){return e(re())}}})(_r),Sr=function(){return r.a.createElement(B,{isLogin:!1})},Ir=function(){return r.a.createElement(B,{isLogin:!0})},jr=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{history:ir},r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/test",component:ar}),r.a.createElement(h.a,{path:"/discover",component:aa}),r.a.createElement(er,{isAuth:!1,path:"/signup",redirect:"/home",component:Sr}),r.a.createElement(er,{isAuth:!1,path:"/login",redirect:"/home",component:Ir}),r.a.createElement(er,{isAuth:!0,path:"/profile",redirect:"/",component:wr}),r.a.createElement(er,{isAuth:!0,path:"/home",redirect:"/",component:$n}),r.a.createElement(er,{isAuth:!0,path:"/edit/:id/:action?",redirect:"/",component:Mn}),r.a.createElement(h.a,{path:"/",component:Ka})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nr={authError:null},kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_ERROR":return Object(I.a)({},e,{authError:t.err});case"SIGNUP_SUCCESS":return Object(I.a)({},e,{authError:null});case"LOGIN_ERROR":return Object(I.a)({},e,{authError:t.err});case"LOGIN_SUCCESS":case"SIGNOUT_SUCCESS":return Object(I.a)({},e,{authError:null});case"SIGNOUT_ERROR":return Object(I.a)({},e,{authError:t.err});default:return e}},xr=n(216),Tr={formattedResults:null,loading:!1,specificLoading:!1,discoverModalOpen:!1,lastSnapshot:null,nextQuery:null,currentQuery:null},Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUERY_SUCCESS":return Object(I.a)({},e,{formattedResults:t.formattedResults,currentQuery:t.currentQuery,lastSnapshot:t.lastSnapshot,nextQuery:t.nextQuery,loading:!1});case"QUERY_LOADING":return Object(I.a)({},e,{formattedResults:null,loading:!0});case"SPECIFIC_QUERY_SUCCESS":return Object(I.a)({},e,{focused:t.focused,specificLoading:!1});case"SPECIFIC_QUERY_ERROR":return Object(I.a)({},e,{focused:null,specificLoading:!1});case"SPECIFIC_QUERY_LOADING":return Object(I.a)({},e,{focused:null,discoverModalOpen:!0,specificLoading:!0});case"CLOSE_DISCOVER_MODAL":return Object(I.a)({},e,{discoverModalOpen:!1});default:return e}},Ar={currentRef:null,currentCollection:null,currentItinID:null,editEventID:null,editError:null,currentEventEditing:null,currentEventInitial:null,showNewModal:!1,saving:!1},Dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_STATE":return Object(I.a)({},Ar);case"START_SAVING":return Object(I.a)({},e,{saving:!0});case"PREP_EDIT_STATE":return Object(I.a)({},e,{editError:null,currentItinID:t.itinID});case"NEW_ITIN_CREATED_SUCCESS":return Object(I.a)({},Ar,{currentItinID:t.itinID,currentRef:t.itinRef,showNewModal:!0});case"CLOSE_NEW_MODAL":return Object(I.a)({},e,{showNewModal:!1});case"NEW_COLLECTION_SUCCESS":return Object(I.a)({},e,{saving:!1,editError:null});case"UPDATE_CURRENT_COLLECTION_VIEW":return Object(I.a)({},e,{currentCollection:t.currentCollection});case"LOAD_ITIN_SUCCESS":return Object(I.a)({},e,{currentRef:t.itinRef,currentItinID:t.itinID});case"UPDATE_COLLECTION_SELECTED_SUCCESS":return Object(I.a)({},e,{currentCollection:t.collectionID,editEventID:null});case"PREP_CURRENT_EVENT_EDITING":return Object(I.a)({},e,{editEventID:t.id,currentEventEditing:t.event,currentEventInitial:t.event});case"UPDATE_CURRENT_EVENT_EDITING":return Object(I.a)({},e,{currentEventEditing:t.event});case"CURRENT_EVENT_SAVED_ERROR":return Object(I.a)({},e,{editError:t.error});case"CURRENT_EVENT_SAVED_SUCCESS":case"CLOSE_EVENT_EDITING":return Object(I.a)({},e,{editEventID:null,currentEventEditing:null,currentEventInitial:null,saving:!1});case"PREP_CURRENT_EVENT_EDITING_SPECIFIC":return Object(I.a)({},e,{currentCollection:t.collectionId,editEventID:t.id,currentEventEditing:t.event,currentEventInitial:t.event});case"NEW_EVENT_SUCCESS":case"ADD_EVENT_SUCCESS":return Object(I.a)({},e,{editEventID:t.id,currentEventEditing:t.event,currentEventInitial:t.event,saving:!1});case"UPDATED_EVENTLIST_ORDER_SUCCESS":case"UPDATED_COLLECTION_ORDER_SUCCESS":case"ITIN_UPDATE_SUCCESS":return Object(I.a)({},e,{saving:!1});default:return e}},Pr={itinerary:null,currentCollectionId:null,loading:!1},Lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TRANSACTION":return Object(I.a)({},e,{loading:!0});case"LOAD_ITINERARY_TO_VIEW":return Object(I.a)({},e,{itinerary:t.itinerary,currentCollectionId:t.currentCollectionId,loading:!1});case"UPDATE_COLLECTION_VIEWING":return Object(I.a)({},e,{currentCollectionId:t.currentCollectionId});case"CLEAR_ITINERARY_TO_VIEW":return Object(I.a)({},Pr);default:return e}},Ur={results:[]},Fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_RESULTS":return Object(I.a)({},e,{results:t.results});default:return e}},Br=Object(J.c)({auth:kr,query:Rr,firestore:xr.firestoreReducer,firebase:q.firebaseReducer,edit:Dr,view:Lr,search:Fr}),Mr=function(e,t){return"RESET_APP"===t.type&&(e=void 0),Br(e,t)},Vr=n(550),Wr=n(379),Gr=n.n(Wr);n(990),n(992),n(997);Gr.a.initializeApp({apiKey:"AIzaSyBn6pNrtzd5hZGRm9HkTdoc6l-ETB35IAQ",authDomain:"travelbear-685cf.firebaseapp.com",databaseURL:"https://travelbear-685cf.firebaseio.com",projectId:"travelbear-685cf",storageBucket:"travelbear-685cf.appspot.com",messagingSenderId:"1060317126868"});var Yr=Gr.a,zr=n(551),Qr=n.n(zr)()(ir),Hr=Object(J.e)(Mr,Object(J.d)(Object(J.a)(Vr.a.withExtraArgument({getFirebase:q.getFirebase,getFirestore:xr.getFirestore})),Object(xr.reduxFirestore)(Yr),Object(q.reactReduxFirebase)(Yr),Qr));o.a.render(r.a.createElement(j.a,{store:Hr},r.a.createElement(jr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[562,1,2]]]);
//# sourceMappingURL=main.92d32f8d.chunk.js.map