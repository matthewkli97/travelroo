(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports={ratingContainer:"QueryCard_ratingContainer__10WGP",cardContainer:"QueryCard_cardContainer__2M8NT",noReviews:"QueryCard_noReviews__s0uui",tagStyle:"QueryCard_tagStyle__2P5Sk",item:"QueryCard_item__22niX"}},107:function(e,t,a){e.exports={logo:"Navbar_logo__MgftN",logoIcon:"Navbar_logoIcon__2jeM8",logoText:"Navbar_logoText__1D8tP",right:"Navbar_right__1iE_g",menuCon:"Navbar_menuCon__PohV6",menuBar:"Navbar_menuBar__1KUOQ",iconButton:"Navbar_iconButton__1gtNM"}},121:function(e,t,a){e.exports={sticky:"ItineraryViewer_sticky__2yohN",hidden:"ItineraryViewer_hidden__17cYo",open:"ItineraryViewer_open__2t03L",stickyBackMenu:"ItineraryViewer_stickyBackMenu__2Wa51",stickySelect:"ItineraryViewer_stickySelect__2ah5H",noReviews:"ItineraryViewer_noReviews__3eJTI",ratingContainer:"ItineraryViewer_ratingContainer__dVPlZ",section:"ItineraryViewer_section__1_1wj"}},144:function(e,t,a){e.exports={resultList:"BuilderPane_resultList__IYYBR",discoverMenu:"BuilderPane_discoverMenu__2glku",container:"BuilderPane_container__1Hdy4",header:"BuilderPane_header__3r82B",content:"BuilderPane_content__3diwX",sticky:"BuilderPane_sticky__OW2ap"}},145:function(e,t,a){e.exports={splitPane:"Edit_splitPane__1Vi2I",content:"Edit_content__1Tc1O",panel:"Edit_panel__21sYY",overlay:"Edit_overlay__ilP9O",footer:"Edit_footer__Jk6e-"}},168:function(e,t,a){e.exports={list:"MultidayList_list__2AWzs",multilist:"MultidayList_multilist__tgyqV",addSection:"MultidayList_addSection__1g-Uo"}},172:function(e,t,a){e.exports={container:"LoginForm_container__1qRDW",enter:"LoginForm_enter__3KS8M",icon:"LoginForm_icon__1GoQ1",btn1:"LoginForm_btn1__11Wd9",btn:"LoginForm_btn__3eBrc",divider:"LoginForm_divider__Fn1rr"}},173:function(e,t,a){e.exports={bigContainer:"Footer_bigContainer__Hyu6e",right:"Footer_right__3iRZF",wrap:"Footer_wrap__2KJQ1",rights:"Footer_rights__tTxC6",last:"Footer_last__16f5Y"}},174:function(e,t,a){e.exports={panel:"Discover_panel__2hlrC",content:"Discover_content__10bB9"}},175:function(e,t,a){e.exports={bigContainer:"Social_bigContainer__t0xl0",title:"Social_title__3wExB",icon:"Social_icon__2CKuB"}},204:function(e,t,a){e.exports={bigContainer:"Page4_bigContainer__HjIZT",title:"Page4_title__1P5_X",subTitle:"Page4_subTitle__kHAzN",form:"Page4_form__P4NET"}},258:function(e,t,a){e.exports={input:"Panel_input__3q61B"}},264:function(e,t,a){e.exports={menu:"AuthMenu_menu__KVjID",menuSider:"AuthMenu_menuSider__Mnm52"}},268:function(e,t,a){e.exports={siderLayout:"DayMenu_siderLayout__M_-iY",hover:"DayMenu_hover__Qd_A6",hidden:"DayMenu_hidden__2__Tc"}},269:function(e,t,a){e.exports={item:"ItineraryAnim_item__1G4c0"}},270:function(e,t,a){e.exports={header:"Banner_header__1WsMS",sub:"Banner_sub__1v6bx",container:"Banner_container__UlsUu"}},33:function(e,t,a){e.exports={container:"Page2_container__3Lgg8",bigContainer:"Page2_bigContainer__2yncJ",title:"Page2_title__2nDoB",blue:"Page2_blue__Mhc_8",white:"Page2_white__1Cjoz",sectionTitleWhite:"Page2_sectionTitleWhite__32rhs",sectionText:"Page2_sectionText__2H-Md",rowTextContainer:"Page2_rowTextContainer__1b7Oc",rowTextContainerLast:"Page2_rowTextContainerLast__357O2",rowTextTitle:"Page2_rowTextTitle__27tfN",rowTextDescription:"Page2_rowTextDescription__2gsX-",rowContainer:"Page2_rowContainer__8g2Kt",rowImageContainer:"Page2_rowImageContainer__1_tU7",right:"Page2_right__1v6Of"}},352:function(e,t,a){e.exports={menu:"UnauthMenu_menu__-zYiS",menuSider:"UnauthMenu_menuSider__Fvpay"}},354:function(e,t){e.exports={defaultCoverImage:"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png",defaultAvatarImage:"https://png.pngtree.com/svg/20161212/personal_default_avatar_for_mobile_phone_app__146524.png"}},49:function(e,t,a){e.exports={card:"EventItem_card__1LD_P",cardEdit:"EventItem_cardEdit__n4mcq",doneMenuItem:"EventItem_doneMenuItem__1JwWF",titleInput:"EventItem_titleInput__3b5lS",section:"EventItem_section__3zvaG",quill:"EventItem_quill__wnX5o",borderless:"EventItem_borderless__xlfJg",menuItem:"EventItem_menuItem__3oIaR","ant-menu-item-selectedi":"EventItem_ant-menu-item-selectedi__2RPtE",itemTitle:"EventItem_itemTitle__u0xmq",gallery:"EventItem_gallery__auwf5",tagStyle:"EventItem_tagStyle__1j_Vx",hidden:"EventItem_hidden__3Ll_v"}},490:function(e,t,a){e.exports={menuStyle:"ProfileDrop_menuStyle__2x0CF"}},492:function(e,t,a){e.exports=a.p+"static/media/kangaroo.3673a078.svg"},498:function(e,t,a){e.exports={card:"EventList_card__3dryI",addSection:"EventList_addSection__cP_bL"}},503:function(e,t,a){e.exports={menuContainer:"FilterMenu_menuContainer__1pauo"}},505:function(e,t){e.exports="data:image/png;base64,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"},506:function(e,t,a){e.exports=a.p+"static/media/kangaroo_white.2e94f37b.svg"},510:function(e,t,a){e.exports={slant:"Home_slant__1ZJeb",body:"Home_body__2niWn"}},511:function(e,t,a){e.exports=a.p+"static/media/egypt-pyramid.d1b60a0f.svg"},512:function(e,t,a){e.exports=a.p+"static/media/loupe.d59385b9.svg"},513:function(e,t,a){e.exports=a.p+"static/media/route.30801527.svg"},514:function(e,t,a){e.exports=a.p+"static/media/travel.b51baa11.svg"},515:function(e,t,a){e.exports=a.p+"static/media/placeholder.fdd808ae.svg"},516:function(e,t,a){e.exports=a.p+"static/media/Alisa.41aac9fd.jpg"},517:function(e,t,a){e.exports=a.p+"static/media/Eric.1d28fae8.jpg"},518:function(e,t,a){e.exports=a.p+"static/media/ischool.1ec147cf.svg"},519:function(e,t,a){e.exports=a.p+"static/media/Matthew.20083396.jpeg"},52:function(e,t,a){e.exports={bigContainer:"Page3_bigContainer__1rCK_",title:"Page3_title__1L21e",container:"Page3_container__2LTTg",image:"Page3_image__eMNrq",imageTop:"Page3_imageTop__29UF-",text:"Page3_text__12d8P",position:"Page3_position__1Xib_",image2:"Page3_image2__1XlgJ"}},520:function(e,t,a){e.exports=a.p+"static/media/Peter.45b4f798.jpg"},521:function(e,t,a){e.exports=a.p+"static/media/uw.4d74bb12.png"},536:function(e,t,a){e.exports=a(978)},541:function(e,t,a){},542:function(e,t,a){},68:function(e,t,a){e.exports={slant:"Page1_slant__3GBGL",container:"Page1_container__2Cb6X",title:"Page1_title__3hU1N",imageIcon:"Page1_imageIcon__eeggU",circle:"Page1_circle__3YCPg",col:"Page1_col__1tDIM"}},836:function(e,t,a){e.exports={masonry:"ResultList_masonry__r71cT",XS:"ResultList_XS__bkqHU",SM:"ResultList_SM__1HyC-",MD:"ResultList_MD__2r63q",LG:"ResultList_LG__3S_lx",XL:"ResultList_XL__1Y-PX",XXL:"ResultList_XXL__3pnLX"}},86:function(e,t,a){e.exports={container:"SignupForm_container__3Wby5",enter:"SignupForm_enter__2GEW7",icon:"SignupForm_icon__2Rb5S",btn1:"SignupForm_btn1__Ya_v0",btn:"SignupForm_btn__1MZGm",divider:"SignupForm_divider__321Dn"}},894:function(e,t,a){e.exports={siderClosed:"Dashboard_siderClosed__1Nil7",siderOpen:"Dashboard_siderOpen__zVooX",header:"Dashboard_header__3hF19"}},92:function(e,t,a){e.exports={card:"Search_card__30Eng",itemTitle:"Search_itemTitle__3i8ZO",noReviews:"Search_noReviews__2u0Jt",carousel:"Search_carousel__2i1NP",img:"Search_img__NdbbP",input:"Search_input__1vG-n",container:"Search_container__2554j",containerNoBorder:"Search_containerNoBorder__1bAcB"}},93:function(e,t,a){e.exports={left:"Auth_left__ySK-6",leftText:"Auth_leftText__A7wCf",right:"Auth_right__2AlKf",icon:"Auth_icon__2C7Y9",center:"Auth_center__8_Hz_",overlay:"Auth_overlay__3jw37",rowContainer:"Auth_rowContainer__3Oder",inline:"Auth_inline__3J4cs"}},978:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),o=a.n(i),l=(a(541),a(8)),c=a(9),s=a(11),u=a(10),p=a(12),m=a(986),d=a(987),h=a(983),g=(a(542),a(44),a(13)),f=(a(35),a(17)),E=a(78),y=a(79),v=a(93),b=(a(272),a(97)),O=(a(206),a(85)),C=(a(50),a(4)),_=(a(346),a(43)),I=(a(74),a(30)),S=(a(207),a(117)),j=(a(36),a(20)),N=a(15),w=a(21),T=a(982),x=function(){return function(e,t,a){var n=a.getFirebase,r=a.getFirestore,i=n(),o=r(),l=new i.auth.GoogleAuthProvider;console.log(l),i.auth().signInWithPopup(l).then(function(e){return console.log("hit"),o.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){console.log("google login success"),e({type:"LOGIN_SUCCESS"})}).catch(function(t){console.log(t),e({type:"LOGIN_ERROR",err:t})})}},k=a(86),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=Object(N.a)({},a.state.newUser);t[e.target.id]=e.target.value,a.setState({newUser:t})},a.handleSubmit=function(e){e.preventDefault(),a.props.signUpWithEmailAndPassword(a.state.newUser)},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Passwords do not match."):n()},a.state={confirmDirty:!1,autoCompleteResult:[],newUser:{password:null,passwordConf:null,email:null,username:null,name:null}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={styles:{"margin-bottom":"15px"},labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},a={wrapperCol:{xs:{span:24}}};return r.a.createElement("div",null,r.a.createElement(j.a,{className:[k.btn1,k.btn].join(" "),shape:"round",type:"primary"},r.a.createElement(E.Icon,{size:14,className:k.icon,icon:y.google}),"Join with Google"),r.a.createElement(j.a,{shape:"round",type:"primary"},r.a.createElement(E.Icon,{size:14,className:k.icon,icon:y.facebook}),"Join with Facebook"),r.a.createElement("p",{className:k.divider},"- Or -"),this.props.authError&&r.a.createElement(S.a,{type:"error",message:this.props.authError.message,banner:!0}),r.a.createElement(_.a,{onSubmit:this.handleSubmit},r.a.createElement(_.a.Item,Object.assign({},t,{className:k.container,label:r.a.createElement("span",null,"Name")}),e("name",{rules:[{required:!0,message:"Please enter your name.",whitespace:!0}]})(r.a.createElement(I.a,{id:"name",onChange:this.handleChange}))),r.a.createElement(_.a.Item,Object.assign({},t,{className:k.container,label:"E-mail"}),e("email",{rules:[{type:"email",message:"Please enter a valid email."},{required:!0,message:"Please enter an email."}]})(r.a.createElement(I.a,{id:"email ",onChange:this.handleChange}))),r.a.createElement(_.a.Item,Object.assign({},t,{className:k.container,label:r.a.createElement("span",null,"Username\xa0",r.a.createElement(O.a,{title:"Public Username"},r.a.createElement(C.a,{type:"question-circle-o"})))}),e("username",{rules:[{required:!0,message:"Please enter a username.",whitespace:!0}]})(r.a.createElement(I.a,{id:"username ",onChange:this.handleChange}))),r.a.createElement(_.a.Item,Object.assign({},t,{className:k.container,label:"Password"}),e("password",{rules:[{required:!0,message:"Please enter a password."},{validator:this.validateToNextPassword}]})(r.a.createElement(I.a,{type:"password",id:"password ",onChange:this.handleChange}))),r.a.createElement(_.a.Item,Object.assign({},t,{className:k.container,label:"Confirm Password"}),e("passwordConfirm",{rules:[{required:!0,message:"Please confirm your password."},{validator:this.compareToFirstPassword}]})(r.a.createElement(I.a,{type:"password",onBlur:this.handleConfirmBlur,id:"passwordConfirm",onChange:this.handleChange}))),r.a.createElement(_.a.Item,a,e("agreement",{valuePropName:"checked"})(r.a.createElement(b.a,null,"I have read the ",r.a.createElement("a",{href:""},"agreement")))),r.a.createElement(_.a.Item,a,r.a.createElement(j.a,{className:k.enter,type:"primary",htmlType:"submit"},"Register"),r.a.createElement(T.a,{to:"/login"},"Already a member?"))))}}]),t}(n.Component),R=Object(w.b)(function(e){return{authError:e.auth.authError}},function(e){return{signUpWithEmailAndPassword:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,i=n.getFirestore,o=r(),l=i();o.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(e){return l.collection("users").doc(e.user.uid).set({name:a.name,username:a.username})}).then(function(){e({type:"SIGNUP_SUCCESS"})}).catch(function(t){e({type:"SIGNUP_ERROR",err:t})})}));var a},signInWithGoogle:function(){return e(x())},signInWithFacebook:function(){return e(function(e,t,a){var n=a.getFirebase,r=a.getFirestore,i=n(),o=r(),l=new i.auth.FacebookAuthProvider;i.auth().signInWithPopup(l).then(function(e){return o.db.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})}}})(_.a.create()(A)),D=a(172),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){console.log(a.state);var t=Object(N.a)({},a.state.credentials);t[e.target.id]=e.target.value,a.setState({credentials:t})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){a.props.signInWithEmailAndPassword(a.state.credentials)})},a.state={confirmDirty:!1,autoCompleteResult:[],credentials:{email:null,password:null}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(j.a,{className:[D.btn1,D.btn].join(" "),shape:"round",type:"primary",onClick:function(){return e.props.signInWithGoogle()}},r.a.createElement(E.Icon,{size:14,className:D.icon,icon:y.google}),"Login with Google"),r.a.createElement(j.a,{shape:"round",type:"primary",onClick:function(){return e.props.signInWithFacebook()}},r.a.createElement(E.Icon,{size:14,className:D.icon,icon:y.facebook}),"Login with Facebook"),r.a.createElement("p",{className:D.divider},"- Or -"),this.props.authError&&r.a.createElement(S.a,{type:"error",message:this.props.authError.message,banner:!0}),r.a.createElement(_.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(_.a.Item,null,t("email",{rules:[{type:"email",message:"Please enter a valid email."},{required:!0,message:"Please enter an email."}]})(r.a.createElement(I.a,{id:"email",onChange:this.handleChange,prefix:r.a.createElement(C.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(_.a.Item,null,t("password",{rules:[{required:!0,message:"Password Required"}]})(r.a.createElement(I.a,{id:"password",onChange:this.handleChange,prefix:r.a.createElement(C.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(T.a,{className:"login-form-forgot",to:""},"Forgot password?"),r.a.createElement(_.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(b.a,null,"Remember me"))),r.a.createElement(_.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")),r.a.createElement(_.a.Item,null,r.a.createElement("span",null,"New to Travelroo.io? ",r.a.createElement(T.a,{className:"login-form-forgot",to:"/signup"},"Sign up now")))))}}]),t}(n.Component),P=Object(w.b)(function(e){return{authError:e.auth.authError}},function(e){return{signInWithGoogle:function(){return e(x())},signInWithFacebook:function(){return e(function(e,t,a){var n=a.getFirebase,r=a.getFirestore,i=n(),o=r(),l=new i.auth.FacebookAuthProvider;i.auth().signInWithPopup(l).then(function(e){return o.db.collection("users").doc(e.user.uid).get().then(function(t){if(!t.exists)return o.collection("users").doc(e.user.uid).set({name:e.user.displayName})})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})},signInWithEmailAndPassword:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(t){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(_.a.create()(L)),U=function(e){return r.a.createElement("svg",Object.assign({viewBox:"0 0 286 178"},e),r.a.createElement("path",{d:"M87.2 176.8l.9-3.2-3.9-.9c.2-1.8.5-3.5 1-5.2 1.5-4.1 2.3-9.1 5.1-12 4.4-4.6 5.9-9.9 6.7-15.6.6-4.9.7-9.9 1.1-14.9.3-4.3 2.1-7.1 6.8-7.7 1.9-.3 3.6-1.3 4.8-2.8 6.3-9.4 12.4-18.9 18.3-28.5 3.1-5.1 1.8-6.8-3.5-9.8-3.4-1.9-5.9-5.3-9.7-8.9-5.2 5.8-11.3 12.2-16.8 19.2-10.1 12.7-20.7 24.8-34 34.3-12.7 9.1-26.7 14-42.5 13.3-7.9-.4-14.9-3-19.8-10.8 1.5.2 2.5.1 3.2.5 9.3 5.5 18.8 4.6 28.3.7 16.9-6.9 31.5-18.5 42-33.5 9-12.7 18.5-25.3 26.1-38.9 9.4-16.8 23.9-26.3 40.9-33 7.3-2.8 14.8-5 22.4-6.5 9.8-2 19.2.9 28.2 4.4 8.1 3.2 15.9 7.5 23.9 11 4.8 2 9.8 4.3 14.8 4.7 3.7.3 8.2-1.6 11.4-3.8 6.9-4.7 11.7-11.4 15.5-18.9 1.5-3 4.4-5.2 6.6-7.8l1.7.8c.6 2.3 1.2 4.6 1.8 7l2.4-1.1 1.3.7c-1.3 3-2.4 6.2-4.1 9-1.4 2.3-1.2 3.7 1 4.8 9 4.4 10.5 14.5 15.8 21.6.5.6-2.2 4.7-4.2 5.8-1.7.9-4.8.5-6.6-.5-4-2.2-8.4-3.5-13-3.8-3.7-.2-5.9.4-8.2 3-3.9 4.5-7.4 9.7-12.1 13.1-5.2 3.8-11.6 6.1-17.4 9-.7.4-1.9.6-2.1 1.2-2.4 6.7-5.3 13.2-6.8 20.1s-10 15.8-17.4 16.2c-1.4.1-4.2-1.3-4.2-1.8.2-2.4.8-6.4 2-6.8 9.1-2.5 9.3-9.5 9.2-16.6 0-2.7-1.2-5.4-2-8.4h-26c-2.9 9.3-9.5 16.9-18.2 21.2-18.1 9.1-31.2 23.7-43.9 38.6-2.4 2.8-2.6 7.6-3.5 11.6-.7 2.7-1 5.6-.9 8.4.7 10.1-6.3 14.9-13.3 19.3-2.6 1.5-5.8 1.4-9.1 2.2z"}))},F=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{type:"flex",justify:"space-around",align:"middle",style:{minHeight:"100%",maxHeight:"100%",overflowY:"scroll"}},r.a.createElement(g.a,{className:v.left,xs:0,sm:0,md:12,style:{minHeight:"100%",maxHeight:"100%",overflowY:"scroll"}},r.a.createElement(U,{className:v.overlay}),r.a.createElement(f.a,{style:{minHeight:"100%",maxHeight:"100%"},type:"flex",justify:"center",align:"middle"},r.a.createElement("div",{className:v.center},r.a.createElement("span",{className:v.leftText},r.a.createElement(E.Icon,{className:v.icon,size:32,icon:y.search}),"Discover where others have gone"),r.a.createElement("br",null),r.a.createElement("span",{className:v.leftText},r.a.createElement(E.Icon,{className:v.icon,size:32,icon:y.list}),"Build and customize your perfect itinerary"),r.a.createElement("br",null),r.a.createElement("span",{className:v.leftText},r.a.createElement(E.Icon,{className:v.icon,size:32,icon:y.group}),"Share it for the next traveler (if you want)")))),r.a.createElement(g.a,{className:v.right,xs:20,sm:20,md:12,style:{minHeight:"100%",maxHeight:"100%",overflowY:"scroll"}},r.a.createElement(f.a,{style:{minHeight:"100%",maxHeight:"100%"},type:"flex",justify:"center",align:"middle"},r.a.createElement(g.a,{xs:20,sm:20,md:16,lg:12},!this.props.isLogin&&r.a.createElement("div",null,r.a.createElement("h1",null,"See where the world is traveling."),r.a.createElement("h2",null,"Join Travelroo.io"),r.a.createElement(R,null)),this.props.isLogin&&r.a.createElement("div",null,r.a.createElement("h1",null,"See where the world is traveling."),r.a.createElement("h2",null,"Login to Travelroo.io"),r.a.createElement(P,null))))))}}]),t}(n.Component),M=(a(292),a(119)),B=(a(293),a(141)),V=a(37),G=a(116),Y=(a(386),a(142)),z=a(42),H=a(251),W=a(89),q=a(47),Q=a(489),J=a.n(Q),X={XS:480,SM:576,MD:768,LG:992,XL:1200,XXL:1600},K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={class:"XS"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"100%",height:"100%"},className:this.state.class},r.a.createElement(J.a,{onResize:function(t){var a=["XS"];Object.keys(X).forEach(function(e){t.width>X[e]&&a.push(e)}),e.setState({class:a[a.length-1]})}}),this.props.children)}}]),t}(n.Component),Z={name:"Untitled",location:[],tags:[],collection:{},collectionOrder:[]},$={name:"Untitled"},ee=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},te=function(){return function(e,t,a){var n=a.getFirestore;e({type:"START_SAVING"});var r=t(),i=r.firebase,o=(r.edit,n());e({type:"CLEAR_STATE"});var l=o.collection("users").doc(i.auth.uid).collection("itineraries").doc();l.set(Object(N.a)({},Z,{editedAt:o.FieldValue.serverTimestamp(),createdAt:o.FieldValue.serverTimestamp()})).then(function(){e({type:"NEW_ITIN_CREATED_SUCCESS",itinID:l.id,itinRef:l,meta:{transition:function(e,t,a){return{pathname:"/edit/"+l.id}}}})}).catch(function(t){e({type:"NEW_ITIN_CREATED_ERROR",e:t})})}},ae=function(){return function(e,t,a){var n=a.getFirestore;e({type:"START_SAVING"});var r=t(),i=n(),o=i.collection("users").doc(r.firebase.auth.uid).collection("itineraries").doc(r.edit.currentItinID),l=ee(),c=function(){var e=ee(),t={name:"Untitled",events:{},eventOrder:[]};return t.eventOrder.push(e),t.events[e]=Object(N.a)({},$),t}();o.set({editedAt:i.FieldValue.serverTimestamp(),collection:Object(V.a)({},l,c),collectionOrder:n().FieldValue.arrayUnion(l)},{merge:!0}).then(function(){e({type:"NEW_COLLECTION_SUCCESS"})}).catch(function(t){return e({type:"NEW_COLLECTION_ERROR",e:t})})}},ne=function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=a(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({editedAt:o.FieldValue.serverTimestamp(),collection:Object(V.a)({},e,o.FieldValue.delete()),collectionOrder:o.FieldValue.arrayRemove(e)},{merge:!0}).then(function(){t({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){t({type:"ITIN_UPDATE_ERROR",e:e})})}},re=function(e,t){return function(a,n,r){var i=r.getFirestore;a({type:"START_SAVING"});var o=n(),l=i();l.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:l.FieldValue.serverTimestamp(),collection:Object(V.a)({},e,{events:Object(V.a)({},t,l.FieldValue.delete()),eventOrder:l.FieldValue.arrayRemove(t)})},{merge:!0}).then(function(){a({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){a({type:"ITIN_UPDATE_ERROR",e:e})})}},ie=function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=r(),o=a();i.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:i.FieldValue.serverTimestamp(),collection:Object(V.a)({},o.edit.currentCollection,{eventOrder:e})},{merge:!0}).then(function(){t({type:"UPDATED_EVENTLIST_ORDER_SUCCESS"})}).catch(function(e){t({type:"UPDATED_EVENTLIST_ORDER_ERROR",e:e})})}},oe=function(e){return function(t,a,n){n.getFirestore;t({type:"UPDATE_COLLECTION_SELECTED_SUCCESS",collectionID:e})}},le=function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=r(),o=a();i.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).update({editedAt:i.FieldValue.serverTimestamp(),collectionOrder:e}).then(function(){t({type:"UPDATED_COLLECTION_ORDER_SUCCESS"})}).catch(function(e){t({type:"UPDATED_COLLECTION_ORDER_ERROR",e:e})})}},ce=function(e,t){return function(a,n,r){r.getFirestore;a({type:"PREP_CURRENT_EVENT_EDITING",id:e,event:t})}},se=(a(446),a(260)),ue=(a(330),a(105)),pe=(a(194),a(25)),me=a(264),de=(a(772),a(491)),he=a(490),ge=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(pe.a,{className:he.menuStyle},this.props.auth.displayName&&r.a.createElement(pe.a.Item,{disabled:!0},"Signed In As: ",this.props.auth.displayName),r.a.createElement(pe.a.Item,null,r.a.createElement(C.a,{type:"user"}),"Profile"),r.a.createElement(pe.a.Item,null,r.a.createElement(C.a,{type:"setting"}),"Settings"),r.a.createElement(pe.a.Item,{onClick:function(){return e.props.signOut()}},r.a.createElement(C.a,{type:"logout"}),"Sign Out"));return r.a.createElement(de.a,{content:t,placement:"bottomRight"},this.props.children)}}]),t}(n.Component),fe=Object(w.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"RESET_APP"}),e({type:"SIGNOUT_SUCCESS"})}).catch(function(t){e({type:"SIGNOUT_ERROR"})})})}}})(ge),Ee=(pe.a.SubMenu,pe.a.ItemGroup,function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,!this.props.sider&&r.a.createElement(pe.a,{selectable:!1,className:this.props.sider?me.menuSider:me.menu,mode:this.props.sider?"vertical":"horizontal"},r.a.createElement(pe.a.Item,{key:"1",onClick:function(){return e.props.createNewItinerary()}},r.a.createElement(C.a,{type:"plus",style:{marginRight:"0px"}})),r.a.createElement(pe.a.Item,{key:"2"},r.a.createElement(T.a,{to:"/discover"},"Discover")),r.a.createElement(pe.a.Item,{key:"3"},r.a.createElement(T.a,{to:"/feed"},"Following")),r.a.createElement(fe,{auth:this.props.auth},r.a.createElement(T.a,{to:"/profile",style:{marginRight:"0px"}},this.props.auth.photoURL&&r.a.createElement(ue.a,{src:this.props.auth.photoURL}),!this.props.auth.photoURL&&r.a.createElement(ue.a,{style:{marginRight:"0px"},icon:"user"})))),this.props.sider&&r.a.createElement(pe.a,{selectable:!1,className:me.menuSider,mode:"vertical"},r.a.createElement(T.a,{to:"/profile"},r.a.createElement(f.a,{style:{marginLeft:"14px"},type:"flex",justify:"left",align:"middle"},r.a.createElement(g.a,null,this.props.auth.photoURL&&r.a.createElement(ue.a,{src:this.props.auth.photoURL}),!this.props.auth.photoURL&&r.a.createElement(ue.a,{style:{marginRight:"0px"},icon:"user"})),r.a.createElement(g.a,{style:{marginLeft:"14px"}},this.props.auth.displayName))),r.a.createElement(pe.a.Item,{key:"2"},r.a.createElement(T.a,{to:"/discover"},"Discover")),r.a.createElement(pe.a.Item,{key:"3"},r.a.createElement(T.a,{to:"/feed"},"Following")),r.a.createElement(pe.a.Item,{key:"1",onClick:function(){return e.props.createNewItinerary()}},r.a.createElement(C.a,{type:"plus",style:{marginRight:"0px"}}))))}}]),t}(n.Component)),ye=Object(w.b)(null,function(e){return{createNewItinerary:function(){return e(te())}}})(Ee),ve=a(352),be=(pe.a.SubMenu,pe.a.ItemGroup,function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.props.sider),r.a.createElement(pe.a,{selectable:!1,className:this.props.sider?ve.menuSider:ve.menu,mode:this.props.sider?"vertical":"horizontal"},r.a.createElement(pe.a.Item,{key:"mail"},r.a.createElement(T.a,{to:"/login"},"Login")),r.a.createElement(pe.a.Item,{key:"app"},r.a.createElement(T.a,{to:"/signup"},"Signup")))}}]),t}(n.Component)),Oe=a(493),Ce=a(107),_e=a(492),Ie=a.n(_e),Se=(a(331),a(90)),je=a(72),Ne=a.n(je),we=a(265),Te=(a(784),function(e){return function(t,a,n){var r=(0,n.getFirestore)(),i=new we.GeoFirestore(r).collection("publicIndex"),o=null;if("location"==e.type){var l=e.location;l.radius=5,o=i.near({center:new r.GeoPoint(l.lat,l.lng),radius:l.radius})}else o=i.where("user.displayName",">=",e.user);t({type:"QUERY_LOADING"}),o.get().then(function(e){var a={};e.docs.forEach(function(e){a[e.id]=e.data()}),t({type:"QUERY_SUCCESS",lastSnapshot:e,formattedResults:a,currentQuery:null})}).catch(function(e){t({type:"QUERY_ERROR",err:e})})}}),xe=function(e){return function(t,a,n){var r=(0,n.getFirestore)();new we.GeoFirestore(r).collection("publicIndex").add(Object(N.a)({coordinates:new r.GeoPoint(e.lat,e.lng)},e)).then(function(){t({type:"PUBLIC_ADD_SUCCESS"})}).catch(function(e){t({type:"PUBLIC_ADD_ERROR"},e)})}},ke=Se.a.Option,Ae=(I.a.Search,{types:["(cities)"]}),Re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({input:e,location:null})},a.handleSelect=function(e){Object(je.geocodeByAddress)(e).then(function(e){return Object(je.getLatLng)(e[0])}).then(function(t){return a.setState({input:e,location:Object(N.a)({},t,{address:e})})}).catch(function(e){return console.error("Error",e)})},a.handleSubmit=function(){"location"===a.state.searchType?a.state.location?(a.props.getPublicQueryResults({type:"location",location:a.state.location}),a.props.reroute&&a.props.history.push("/discover")):Object(je.geocodeByAddress)(a.state.input).then(function(e){return Object(je.getLatLng)(e[0])}).then(function(e){return a.setState({address:a.state.address,location:Object(N.a)({},e,{address:a.state.input})},function(){return a.props.handleSubmit(a.state.location)})}).catch(function(e){return console.error("Error",e)}):(a.props.getPublicQueryResults({type:"user",user:a.state.input}),a.props.reroute&&a.props.history.push("/discover"))},a.state={input:"",searchType:"location"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(Se.a,{defaultValue:this.state.searchType,style:{width:100},onChange:function(t){return e.setState({searchType:t},function(){return console.log(e.state)})}},r.a.createElement(ke,{value:"location"},"Location"),r.a.createElement(ke,{value:"user"},"Users")),a={boxShadow:"0 12px 20px #d8e0e6",border:"solid 1px #e8e8e8",position:"absolute",zIndex:2e3,width:"100%"},n={boxShadow:"none",border:"none",position:"absolute",zIndex:2e3,width:"100%"};return r.a.createElement(Ne.a,{value:this.state.input,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:Ae,debounce:350},function(i){var o=i.getInputProps,l=i.suggestions,c=i.getSuggestionItemProps,s=i.loading;return r.a.createElement("div",null,r.a.createElement(f.a,{type:"flex",justify:"start",align:"middle"},r.a.createElement(g.a,{style:{display:"inline-flex",flexGrow:1}},r.a.createElement(I.a,Object.assign({},o({placeholder:"Search Places ...",className:"location-search-input"}),{value:e.state.input,addonBefore:t,placeholder:"location"===e.state.searchType?"Search Locations":"Seach Users"}))),r.a.createElement(g.a,{style:{display:"inline-flex"}},r.a.createElement(j.a,{style:{display:"inline"},disabled:!e.state.input,onClick:function(){return e.handleSubmit(e.state.location)},type:"primary",icon:"search"}))),"location"==e.state.searchType&&r.a.createElement("div",{className:"autocomplete-dropdown-container",style:s||l.length>0?a:n},s&&r.a.createElement("div",null,"Loading..."),l.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#e6f7ff",cursor:"pointer",padding:".5em",fontWeight:"bold"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:".5em"};return r.a.createElement("div",c(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))})}}]),t}(n.Component),De=Object(Oe.a)(Object(w.b)(null,function(e){return{getPublicQueryResults:function(t){return e(Te(t))}}})(Re)),Le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={current:"mail",visible:!1},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:Ce.menuBar},r.a.createElement(f.a,{type:"flex",justify:"start",align:"middle"},r.a.createElement(g.a,{style:{display:"inline-flex"}},r.a.createElement("div",{className:Ce.logo},r.a.createElement(T.a,{to:"/",className:Ce.logoText},r.a.createElement("img",{src:Ie.a,className:Ce.logoIcon,alt:"Travelroo Logo"}),"Travelroo"))),r.a.createElement(g.a,{className:Ce.searchContainer,sm:0,xs:0,md:1,style:{maxWidth:"40%",flexGrow:1}},r.a.createElement(De,{reroute:!0})),r.a.createElement(g.a,{style:{display:"inline-flex",marginLeft:"auto"}},r.a.createElement(f.a,null,r.a.createElement(g.a,{sm:0,xs:0,md:24,lg:24,xl:24,className:Ce.menuCon},!this.props.auth.uid&&r.a.createElement(be,null),this.props.auth.uid&&r.a.createElement(ye,{auth:this.props.auth})),r.a.createElement(g.a,{sm:24,xs:24,md:0,className:Ce.menuCon},r.a.createElement(j.a,{onClick:function(){return e.showDrawer()},className:Ce.iconButton},r.a.createElement(C.a,{type:"menu-fold"}))),r.a.createElement(se.a,{title:"Travelroo.io",placement:"right",closable:!1,onClose:function(){return e.onClose()},visible:this.state.visible,style:{zIndex:3e3}},!this.props.auth.uid&&r.a.createElement(be,{sider:!0}),this.props.auth.uid&&r.a.createElement(ye,{auth:this.props.auth,sider:!0}))))))}}]),t}(n.Component),Pe=Object(Oe.a)(Object(w.b)(function(e){return{auth:e.firebase.auth}},function(e){return{getPublicQueryResults:function(t){return e(Te(t))}}})(Le)),Ue=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"fixed",width:"100%",top:0,background:"#ffff"}},r.a.createElement(Pe,null))}}]),t}(n.Component),Fe=(a(449),a(171)),Me=function(e){return function(t,a,n){(0,n.getFirestore)().collection("publicItineraries").doc(e).get().then(function(a){if(a.exists){var n=a.data();n.id=e,t({type:"LOAD_ITINERARY_TO_VIEW",itinerary:n,currentCollectionId:n.collectionOrder[0]})}else t({type:"VIEW_ERROR",e:"Itinerary Does Not Exist"})}).catch(function(e){t({type:"VIEW_ERROR",e:e})})}},Be=(a(234),a(104)),Ve=(a(332),a(166)),Ge=a(121),Ye=(a(788),a(494)),ze=a.n(Ye),He=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"THIS IS THE TITLE"),r.a.createElement(f.a,{className:Ge.section},r.a.createElement(Ve.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.itinerary&&this.props.itinerary.rating?parseFloat((Math.round(2*this.props.itin.rating)/2).toFixed(1)):0,style:{fontSize:15}}),(!this.props.itinerary||!this.props.itinerary.rating)&&r.a.createElement("span",{className:Ge.noReviews},"(No Reviews)"),this.props.itinerary&&this.props.itinerary.rating&&this.props.itinerary.ratingCount&&r.a.createElement("span",{className:Ge.noReviews},"(",this.props.itin.ratingCount,")")),r.a.createElement(C.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},"San Francisco, CA"),r.a.createElement(f.a,{className:Ge.section},r.a.createElement(ze.a,{className:"read-more-content",charLimit:400,readMoreText:"Read More",readLessText:" Collapse"},"Maecenas nisl est, ultrices nec congue eget, auctor vitae massa. Fusce luctus vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare eu, lobortis in odio. Praesent convallis urna a lacus interdum ut hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer fringilla congue eros non fermentum. Sed dapibus pulvinar nibh tempor porta. Cras ac leo purus. Mauris quis diam velit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl est, ultrices nec congue eget, auctor vitae massa. Fusce luctus vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare eu, lobortis in odio. Praesent convallis urna a lacus interdum ut hendrerit risus congue. Nunc sagittis dictum nisi, sed ullamcorper ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer fringilla congue eros non fermentum. Sed dapibus pulvinar nibh tempor porta. Cras ac leo purus. Mauris quis diam velit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus imperdiet, nulla et dictum interdum, nisi lorem egestas odio, vitae scelerisque enim ligula venenatis dolor. Maecenas nisl est, ultrices nec congue eget, auctor vitae massa. Fusce luctus vestibulum augue ut aliquet. Mauris ante ligula, facilisis sed ornare")))}}]),t}(n.Component),We=a(45),qe=a(49),Qe=(a(135),a(66)),Je=a(39),Xe=(a(112),a(59)),Ke=a(256),Ze=a.n(Ke),$e=(a(981),a(530)),et=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},tt=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0},at=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.updateFileState=function(e,t,n,r,i){var o=Object(We.a)(a.state.fileList),l=a.state.fileList.findIndex(function(t){return t.uid===e.uid}),c=Object(N.a)({},a.state.fileList[l]);c.percent=t?parseFloat(t):parseFloat(c.percent),c.status=n||c.status,c.url=r||c.url,o[l]=c,a.setState({fileList:o},function(){if(i){var e=Object(We.a)(a.state.fileList);a.props.handleUpdate(e.map(function(e){return{url:e.url,name:e.name,uid:e.uid,status:e.status}}))}})},a.handleUpload=function(e){var t=a.props.firebase.storage().ref().child(a.props.auth.uid).child("images/"+et()).put(e.file),n=Object(Je.a)(Object(Je.a)(a));t.on("state_changed",function(t){var a=Math.round(t.bytesTransferred/t.totalBytes*100).toFixed(2);n.updateFileState(e.file,a,null,null,null,!1)},function(e){},function(){t.snapshot.ref.getDownloadURL().then(function(t){n.updateFileState(e.file,null,"done",t,!0)})})},a.handleChange=function(e){var t=e.fileList;return a.setState({fileList:t},console.log(a.state))};var n=[];return a.props.fileList.forEach(function(e){return n.push(Object(N.a)({},e))}),a.state={previewVisible:!1,previewImage:"",fileList:n},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,i=r.a.createElement("div",null,r.a.createElement(C.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload"));return r.a.createElement("div",{className:"clearfix"},r.a.createElement($e.a,{action:"//jsonplaceholder.typicode.com/posts/",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange,customRequest:this.handleUpload},n.length>=3?null:i),r.a.createElement(Xe.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))}}]),t}(r.a.Component),nt=Object(q.d)(W.withFirebase,Object(w.b)(function(e){return{auth:e.firebase.auth}},null))(at),rt=(a(156),a(81)),it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tags:a.props.tags?a.props.tags:[],inputVisible:!1,inputValue:""},a.handleClose=function(e){var t=a.state.tags.filter(function(t){return t!==e});console.log(t),a.setState({tags:t},function(){return a.props.handleTagChange(t)})},a.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state,t=e.inputValue,n=e.tags;t&&-1===n.indexOf(t)&&(n=[].concat(Object(We.a)(n),[t])),a.setState({tags:n,inputVisible:!1,inputValue:""},function(){return a.props.handleTagChange(n)})},a.saveInputRef=function(e){return a.input=e},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.inputVisible,i=t.inputValue;return r.a.createElement("div",null,a.map(function(t,a){var n=t.length>20,i=r.a.createElement(rt.a,{key:t,closable:!0,size:"large",color:"#1890ff",afterClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20).toUpperCase(),"..."):t.toUpperCase());return n?r.a.createElement(O.a,{title:t,key:t},i):i}),n&&r.a.createElement(I.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:i,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&r.a.createElement(rt.a,{size:"large",onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(C.a,{type:"plus"})," New Tag"))}}]),t}(r.a.Component),ot=(I.a.Search,{types:["establishment"],fields:["place_id","name"]}),lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e,selected:!1})},a.handleSelect=function(e){a.setState({address:e.description,selected:!0}),Object(je.geocodeByPlaceId)(e.placeId).then(function(e){return Object(je.getLatLng)(e[0])}).then(function(t){return a.props.onSelect(Object(N.a)({},e,t))}).catch(function(e){return console.error("Error",e)})},a.state={address:a.props.value},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={boxShadow:"0 12px 20px #d8e0e6",border:"solid 1px #e8e8e8",position:"absolute",zIndex:2e3,width:"100%"},a={boxShadow:"none",border:"none",position:"absolute",zIndex:2e3,width:"100%"};return r.a.createElement(Ne.a,{value:this.state.address,onChange:this.handleChange,searchOptions:ot,debounce:350},function(n){var i=n.getInputProps,o=n.suggestions,l=n.getSuggestionItemProps,c=n.loading;return r.a.createElement("div",null,r.a.createElement(I.a,Object.assign({},i({placeholder:"Search Places ...",className:"location-search-input"}),{placeholder:"Location",allowClear:!0})),r.a.createElement("div",{className:"autocomplete-dropdown-container",style:c||o.length>0?t:a},c&&r.a.createElement("div",null,"Loading..."),!e.state.selected&&o.map(function(t){var a=t.active?"suggestion-item--active":"suggestion-item",n=t.active?{backgroundColor:"#e6f7ff",cursor:"pointer",padding:".5em",fontWeight:"bold"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:".5em"};return r.a.createElement("div",Object.assign({},l(t,{className:a,style:n}),{onClick:function(){return e.handleSelect(t)}}),r.a.createElement("span",null,t.description))})))})}}]),t}(n.Component),ct=0,st=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");1!==n.length&&t.setFieldsValue({keys:n.filter(function(t){return t!==e})})},a.add=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(ct++);e.setFieldsValue({keys:t})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,i={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},o={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};a("keys",{initialValue:[]});var l=n("keys"),c=l.map(function(t,n){return r.a.createElement(_.a.Item,Object.assign({},0===n?i:o,{label:0===n?"Passengers":"",required:!1,key:t}),a("names[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}]})(r.a.createElement(I.a,{placeholder:"passenger name",style:{width:"60%",marginRight:8}})),l.length>1?r.a.createElement(C.a,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===l.length,onClick:function(){return e.remove(t)}}):null)});return r.a.createElement(_.a,{onSubmit:this.handleSubmit},c,r.a.createElement(_.a.Item,o,r.a.createElement(j.a,{type:"dashed",onClick:this.add,style:{width:"60%"}},r.a.createElement(C.a,{type:"plus"})," Add field")),r.a.createElement(_.a.Item,o,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(r.a.Component),ut=(_.a.create({name:"dynamic_form_item"})(st),Xe.a.confirm),pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handlePictureChange=function(e){a.setState({item:Object(N.a)({},a.state.item,{images:e})},function(){return a.props.updateCurrentEvent(a.state.item)})},a.handleNameChange=function(e){a.setState({item:Object(N.a)({},a.state.item,{name:e.target.value})},function(){return a.props.updateCurrentEvent(a.state.item)})},a.handleTagChange=function(e){a.setState({item:Object(N.a)({},a.state.item,{tags:e})},function(){return a.props.updateCurrentEvent(a.state.item)})},a.handleLocationChange=function(e){a.setState({item:Object(N.a)({},a.state.item,{location:{place_id:e.id,name:e.description,lat:e.lat,lng:e.lng}})},function(){return a.props.updateCurrentEvent(a.state.item)})},a.handleDetailChange=function(e){a.setState({item:Object(N.a)({},a.state.item,{description:e})},function(){return a.props.updateCurrentEvent(a.state.item)})},a.updateMenuState=function(e){var t,n=Object(We.a)(a.state.selected),r=a.state.selected.indexOf(e);-1===r?n.push(e):n=(t=Object(We.a)(a.state.selected.slice(0,r))).concat.apply(t,Object(We.a)(a.state.selected.slice(r+1)));a.setState({selected:n})},a.onMenuClick=function(e){switch(e){case"location":a.state.item.location?a.showConfirm("Remove location from event?",e):a.updateMenuState(e);break;case"description":a.state.item.description?a.showConfirm("Remove notes from event?",e):a.updateMenuState(e);break;case"images":a.state.item.images?a.showConfirm("Remove image(s) from event?",e):a.updateMenuState(e);break;case"tags":a.state.item.tags?a.showConfirm("Remove tag(s) from event?",e):a.updateMenuState(e)}},a.showConfirm=function(e,t){a.state.item;var n=Object(Je.a)(Object(Je.a)(a));ut({title:e,okText:"Yes",cancelText:"No",onOk:function(){var e=Object(N.a)({},n.state.item);delete e[t],n.setState({item:e},function(){n.props.updateCurrentEvent(n.state.item),n.updateMenuState(t)})},onCancel:function(){return!1}})},a.onDeleteClick=function(e){var t=Object(Je.a)(Object(Je.a)(a));ut({title:"Are you sure you want to delete this event?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteEventFromCollection(t.props.collectionID,e)},onCancel:function(){return!1}})},a.state={text:"",selected:["location","description","tags","images"],location:!0,note:!0,picture:!0,tag:!0,item:Object(N.a)({},e.item)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.item&&e.item!==this.state.item&&this.setState({item:e.item},function(){return t.props.updateCurrentEvent(t.state.item)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{type:"flex",justify:"space-between",style:{alignItems:"flex-start"}},r.a.createElement(g.a,{span:1,style:{flexGrow:1}},r.a.createElement(Qe.a,{className:qe.cardEdit,style:{minHeight:294},bordered:!1},r.a.createElement("input",{value:this.state.item.name,onChange:this.handleNameChange,className:qe.titleInput}),this.state.selected.includes("location")&&r.a.createElement(f.a,{className:qe.section,type:"flex",align:"middle",justify:"start"},r.a.createElement(g.a,{span:1},r.a.createElement(C.a,{type:"environment"})),r.a.createElement(g.a,{span:23},r.a.createElement(lt,{value:this.state.item&&this.state.item.location&&this.state.item.location.name?this.state.item.location.name:"",onSelect:function(t){return e.handleLocationChange(t)},style:{display:"inline"}}))),this.state.selected.includes("description")&&r.a.createElement("div",{className:qe.section},r.a.createElement(Ze.a,{style:{height:"300px",paddingTop:"20px",paddingBottom:"50px"},value:this.state.item.description?this.state.item.description:"",onChange:this.handleDetailChange})),this.state.selected.includes("images")&&r.a.createElement("div",{className:qe.section},r.a.createElement(nt,{fileList:this.state.item&&this.state.item.images?this.state.item.images:[],handleUpdate:function(t){return e.handlePictureChange(t)}})),this.state.selected.includes("tags")&&r.a.createElement("div",{className:qe.section},r.a.createElement(it,{tags:this.state.item&&this.state.item.tags?this.state.item.tags:[],handleTagChange:function(t){return e.handleTagChange(t)}})))),r.a.createElement(g.a,{style:{minWidth:"30px"}},r.a.createElement("div",{style:{paddingLeft:10}},r.a.createElement(f.a,{style:{marginBottom:10},className:qe.cardEdit},r.a.createElement(pe.a,{theme:"dark",mode:"inline",selectable:!1,style:{borderRight:0,backgroundColor:"white"}},r.a.createElement(pe.a.Item,{style:{color:"red"},onClick:function(){return e.onDeleteClick(e.props.id)}},r.a.createElement(C.a,{type:"close"})))),r.a.createElement(f.a,{className:qe.cardEdit},r.a.createElement(pe.a,{theme:"dark",selectedKeys:this.state.selected,mode:"inline",multiple:!0,className:qe.menu,style:{borderRight:0,backgroundColor:"white"}},r.a.createElement(pe.a.Item,{key:"location",style:{margin:0,color:this.state.selected.includes("location")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("location")}},r.a.createElement(C.a,{type:"pushpin"})),r.a.createElement(pe.a.Item,{key:"description",style:{margin:0,color:this.state.selected.includes("description")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("description")}},r.a.createElement(C.a,{type:"file-text"})),r.a.createElement(pe.a.Item,{key:"images",style:{margin:0,color:this.state.selected.includes("images")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("images")}},r.a.createElement(C.a,{type:"picture"})),r.a.createElement(pe.a.Item,{key:"tags",style:{margin:0,color:this.state.selected.includes("tags")?"white":"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.onMenuClick("tags")}},r.a.createElement(C.a,{type:"tag"})))),r.a.createElement(f.a,{style:{marginTop:10},className:qe.cardEdit},r.a.createElement(pe.a,{theme:"dark",mode:"inline",selectable:!1,style:{borderRight:0,backgroundColor:"#1890ff"}},r.a.createElement(pe.a.Item,{style:{color:"white"},onClick:function(){return e.props.saveCurrentEventEdit()}},r.a.createElement(C.a,{type:"check"}))))))))}}]),t}(n.Component),mt=Object(w.b)(function(e){return{collectionID:e.edit.currentCollection}},function(e){return{updateCurrentEvent:function(t){return e(function(e){return function(t,a,n){n.getFirestore,t({type:"UPDATE_CURRENT_EVENT_EDITING",event:e})}}(t))},saveCurrentEventEdit:function(){return e(function(e,t,a){var n=a.getFirestore;e({type:"START_SAVING"});var r=t();if(r.edit.currentEventEditing){var i=n(),o=i.collection("users").doc(r.firebase.auth.uid).collection("itineraries").doc(r.edit.currentItinID);JSON.stringify(r.edit.currentEventEditing)!==JSON.stringify(r.edit.currentEventInitial)?o.set({editedAt:i.FieldValue.serverTimestamp(),collection:Object(V.a)({},r.edit.currentCollection,{events:Object(V.a)({},r.edit.editEventID,r.edit.currentEventEditing)})},{merge:!0}).then(function(){e({type:"CURRENT_EVENT_SAVED_SUCCESS"})}).catch(function(t){e({type:"CURRENT_EVENT_SAVED_ERROR",e:t})}):e({type:"CLOSE_EVENT_EDITING"})}else e({type:"EVENT_SETUP_ERROR"})})},deleteEventFromCollection:function(t,a){return e(re(t,a))}}})(pt),dt=a(349),ht=Xe.a.confirm,gt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDeleteClick=function(e){var t=Object(Je.a)(Object(Je.a)(a));ht({title:"Are you sure you want to delete this event?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteEventFromCollection(t.props.collectionID,e)},onCancel:function(){return!1}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item&&this.props.item.images?this.props.item.images.map(function(e){return{src:e.url,width:1,height:1}}):[],a=this.props.item&&this.props.item.tags?this.props.item.tags.map(function(e,t){return r.a.createElement(rt.a,{key:t,className:qe.tagStyle,color:"#1890ff"},e)}):[];return r.a.createElement(Qe.a,{className:qe.card,bordered:!1},r.a.createElement("div",{className:qe.hidden},r.a.createElement(j.a,{type:"danger",shape:"circle",icon:"close",onClick:function(){return e.onDeleteClick(e.props.id)}})),r.a.createElement(f.a,{type:"flex",justify:"start"},r.a.createElement(g.a,{style:{flexGrow:1},span:t.length>0?16:24},this.props.item&&this.props.item.name&&r.a.createElement("p",{className:qe.itemTitle},this.props.item.name),(!this.props.item||!this.props.item.name)&&r.a.createElement("p",{className:qe.itemTitle},"Untitled"),this.props.item&&this.props.item.location&&r.a.createElement("div",{className:qe.section},r.a.createElement(C.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},this.props.item.location.name)),this.props.item&&this.props.item.description&&r.a.createElement("div",{className:qe.section},r.a.createElement("h3",null,"Notes:"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.item.description}})),a.length>0&&r.a.createElement("div",{className:qe.section},a)),t.length>0&&r.a.createElement(g.a,{span:8},r.a.createElement("div",{className:qe.gallery},r.a.createElement(dt.a,{columns:t.length<2?t.length:2,photos:t})))))}}]),t}(n.Component),ft=Object(w.b)(function(e){return{collectionID:e.edit.currentCollection}},function(e){return{deleteEventFromCollection:function(t,a){return e(re(t,a))}}})(gt),Et=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,!this.props.editing&&r.a.createElement(ft,{item:this.props.item,id:this.props.id}),this.props.editing&&r.a.createElement(mt,{item:this.props.item,id:this.props.id}))}}]),t}(n.Component),yt=a(498),vt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).addSectionClick=function(e){var t=et(),n=Object(N.a)({},a.props.items,Object(V.a)({},t,{id:t}));if(e){var r=a.props.eventOrder.indexOf(e),i=Object(We.a)(a.props.eventOrder).slice(0,r+1).concat([t]).concat(Object(We.a)(a.props.eventOrder).slice(r+1));a.setState({eventOrder:i,events:n},function(){return a.props.addNewEventToCurrentCollection(t,i)})}else a.setState({eventOrder:[t],events:n},function(){return a.props.addNewEventToCurrentCollection(t,[t])})},a.onClick=function(e){a.setState({editing:e})},a.state={events:e.collection&&e.collection.events?e.collection.events:{},eventOrder:e.collection&&e.collection.eventOrder?e.collection.eventOrder:[],editing:null,dragging:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){!e.collection||e.collection.events===this.props.events&&e.collection.eventOrder===this.props.eventOrder||this.setState({events:e.collection.events,eventOrder:e.collection.eventOrder})}},{key:"render",value:function(){var e=this;return r.a.createElement(z.c,{droppableId:this.props.viewOnly?"viewPanel":"editPanel",isDropDisabled:this.props.viewOnly},function(t,a){return r.a.createElement("div",{style:{width:"100%",minHeight:"95%"},ref:t.innerRef,className:"ant-timeline"},e.props.collectionID&&e.props.eventOrder.length<1&&r.a.createElement("div",{style:{textAlign:"center",marginTop:"25vh"}},r.a.createElement("h1",null,"Nothing's Planned Yet, Start Building!"),r.a.createElement("div",{onClick:function(){return e.addSectionClick()}},r.a.createElement(M.a,{style:{marginTop:5,marginBottom:5}},r.a.createElement(j.a,{type:"primary",size:"small",shape:"circle",icon:"plus"})))),e.props.eventOrder&&e.props.eventOrder.map(function(t,a){return r.a.createElement(z.b,{key:e.props.viewOnly?t+"-view":t,draggableId:e.props.viewOnly?t+"-view":t,index:a,type:"DEFAULT"},function(n,i){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement("li",{className:e.props.eventOrder.length-1===a?"ant-timeline-item ant-timeline-item-last":"ant-timeline-item",style:{padding:0}},!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-tail"}),!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue"}),r.a.createElement("div",{className:"ant-timeline-item-content"},r.a.createElement("div",{onClick:function(){e.props.editing===t||e.props.viewOnly||e.props.prepCurrentEventEdit(t,e.props.events[t])}},r.a.createElement(Et,{editing:e.props.editing===t,item:e.props.events[t],id:t})),!e.props.viewOnly&&r.a.createElement("div",{onClick:function(){return e.addSectionClick(t)},className:yt.addSection},r.a.createElement(M.a,{style:{marginTop:5,marginBottom:5}},r.a.createElement(j.a,{type:"primary",size:"small",shape:"circle",icon:"plus"}))),e.props.viewOnly&&r.a.createElement("div",{style:{height:25}}))))})}),t.placeholder)})}}]),t}(n.Component),bt=Object(w.b)(function(e){return{editing:e.edit.editEventID}},function(e){return{addNewEventToCurrentCollection:function(t,a){return e(function(e,t){return function(a,n,r){var i=r.getFirestore;a({type:"START_SAVING"});var o=n(),l=i();l.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:l.FieldValue.serverTimestamp(),collection:Object(V.a)({},o.edit.currentCollection,{events:Object(V.a)({},e,$),eventOrder:t})},{merge:!0}).then(function(){a({type:"NEW_EVENT_SUCCESS",id:e,event:$})}).catch(function(e){a({type:"NEW_EVENT_ERROR",e:e})})}}(t,a))},updateEventOrder:function(t){return e(ie(t))},prepCurrentEventEdit:function(t,a){return e(ce(t,a))}}})(vt),Ot=Se.a.Option,Ct={name:"Some Basic Name",collection:{},collectionOrder:[],location:null,tags:[]},_t=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.updateCurrentCollectionViewing(e)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.itinerary&&r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(f.a,{type:"flex",align:"middle",justify:"center",className:Ge.stickyBackMenu},r.a.createElement(g.a,{span:22},r.a.createElement("a",{onClick:function(){return e.props.onBack()}},r.a.createElement(C.a,{type:"left"}),r.a.createElement("span",null," Back")))),r.a.createElement(f.a,{type:"flex",align:"middle",justify:"center"},r.a.createElement(g.a,{span:22},r.a.createElement(He,{itinerary:Ct}))),r.a.createElement(f.a,{type:"flex",align:"middle",justify:"center",className:Ge.stickySelect},r.a.createElement(g.a,{span:22},r.a.createElement(Se.a,{defaultValue:this.props.currentCollectionId,style:{width:"100%"},onChange:this.handleChange},this.props.itinerary.collectionOrder.map(function(t){return r.a.createElement(Ot,{key:t,value:t},e.props.itinerary.collection[t].name)})))),r.a.createElement(f.a,{type:"flex",align:"middle",justify:"center",style:{marginTop:"1.5em"}},r.a.createElement(g.a,{span:22},r.a.createElement(bt,{dragging:this.props.dragging,viewOnly:!0,events:this.props.itinerary.collection[this.props.currentCollectionId].events,eventOrder:this.props.itinerary.collection[this.props.currentCollectionId].eventOrder})))),!this.props.itinerary&&r.a.createElement(Be.a,null))}}]),t}(n.Component),It=Object(w.b)(function(e,t){return Object(N.a)({},t,{itinerary:e.view.itinerary,currentCollectionId:e.view.currentCollectionId})},function(e){return{updateCurrentCollectionViewing:function(t){return e(function(e){return function(t,a,n){n.getFirestore,t({type:"UPDATE_COLLECTION_VIEWING",currentCollectionId:e})}}(t))}}})(_t),St=(a(461),a(165)),jt=a(354),Nt=a(106),wt=Qe.a.Meta,Tt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.itin.img?this.props.itin.img:jt.defaultCoverImage,a=r.a.createElement(pe.a,null,r.a.createElement(pe.a.Item,null,r.a.createElement(C.a,{type:"alert"}),"Report Itinerary")),n=this.props.itin.tags?Object.keys(this.props.itin.tags).map(function(e){return r.a.createElement(rt.a,{className:Nt.tagStyle,color:"#1890ff"},e)}):[],i=r.a.createElement(St.a,{overlay:a,placement:"bottomLeft"},r.a.createElement(C.a,{type:"ellipsis"}));return r.a.createElement("div",{className:Nt.item},r.a.createElement(Qe.a,{onClick:function(){return e.props.loadItineraryToState(e.props.itin.key)},style:{marginTop:"1em"},hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:t}),actions:[r.a.createElement(C.a,{type:"heart"}),r.a.createElement(C.a,{type:"edit"}),i]},r.a.createElement(f.a,{className:Nt.ratingContainer},r.a.createElement(Ve.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.itin.rating?parseFloat((Math.round(2*this.props.itin.rating)/2).toFixed(1)):0,style:{fontSize:15}}),!this.props.itin.rating&&r.a.createElement("span",{className:Nt.noReviews},"(No Reviews)"),this.props.itin.rating&&this.props.itin.ratingCount&&r.a.createElement("span",{className:Nt.noReviews},"(",this.props.itin.ratingCount,")")),r.a.createElement(f.a,null,r.a.createElement(wt,{avatar:r.a.createElement(ue.a,{src:this.props.itin.user.img?this.props.itin.user.img:jt.defaultAvatarImage}),title:this.props.itin.name,description:this.props.itin.address})),r.a.createElement(f.a,{className:Nt.cardContainer},n.slice(0,6))))}}]),t}(n.Component),xt=Object(w.b)(null,function(e){return{loadItineraryToState:function(t){return e(Me("3H0jUKxaJ5mX0LReiGH1"))},querySpecificPublicDocument:function(t){return e((a=t,console.log(a),function(e,t,n){var r=(0,n.getFirestore)().collection("publicItineraries");r.doc(a),e({type:"SPECIFIC_QUERY_LOADING"}),r.get().then(function(t){if(!t.exists)throw"Itinerary Not Found";e({type:"SPECIFIC_QUERY_SUCCESS",focused:t.data()})}).catch(function(t){e({type:"SPECIFIC_QUERY_ERROR",err:t})})}));var a}}})(Tt),kt=(a(834),a(532)),At=Qe.a.Meta,Rt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Nt.item},r.a.createElement(Qe.a,{loading:!0,style:{marginTop:20},cover:r.a.createElement("img",{alt:"example",src:"https://gradientjoy.com/300x200?id=135"})},r.a.createElement(kt.a,{loading:!0,avatar:!0,active:!0},r.a.createElement(At,{avatar:r.a.createElement(ue.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:"Card title",description:"This is the description"}))))}}]),t}(n.Component),Dt=(a(836),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props);var t=new Array(15).fill(15).map(function(e){return r.a.createElement(Rt,null)});return r.a.createElement("div",{className:"masonry"},!this.props.loading&&this.props.resultList&&Object.keys(this.props.resultList).map(function(t){return r.a.createElement(xt,{key:t,itin:Object(N.a)({},e.props.resultList[t],{key:t})})}),!this.props.loading&&this.props.resultList&&Object.keys(this.props.resultList).map(function(t){return r.a.createElement(xt,{key:t,itin:Object(N.a)({},e.props.resultList[t],{key:t})})}),!this.props.loading&&this.props.resultList&&Object.keys(this.props.resultList).map(function(t){return r.a.createElement(xt,{key:t,itin:Object(N.a)({},e.props.resultList[t],{key:t})})}),!this.props.loading&&this.props.resultList&&Object.keys(this.props.resultList).map(function(t){return r.a.createElement(xt,{key:t,itin:Object(N.a)({},e.props.resultList[t],{key:t})})}),!this.props.loading&&this.props.resultList&&Object.keys(this.props.resultList).map(function(t){return r.a.createElement(xt,{key:t,itin:Object(N.a)({},e.props.resultList[t],{key:t})})}),!this.props.loading&&this.props.resultList&&Object.keys(this.props.resultList).map(function(t){return r.a.createElement(xt,{key:t,itin:Object(N.a)({},e.props.resultList[t],{key:t})})}),this.props.loading&&t)}}]),t}(n.Component)),Lt=Object(w.b)(function(e){return{resultList:e.query.formattedResults,loading:e.query.loading}},null)(Dt),Pt=a(503),Ut=(rt.a.CheckableTag,function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.handleDrawer=function(){a.setState({visible:!a.state.visible})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{gutter:12,className:Pt.menuContainer,type:"flex",justify:"start",align:"middle"},r.a.createElement(g.a,null,r.a.createElement(Mt,{type:"primary"},"Location")),r.a.createElement(g.a,null,r.a.createElement(Mt,{type:"primary"},"Trip Length")),r.a.createElement(g.a,null,r.a.createElement(Mt,{type:"primary"},"Outdoors")),r.a.createElement(g.a,null,r.a.createElement(Mt,{type:"primary"},"Food")),this.props.drawer&&r.a.createElement(g.a,null,r.a.createElement(j.a,{onClick:function(){return e.handleDrawer()},type:"default"},"More Tags...")),this.props.drawer&&r.a.createElement(Ft,{closeHandler:function(){return e.handleDrawer()},visible:this.state.visible}))}}]),t}(n.Component)),Ft=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Array(200).fill(200).map(function(e){return r.a.createElement(g.a,null,r.a.createElement(Mt,{margin:!0},"I'm A Tag"))});return r.a.createElement(se.a,{title:r.a.createElement(I.a,{placeholder:"Find Something Cool",allowClear:!0}),placement:"top",closable:!1,style:{top:"115px",overflowY:"auto"},onClose:function(){return e.props.closeHandler()},visible:this.props.visible},r.a.createElement("div",{style:{height:"143px",overflowX:"hidden",overflowY:"scroll"}},r.a.createElement(f.a,{gutter:12,type:"flex",justify:"start",align:"middle"},t)))}}]),t}(n.Component),Mt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={type:"default"},a.handleChange=function(){a.setState({type:"default"===a.state.type?"primary":"default"})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(j.a,Object.assign({style:{marginBottom:this.props.margin?"5px":"0px"}},this.props,{type:this.state.type,onClick:function(){return e.handleChange()}}))}}]),t}(r.a.Component),Bt=a(267),Vt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=new window.google.maps.LatLngBounds,a=(this.props.markers.map(function(e){var a=new window.google.maps.LatLng(e.lat,e.lng);return t.extend(a),a}),Object(Bt.withGoogleMap)(function(a){return r.a.createElement(Bt.GoogleMap,{defaultCenter:{lat:40.756795,lng:-73.954298},defaultZoom:13,ref:function(a){return a&&e.props.markers.length>0&&a.fitBounds(t)}},e.props.markers&&e.props.markers.map(function(e,t){return r.a.createElement(Bt.Marker,{key:t,position:{lat:e.lat,lng:e.lng}})}))}));return r.a.createElement(a,{containerElement:r.a.createElement("div",{style:{height:"100%",width:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}}]),t}(n.Component),Gt=a(144),Yt=a(92),zt=(a(861),a(504)),Ht=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e,t,a){console.log(e,t,a)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=r.a.createElement(zt.a,{className:Yt.carousel,afterChange:this.onChange},this.props.result&&this.props.result.photos&&this.props.result.photos.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:Yt.img,alt:"example",src:e.getUrl()}))}));return r.a.createElement(Qe.a,{className:Yt.card,bordered:!1,cover:this.props.result.photos&&this.props.result.photos.length>0?e:null},r.a.createElement(f.a,{type:"flex",justify:"start"},r.a.createElement(g.a,{style:{flexGrow:1}},r.a.createElement("div",null,r.a.createElement(Ve.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.result.rating?parseFloat((Math.round(2*this.props.result.rating)/2).toFixed(1)):0,style:{fontSize:15}}),!this.props.result.rating&&r.a.createElement("span",{className:Yt.noReviews},"(No Reviews)"),this.props.result.rating&&this.props.result.user_ratings_total&&r.a.createElement("span",{className:Yt.noReviews},"(",this.props.result.user_ratings_total,")")),r.a.createElement("p",{className:Yt.itemTitle},this.props.result.name),this.props.result.formatted_address&&r.a.createElement("div",null,r.a.createElement(C.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},this.props.result.formatted_address)),this.props.result.html_attributions.length>0&&r.a.createElement("div",null,this.props.result.html_attributions.length))))}}]),t}(n.Component),Wt=a(505),qt=a.n(Wt),Qt=I.a.Search,Jt=(new window.google.maps.places.PlacesService,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).searchResults=function(){a.setState({loading:!0,results:[]},function(){var e={query:a.state.query};if(a.props.lat&&a.props.lng){var t=new window.google.maps.LatLng({lat:a.props.lat,lng:a.props.lng});e.location=t}new window.google.maps.places.PlacesService(document.createElement("div")).textSearch(e,function(e,t,n){t===window.google.maps.places.PlacesServiceStatus.OK?a.setState({results:a.state.results.concat(e),loading:!1,pagination:n},function(){return a.props.updateSearchResults(a.state.results)}):a.setState({loading:!1})})})},a.onQueryChange=function(e){a.setState({query:e.target.value})},a.state={loading:!1,results:[],query:"",pagination:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.results&&this.state.results.map(function(e,t){return r.a.createElement(z.b,{draggableId:"search-"+t,index:t,key:"search-"+t},function(t,a){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement(Ht,{result:e}))})});return r.a.createElement("div",null,r.a.createElement("div",{className:Yt.container},r.a.createElement(Qt,{className:Yt.input,onChange:this.onQueryChange,placeholder:"Search",onSearch:this.searchResults,enterButton:r.a.createElement(j.a,{type:"primary",size:"large",disabled:this.state.query.length<1,icon:"search"})}),r.a.createElement("img",{style:{paddingTop:5,paddingBottom:5,width:"140px",float:"right"},src:qt.a})),r.a.createElement("div",{className:Yt.containerNoBorder},r.a.createElement(z.c,{droppableId:"searchResults",isDropDisabled:!0},function(e,a){return r.a.createElement("div",{ref:e.innerRef},t)}),!this.state.results||this.state.results.length<1&&r.a.createElement(Be.a,{image:Be.a.PRESENTED_IMAGE_SIMPLE,description:"No Results"}),this.state.results.length>0&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{onClick:function(){e.state.pagination.nextPage()},disabled:!this.state.pagination||this.state.pagination&&!this.state.pagination.hasNextPage},"Load More Results"))))}}]),t}(n.Component)),Xt=Object(w.b)(null,function(e){return{updateSearchResults:function(t){return e(function(e){return function(t,a,n){n.getFirestore,t({type:"UPDATE_SEARCH_RESULTS",results:e})}}(t))}}})(Jt),Kt=Fe.a.TabPane,Zt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){a.props.getPublicQueryResults({lat:e.lat,lng:e.lng})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Fe.a,{defaultActiveKey:"1",renderTabBar:function(e,t){return r.a.createElement(t,Object.assign({},e,{style:{zIndex:1e3,position:"relative",margin:0,top:0,left:0,width:"100%",background:"#fff"}}))}},r.a.createElement(Kt,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(C.a,{type:"search"}),"Search"),key:"1"},r.a.createElement(Xt,null)),r.a.createElement(Kt,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(C.a,{type:"compass"}),"Discover"),key:"2"},this.props.itineraryInFocus&&r.a.createElement(It,{dragging:this.props.dragging,match:this.props.match,onBack:function(){return e.props.clearItineraryInView()}}),!this.props.itineraryInFocus&&r.a.createElement("div",null,r.a.createElement("div",{className:Gt.sticky},r.a.createElement("div",{style:{width:"100%",paddingTop:10,paddingLeft:"15px",paddingRight:"15px"}},r.a.createElement(De,{reroute:!1})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Ut,{drawer:!1}))),r.a.createElement("div",{className:Gt.resultList},r.a.createElement(Lt,null))),this.props.loading&&r.a.createElement(B.a,{size:"large"})),r.a.createElement(Kt,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(C.a,{type:"heart"}),"Saved"),key:"3"},"Tab 3"),r.a.createElement(Kt,{className:Gt.content,tab:r.a.createElement("span",null,r.a.createElement(C.a,{type:"environment"}),"Map"),key:"4"},r.a.createElement(Vt,{markers:this.props.markers}))))}}]),t}(n.Component),$t=Object(w.b)(function(e){return{auth:e.firebase.auth,itineraryInFocus:e.view.itinerary,loading:e.view.loading}},function(e){return{getPublicQueryResults:function(t){return e(Te(t))},loadItineraryToState:function(){return e(Me("3H0jUKxaJ5mX0LReiGH1"))},clearItineraryInView:function(){return e(function(e,t,a){a.getFirestore,e({type:"CLEAR_ITINERARY_TO_VIEW"})})}}})(Zt),ea=(a(873),a(358)),ta=a(258),aa={types:["(cities)"]},na=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleLocationChange=function(e){a.setState({location:e})},a.handleSelect=function(e){a.setState({location:e},function(){Object(je.geocodeByAddress)(e).then(function(e){return Object(je.getLatLng)(e[0])}).then(function(t){return a.props.handleLocationSelect(Object(N.a)({name:e},t))}).catch(function(e){return console.error("Error",e)})})},a.state={location:a.props.location&&a.props.location.name?a.props.location.name:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){JSON.stringify(e.location)!==JSON.stringify(this.props.location)&&this.setState({location:this.props.location&&this.props.location.name?this.props.location.name:""})}},{key:"render",value:function(){var e={boxShadow:"0 12px 20px #d8e0e6",border:"solid 1px #e8e8e8",zIndex:2e3,position:"absolute",width:"80%"},t={boxShadow:"none",border:"none",position:"absolute",width:"80%",zIndex:2e3};return r.a.createElement(Ne.a,{value:this.state.location,onChange:this.handleLocationChange,onSelect:this.handleSelect,searchOptions:aa,debounce:350},function(a){var n=a.getInputProps,i=a.suggestions,o=a.getSuggestionItemProps,l=a.loading;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(I.a,Object.assign({},n({placeholder:"Location",className:"location-search-input"}),{placeholder:"Location"})),r.a.createElement("div",{className:"autocomplete-dropdown-container",style:l||i.length>0?e:t},l&&r.a.createElement("div",null,"Loading..."),i.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#e6f7ff",cursor:"pointer",padding:".5em",fontWeight:"bold"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:".5em"};return r.a.createElement("div",o(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))})}}]),t}(n.Component),ra=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onButtonClick=function(e){a.setState({locations:[].concat(Object(We.a)(a.state.locations),[{}])})},a.handleLocation=function(e,t){var n=a.state.locations.slice(0,t).concat([e]).concat(a.state.locations.slice(t+1));a.setState({locations:n},function(){return a.props.handleLocationChange(a.state.locations)})},a.state={locations:a.props.itinerary&&a.props.itinerary.location&&a.props.itinerary.location.length>0?a.props.itinerary.location:[{}]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ta.panel},r.a.createElement("h1",null,"Love suggestions? Help us, help you."),r.a.createElement("h2",{style:{marginTop:"20px"}},"Where ya heading? \ud83d\ude97 \ud83d\ude81 \u2708\ufe0f \u26f5"),r.a.createElement("div",{style:{width:"100%"}},this.state.locations.map(function(t,a){return r.a.createElement(f.a,{type:"flex",justify:"start",align:"middle",style:{marginBottom:"10px"}},r.a.createElement(g.a,{style:{display:"inline-flex",flexGrow:1}},r.a.createElement(na,{location:t,handleLocationSelect:function(t){return e.handleLocation(t,a)}})),e.state.locations.length>1&&r.a.createElement(g.a,{style:{marginLeft:"10px",display:"inline-flex"}},r.a.createElement(j.a,{size:"small",type:"danger",ghost:!0,shape:"circle",icon:"minus",onClick:function(){return e.onButtonDeleteClick(a)}})))})),r.a.createElement(j.a,{type:"primary",onClick:this.onButtonClick},"Add Another Location"),r.a.createElement("h2",{style:{marginTop:"20px"}},"Tag Some Interests"),r.a.createElement(it,{tags:this.props.tags,handleTagChange:function(t){return e.props.handleTagChange(t)}}),this.props.error.length>0&&r.a.createElement(S.a,{message:this.props.error,type:"error"}))}}]),t}(n.Component),ia=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{style:{height:"100%",width:"100%"},type:"flex",justify:"center",align:"middle"},r.a.createElement(g.a,{span:24},r.a.createElement("h1",{style:{marginBottom:"20px"}},"Yay! You're going on a trip! Let's give it a name \ud83e\udd17"),r.a.createElement("input",{value:"Untitled"!==this.props.name?this.props.name:"",onChange:this.props.onChange,placeholder:"Untitled Trip Name \ud83c\udfd6\ufe0f \ud83c\udfd5  \ud83c\udfd9\ufe0f\ufe0f",className:ta.input})))}}]),t}(n.Component),oa=ea.a.Step,la=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleTagChange=function(e){a.setState({tags:e})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.handleLocationChange=function(e){a.setState({locations:e})},a.purgeLocations=function(){var e=Object(We.a)(a.state.locations),t=[];return e.forEach(function(e){e.name&&t.push(e)}),t},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.state={current:0,name:a.props.itinerary&&a.props.itinerary.name?a.props.itinerary.name:"",locations:a.props.itinerary&&a.props.itinerary.location?a.props.itinerary.location:[{}],tags:a.props.itinerary&&a.props.itinerary.tags?a.props.itinerary.tags:[],detailError:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(JSON.stringify(e.itinerary)!==JSON.stringify(this.props.itinerary)){var t={detailError:"",name:e.itinerary&&e.itinerary.name&&e.itinerary.name!==this.state.name?e.itinerary.name:this.state.name,locations:e.itinerary&&e.itinerary.location&&e.itinerary.location!==this.state.location?e.itinerary.location:this.state.location,tags:e.itinerary&&e.itinerary.tags&&e.itinerary.tags!==this.state.tags?e.itinerary.tags:this.state.tags};this.setState({nextState:t})}}},{key:"next",value:function(){switch(this.state.current){case 0:this.state.name.trim().length>0&&0!==this.state.name.localeCompare(this.props.itinerary.name)&&this.props.updateCurrentItineraryName(this.state.name);break;case 1:if(null!==this.state.location){var e=this.purgeLocations();this.props.updateCurrentItineraryLocation(e)}this.state.tags.length>0&&(this.props.itinerary.tags&&this.props.itinerary.tags!==this.state.tags||!this.props.itinerary.tags&&this.state.tags)&&this.props.updateCurrentItineraryTags(this.state.tags)}var t=this.state.current+1;this.setState({current:t})}},{key:"prev",value:function(){switch(this.state.current){case 0:this.state.name.trim().length>0&&this.props.itinerary.name!==this.state.name&&this.props.updateCurrentItineraryName(this.state.name);break;case 1:null!==this.state.location&&(this.props.itinerary.location&&this.props.itinerary.location!==this.state.location||!this.props.itinerary.location&&this.state.location)&&this.props.updateCurrentItineraryLocation(this.state.location),this.state.tags.length>0&&(this.props.itinerary.tags&&this.props.itinerary.tags!==this.state.tags||!this.props.itinerary.tags&&this.state.tags)&&this.props.updateCurrentItineraryTags(this.state.tags)}var e=this.state.current-1;this.setState({current:e})}},{key:"render",value:function(){var e=this,t=[{title:"Name",content:r.a.createElement(ia,{name:this.state.name,onChange:this.handleNameChange})},{title:"Details",content:r.a.createElement(ra,{error:this.state.detailError,tags:this.state.tags,itinerary:this.props.itinerary,handleTagChange:this.handleTagChange,handleLocationChange:function(t){return e.handleLocationChange(t)}})},{title:"Build",content:"Last-content"}],a=this.state.current;return r.a.createElement(Xe.a,{title:r.a.createElement(ea.a,{style:{marginTop:"15px"},progressDot:!0,current:a},t.map(function(e){return r.a.createElement(oa,{key:e.title,title:e.title})})),visible:this.props.visible,centered:!0,closable:!1,width:"50vw",footer:[r.a.createElement("div",{className:"steps-action"},a>0&&r.a.createElement(j.a,{style:{marginLeft:8},onClick:function(){return e.prev()}},"Previous"),a<t.length-1&&r.a.createElement(j.a,{type:"primary",disabled:0===a&&this.state.name.trim().length<1||1===a&&this.purgeLocations().length<1,onClick:function(){return e.next()}},"Next"),a===t.length-1&&r.a.createElement(j.a,{type:"primary",onClick:function(){return e.props.handleModal()}},"Build!"))]},r.a.createElement("div",{style:{padding:"1em"}},r.a.createElement("div",{className:"steps-content",style:{minHeight:"25vh",padding:"3em"}},t[a].content)))}}]),t}(n.Component),ca=Object(w.b)(null,function(e){return{updateCurrentItineraryName:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=a(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({name:e,editedAt:o.FieldValue.serverTimestamp()},{merge:!0}).then(function(){t({type:"ITINERARY_NAME_UPDATE_SUCCESS"})}).catch(function(e){return t({type:"ITINERARY_NAME_UPDATE_ERROR",e:e})})}}(t))},updateCurrentItineraryLocation:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=a(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({editedAt:o.FieldValue.serverTimestamp(),location:e},{merge:!0}).then(function(){t({type:"ITINERARY_LOCATION_UPDATE_SUCCESS"})}).catch(function(e){return t({type:"ITINERARY_LOCATION_UPDATE_ERROR",e:e})})}}(t))},updateCurrentItineraryTags:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=a(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set({editedAt:o.FieldValue.serverTimestamp(),tags:e},{merge:!0}).then(function(){t({type:"ITINERARY_TAGS_UPDATE_SUCCESS"})}).catch(function(e){return t({type:"ITINERARY_TAGS_UPDATE_ERROR",e:e})})}}(t))}}})(la),sa=(a(875),a(531)),ua=a(268),pa=Xe.a.confirm,ma=sa.a.Sider,da=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(G.a)(r,1)[0];return n.splice(a,0,i),n},ha=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onDragEnd=function(e){if(e.destination){var t=da(a.props.itinerary.collectionOrder,e.source.index,e.destination.index);tt(a.state.collectionOrder,t)||(a.setState({collectionOrder:t}),a.props.updateCollectionOrder(t))}},a.onDeleteClick=function(e){a.state.item;var t=Object(Je.a)(Object(Je.a)(a));pa({title:"Are you sure you want to delete this day?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteSpecificCollection(e)},onCancel:function(){return!1}})},a.onEditClick=function(e,t,n){a.setState({editModal:!0,editTitle:t,editId:e,editName:n})},a.handleCancel=function(){a.setState({editModal:!1})},a.onEditOk=function(){a.setState({editModal:!1},function(){a.props.editNameSpecificCollection(a.state.editId,a.state.editName)})},a.onChange=function(e){a.setState({editName:e.target.value})},a.state={collectionOrder:e.itinerary?e.itinerary.collectionOrder:[],editModal:!1,editTitle:"Day 1:",editId:"some id",editName:"some name"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.itinerary&&this.props.itinerary.collectionOrder&&this.props.itinerary.collectionOrder!==this.state.collectionOrder&&this.setState({collectionOrder:this.props.itinerary.collectionOrder}),this.props.itinerary&&!this.props.itinerary.collection[this.props.selected]&&this.props.updateCurrentCollectionSelected(this.props.itinerary.collectionOrder[0])}},{key:"componentWillReceiveProps",value:function(e){e.itinerary&&e.itinerary.collectionOrder&&e.itinerary.collectionOrder!==this.state.collectionOrder&&this.setState({collectionOrder:e.itinerary.collectionOrder}),e.itinerary&&!e.selected&&this.props.updateCurrentCollectionSelected(e.itinerary.collectionOrder[0])}},{key:"render",value:function(){var e=this;return r.a.createElement(ma,{className:ua.siderLayout},r.a.createElement("div",{style:{position:"sticky",top:0,width:"100%",backgroundColor:"white"}},r.a.createElement(j.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()},type:"primary",style:{position:"sticky",top:"1em",width:"90%",marginRight:"5%",marginLeft:"5%",marginTop:"1em",marginBottom:"1em"}},r.a.createElement(C.a,{type:"plus"}),"Add a Day")),r.a.createElement(z.a,{onDragEnd:this.onDragEnd},r.a.createElement(z.c,{droppableId:"droppable"},function(t,a){return r.a.createElement("div",{ref:t.innerRef},r.a.createElement("ul",{className:"ant-menu ant-menu-light ant-menu-root ant-menu-inline",style:{borderRight:0}},e.state.collectionOrder.map(function(t,a){return r.a.createElement(z.b,{key:t,draggableId:t,index:a},function(n,i){return r.a.createElement("li",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:e.props.selected===t?"ant-menu-item ant-menu-item-selected":"ant-menu-item",onClick:function(){return e.props.updateCurrentCollectionSelected(t)},key:a}),r.a.createElement(f.a,{type:"flex",justify:"space-between",align:"middle",className:ua.hover},r.a.createElement(g.a,{span:16,style:{flexGrow:1,maxWidth:"170px",overflow:"hidden",textOverflow:"ellipsis"}},"Day ",a+1,": ",e.props.itinerary&&e.props.itinerary.collection&&e.props.itinerary.collection[t]&&e.props.itinerary.collection[t].name?e.props.itinerary.collection[t].name:"Untitled"),r.a.createElement(g.a,{span:8,className:ua.hidden},r.a.createElement(j.a,{type:"danger",ghost:!0,onClick:function(){return e.onDeleteClick(t)},style:{boxShadow:"none",border:"none",float:"right",padding:0}},r.a.createElement(C.a,{style:{margin:0},type:"close"})),r.a.createElement(j.a,{type:"primary",ghost:!0,onClick:function(){return e.onEditClick(t,"Day "+(a+1)+":",e.props.itinerary.collection[t].name)},style:{boxShadow:"none",border:"none",float:"right",padding:0}},r.a.createElement(C.a,{style:{marginRight:6},type:"edit"})))))})}),t.placeholder))})),r.a.createElement(Xe.a,{title:this.state.editTitle,visible:this.state.editModal,onOk:this.onEditOk,onCancel:this.handleCancel},r.a.createElement(I.a,{value:this.state.editName,allowClear:!0,onChange:this.onChange})))}}]),t}(n.Component),ga=Object(w.b)(function(e){return{selected:e.edit.currentCollection}},function(e){return{addCollectionToCurrentItinerary:function(){return e(ae())},updateCollectionOrder:function(t){return e(le(t))},updateCurrentCollectionSelected:function(t){return e(oe(t))},deleteSpecificCollection:function(t){return e(ne(t))},editNameSpecificCollection:function(t,a){return e(function(e,t){return function(a,n,r){var i=r.getFirestore;a({type:"START_SAVING"});var o=n(),l=i();l.collection("users").doc(o.firebase.auth.uid).collection("itineraries").doc(o.edit.currentItinID).set({editedAt:l.FieldValue.serverTimestamp(),collection:Object(V.a)({},e,{name:t.trimLeft().length<1?"Untitled":t.trimLeft()})},{merge:!0}).then(function(){a({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){a({type:"ITIN_UPDATE_ERROR",e:e})})}}(t,a))}}})(ha),fa=a(145),Ea=a(168),ya=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).addSectionClick=function(e){var t=et(),n=Object(N.a)({},a.props.collection.events,Object(V.a)({},t,{id:t}));if(e){var r=a.props.collection.eventOrder.indexOf(e),i=Object(We.a)(a.props.collection.eventOrder).slice(0,r+1).concat([t]).concat(Object(We.a)(a.props.collection.eventOrder).slice(r+1));a.props.addNewEventToSpecificCollection(a.props.id,t,i)}else a.setState({eventOrder:[t],events:n},function(){return a.props.addNewEventToSpecificCollection(a.props.id,t,[t])})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(z.c,{droppableId:this.props.id,isDropDisabled:this.props.viewOnly},function(t,a){return r.a.createElement("div",{style:{paddingTop:"1em",width:"100%",minHeight:"100px"},ref:t.innerRef,className:Ea.list},r.a.createElement("div",{className:"ant-timeline"},e.props.collection.eventOrder.length<1&&r.a.createElement("div",{onClick:function(){return e.addSectionClick()}},r.a.createElement(M.a,{style:{marginTop:"10%"}},r.a.createElement(j.a,{type:"primary",size:"small",shape:"circle",icon:"plus"}))),e.props.collection.eventOrder&&e.props.collection.eventOrder.map(function(t,a){return r.a.createElement(z.b,{key:t,draggableId:t,index:a,type:"DEFAULT"},function(n,i){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement("li",{className:e.props.collection.eventOrder.length-1===a?"ant-timeline-item ant-timeline-item-last":"ant-timeline-item",style:{padding:0}},!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-tail"}),!e.props.dragging&&r.a.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue"}),r.a.createElement("div",{className:"ant-timeline-item-content"},e.props.editing===t&&r.a.createElement(Xe.a,{closable:!1,footer:null,visible:e.props.editing===t,centered:!0,width:"50vw"},r.a.createElement(mt,{item:e.props.collection.events[t]})),r.a.createElement("div",{onClick:function(){e.props.prepCurrentEventEditSpecific(e.props.id,t,e.props.collection.events[t])}},r.a.createElement(va,{item:e.props.collection.events[t]})),r.a.createElement("div",{onClick:function(){return e.addSectionClick(t)},className:Ea.addSection},r.a.createElement(M.a,{style:{marginTop:0,marginBottom:0}},r.a.createElement(j.a,{type:"primary",size:"small",shape:"circle",icon:"plus"}))))))})}),t.placeholder))})}}]),t}(n.Component),va=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Qe.a,{bordered:!0},r.a.createElement(f.a,{type:"flex",justify:"start"},this.props.item.name,this.props.item.location&&r.a.createElement("div",null,r.a.createElement(C.a,{type:"environment",style:{marginRight:"10px"}}),r.a.createElement("span",{style:{color:"#1890ff"}},this.props.item.location.name))))}}]),t}(n.Component),ba=Object(w.b)(function(e){return{editing:e.edit.editEventID}},function(e){return{prepCurrentEventEditSpecific:function(t,a,n){return e(function(e,t,a){return function(n,r,i){i.getFirestore,n({type:"PREP_CURRENT_EVENT_EDITING_SPECIFIC",collectionId:e,id:t,event:a})}}(t,a,n))},addNewEventToSpecificCollection:function(t,a,n){return e((r=t,i=a,o=n,function(e,t,a){var n=a.getFirestore;e({type:"START_SAVING"});var l=t(),c=n();c.collection("users").doc(l.firebase.auth.uid).collection("itineraries").doc(l.edit.currentItinID).set({editedAt:c.FieldValue.serverTimestamp(),collection:Object(V.a)({},r,{events:Object(V.a)({},i,$),eventOrder:o})},{merge:!0}).then(function(){e({type:"NEW_EVENT_SUCCESS"})}).catch(function(t){e({type:"NEW_EVENT_ERROR",e:t})})}));var r,i,o}}})(ya),Oa=Xe.a.confirm,Ca=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(G.a)(r,1)[0];return n.splice(a,0,i),n},_a=function(e,t,a){var n=Array.from(e);return n.splice(t,0,a),n},Ia=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onDragEnd=function(e){if(e.destination)if("grid"===e.destination.droppableId){var t=Ca(a.state.itinerary.collectionOrder,e.source.index,e.destination.index);if(!tt(a.state.itinerary.collectionOrder,t)){var n=JSON.parse(JSON.stringify(a.state.itinerary));n.collectionOrder=t,a.setState({itinerary:n},function(){return a.props.updateCollectionOrder(t)})}}else if(e.destination.droppableId===e.source.droppableId){var r=Ca(a.state.itinerary.collection[e.destination.droppableId].eventOrder,e.source.index,e.destination.index);if(!tt(a.state.itinerary.collection[e.destination.droppableId].eventOrder,r)){var i=JSON.parse(JSON.stringify(a.state.itinerary));i.collection[e.destination.droppableId].eventOrder=r,a.setState({itinerary:i},function(){return a.props.updateCurrentItinerary(a.state.itinerary)})}}else{var o=JSON.parse(JSON.stringify(a.state.itinerary)),l=o.collection[e.source.droppableId].eventOrder[e.source.index],c=a.state.itinerary.collection[e.source.droppableId].events[l];delete o.collection[e.source.droppableId].events[l],o.collection[e.source.droppableId].eventOrder.splice(e.source.index,1),o.collection[e.destination.droppableId].events[l]=c,o.collection[e.destination.droppableId].eventOrder=_a(o.collection[e.destination.droppableId].eventOrder,e.destination.index,l),a.setState({itinerary:o},function(){return a.props.updateCurrentItinerary(a.state.itinerary)})}a.setState({dragging:!1})},a.onDragStart=function(e){"grid"!==e.source.droppableId&&a.setState({dragging:!0})},a.onDeleteClick=function(e){a.state.item;var t=Object(Je.a)(Object(Je.a)(a));Oa({title:"Are you sure you want to delete this day?",okText:"Yes",cancelText:"No",onOk:function(){t.props.deleteSpecificCollection(e)},onCancel:function(){return!1}})},a.state={itinerary:a.props.itinerary?a.props.itinerary:null,dragging:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.itinerary!=this.state.itinerary&&this.setState({itinerary:e.itinerary})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Ea.multilist,style:{position:"relative",top:0,left:0,width:"100%",maxHeight:"100%",minHeight:"100%"}},r.a.createElement(z.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement(z.c,{direction:"horizontal",droppableId:"grid",type:"board"},function(t,a){return r.a.createElement("div",{className:Ea.multilist,style:{display:"flex",overflowX:"scroll",height:"100%",maxHeight:"100%",flexWrap:"nowrap"},ref:t.innerRef},e.state.itinerary&&e.state.itinerary.collectionOrder&&e.state.itinerary.collectionOrder.map(function(t,a){return r.a.createElement(z.b,{draggableId:t,index:a,key:t},function(n,i){return r.a.createElement("div",Object.assign({style:{display:"inline-flex",margin:"15px"},ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(Qe.a,{title:r.a.createElement("div",null,r.a.createElement("div",{style:{maxWidth:"85%",overflow:"hidden",textOverflow:"ellipsis",float:"left"}},r.a.createElement("span",{style:{maxWidth:"150px"}},"Day ",a+1,": ",e.state.itinerary.collection[t].name)),r.a.createElement(j.a,{onClick:function(){return e.onDeleteClick(t)},style:{border:"none",boxShadow:"none",float:"right"},icon:"close"})),bordered:!1,style:{margin:"15px",minWidth:"300px",maxWidth:"300px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)",borderColor:"rgba(0, 0, 0, 0.09)"}},r.a.createElement(ba,{dragging:e.state.dragging,id:t,collection:e.state.itinerary.collection[t]})))})}),t.placeholder,r.a.createElement(j.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()},type:"primary",style:{margin:"15px",minWidth:"300px",maxWidth:"300px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)",borderColor:"rgba(0, 0, 0, 0.09)"}},r.a.createElement(C.a,{type:"plus"}),"Add a Day"))})))}}]),t}(n.Component),Sa=Object(w.b)(null,function(e){return{updateCollectionOrder:function(t){return e(le(t))},updateCurrentItinerary:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=a(),o=r();o.collection("users").doc(i.firebase.auth.uid).collection("itineraries").doc(i.edit.currentItinID).set(Object(N.a)({},e,{editedAt:o.FieldValue.serverTimestamp()})).then(function(){t({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){t({type:"ITIN_UPDATE_ERROR",e:e})})}}(t))},addCollectionToCurrentItinerary:function(){return e(ae())},deleteSpecificCollection:function(t){return e(ne(t))}}})(Ia),ja=a(169),Na=a.n(ja),wa=a(259),Ta=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleDetailChange=function(e){a.setState({description:e})},a.handleTagChange=function(e){a.setState({tags:e})},a.onChange=function(e,t){a.setState(Object(V.a)({},e,t))},a.onButtonClick=function(e){a.setState({locations:[].concat(Object(We.a)(a.state.locations),[{}])})},a.onButtonDeleteClick=function(e){var t=Object(We.a)(a.state.locations);t.splice(e,1),a.setState({locations:t})},a.handleLocation=function(e,t){var n=a.state.locations.slice(0,t).concat([e]).concat(a.state.locations.slice(t+1));a.setState({locations:n})},a.purgeLocations=function(){var e=Object(We.a)(a.state.locations),t=[];return e.forEach(function(e){e.name&&t.push(e)}),t},a.handleOk=Object(wa.a)(Na.a.mark(function e(){var t,n;return Na.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.purgeLocations(),n="",a.state.name.trim().length<1&&(n="Name field is required."),t.length<1&&(n=n.length>0?"Name field and 1 Location is required.":"1 Location is required."),!(n.length<1)){e.next=11;break}return e.next=7,a.props.updateItineraryDetails(a.state.name.trim(),t,a.state.description,a.state.tags);case 7:return e.next=9,a.props.closeDetailModal();case 9:e.next=12;break;case 11:a.setState({errorMessage:n});case 12:case"end":return e.stop()}},e)})),a.state={errorMessage:"",locations:a.props.itinerary&&a.props.itinerary.location&&a.props.itinerary.location.length>0?a.props.itinerary.location:[{}],name:a.props.itinerary&&a.props.itinerary.name?a.props.itinerary.name:"",tags:a.props.itinerary&&a.props.itinerary.tags?a.props.itinerary.tags:[],description:a.props.itinerary&&a.props.itinerary.description?a.props.itinerary.description:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){JSON.stringify(e.itinerary)!==JSON.stringify(this.props.itinerary)&&this.setState({errorMessage:"",locations:this.props.itinerary&&this.props.itinerary.location&&this.props.itinerary.location.length>0?this.props.itinerary.location:[{}],name:this.props.itinerary&&this.props.itinerary.name?this.props.itinerary.name:"",tags:this.props.itinerary&&this.props.itinerary.tags?this.props.itinerary.tags:[],description:this.props.itinerary&&this.props.itinerary.description?this.props.itinerary.description:""})}},{key:"render",value:function(){var e=this;return r.a.createElement(Xe.a,{visible:this.props.visible,centered:!0,width:"50vw",closable:!1,onOk:this.handleOk,title:"Itinerary Details",onCancel:function(){return e.props.closeDetailModal()}},r.a.createElement("div",{style:{padding:"1em"}},this.state.errorMessage.length>0&&r.a.createElement(S.a,{message:this.state.errorMessage,type:"error"}),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,"Name:"),r.a.createElement(I.a,{value:this.state.name,id:"name",onChange:function(t){return e.onChange("name",t.target.value)},placeholder:"Itinerary Name"})),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,"Description:"),r.a.createElement(Ze.a,{style:{height:"250px",marginBottom:"50px"},value:this.state.description,onChange:this.handleDetailChange})),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,this.state.locations.length>1?"Locations:":"Location:"),this.state.locations.map(function(t,a){return r.a.createElement(f.a,{type:"flex",justify:"start",align:"middle",style:{marginBottom:"10px"}},r.a.createElement(g.a,{style:{display:"inline-flex",flexGrow:1}},r.a.createElement(na,{location:t,handleLocationSelect:function(t){return e.handleLocation(t,a)}})),e.state.locations.length>1&&r.a.createElement(g.a,{style:{marginLeft:"10px",display:"inline-flex"}},r.a.createElement(j.a,{size:"small",type:"danger",ghost:!0,shape:"circle",icon:"minus",onClick:function(){return e.onButtonDeleteClick(a)}})))}),r.a.createElement(j.a,{type:"primary",onClick:this.onButtonClick},"Add Another Location")),r.a.createElement("div",{style:{marginTop:10,marginBottom:10}},r.a.createElement("h3",null,this.state.tags.length>1?"Tags:":"Tag"),r.a.createElement(it,{tags:this.state.tags,handleTagChange:function(t){return e.handleTagChange(t)}}))))}}]),t}(n.Component),xa=Object(w.b)(null,function(e){return{updateItineraryDetails:function(t,a,n,r){return e(function(e,t,a,n){return function(r,i,o){var l=o.getFirestore;r({type:"START_SAVING"});var c=i(),s=l();s.collection("users").doc(c.firebase.auth.uid).collection("itineraries").doc(c.edit.currentItinID).set({name:e,location:t,description:a,tags:n,editedAt:s.FieldValue.serverTimestamp()},{merge:!0}).then(function(){r({type:"ITIN_UPDATE_SUCCESS"})}).catch(function(e){return r({type:"ITIN_UPDATE_ERROR",e:e})})}}(t,a,n,r))}}})(Ta),ka=r.a.createElement(C.a,{type:"loading",style:{fontSize:".7em",color:"white"},spin:!0}),Aa=Y.a.Button,Ra=Y.a.Group,Da=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(G.a)(r,1)[0];return n.splice(a,0,i),n},La=function(e,t,a){var n=Array.from(e);return n.splice(t,0,a),n},Pa=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleModal=function(){a.props.resetNewModal()},a.onDragEnd=function(e){if(e.destination){if("editPanel"===e.source.droppableId&&"editPanel"===e.destination.droppableId){var t=Da(a.state.eventOrder,e.source.index,e.destination.index);tt(a.state.eventOrder,t)||a.setState({dragging:!1,eventOrder:t},function(){return a.props.updateEventOrder(t)})}if("viewPanel"===e.source.droppableId&&"editPanel"===e.destination.droppableId){var n=a.props.view.itinerary.collection[a.props.view.currentCollectionId].eventOrder[e.source.index],r=a.props.view.itinerary.collection[a.props.view.currentCollectionId].events[n];r.reference={itineraryID:a.props.view.itinerary.id,collectionID:a.props.view.currentCollectionId,eventID:n};var i=et(),o=La(a.state.eventOrder,e.destination.index,i);tt(a.state.eventOrder,o)||a.setState({dragging:!1,eventOrder:o,events:Object(N.a)({},a.state.events,Object(V.a)({},i,r))},function(){return a.props.addEventToCurrentCollection(i,o,r)})}if("searchResults"===e.source.droppableId&&"editPanel"===e.destination.droppableId){console.log("hit");var l=a.props.searchResults[e.source.index],c=et(),s={name:l.name,location:{lat:l.geometry.location.lat(),lng:l.geometry.location.lng(),place_id:l.place_id,name:l.formatted_address}},u=La(a.state.eventOrder,e.destination.index,c);tt(a.state.eventOrder,u)||a.setState({dragging:!1,eventOrder:u,events:Object(N.a)({},a.state.events,Object(V.a)({},c,s))},function(){return a.props.addEventToCurrentCollection(c,u,s)}),console.log(a.props.searchResults[e.source.index])}}},a.onDragStart=function(){a.setState({dragging:!0})},a.onChange=function(e){a.setState({view:e.target.value},function(){a.props.prepCurrentEventEdit()})};var n=e.itinerary?e.itinerary[e.match.params.id]:{};return a.state={itinerary:n,collectionID:e.collectionID?e.collectionID:null,events:n&&e.collectionID&&n.collection[e.collectionID]?n.collection[e.collectionID].events:{},eventOrder:n&&e.collectionID&&n.collection[e.collectionID]?n.collection[e.collectionID].eventOrder:[],panelBclass:"XS",modal:a.props.edit.showNewModal,view:"single",detailsModal:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.itinerary&&this.props.itinerary[this.props.match.params.id]?this.props.itinerary[this.props.match.params.id]:null,a=e.itinerary&&e.itinerary[this.props.match.params.id]?e.itinerary[this.props.match.params.id]:null;(t&&JSON.stringify(t)!==JSON.stringify(a)||t&&JSON.stringify(t)!==JSON.stringify(this.state.itinerary)||t&&this.props.collectionID!==this.state.collectionID)&&this.setState({itinerary:t,detailsModal:!1,collectionID:this.props.collectionID,events:t&&this.props.collectionID&&t.collection&&t.collection[this.props.collectionID]?t.collection[this.props.collectionID].events:{},eventOrder:t&&this.props.collectionID&&t.collection&&t.collection[this.props.collectionID]?t.collection[this.props.collectionID].eventOrder:[]})}},{key:"componentDidMount",value:function(){this.props.prepEditState(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=[];this.state.eventOrder.forEach(function(a){e.state.events[a]&&e.state.events[a].location&&e.state.events[a].location.lat&&e.state.events[a].location.lng&&t.push(e.state.events[a].location)});var a=this.props.itinerary&&this.props.itinerary[this.props.match.params.id]?this.props.itinerary[this.props.match.params.id]:null;return r.a.createElement("div",null,r.a.createElement(Ue,null),r.a.createElement(j.a,{onClick:function(){return e.props.makeItineraryPublic()}},"MAKE PUBLIC?"),"multiple"===this.state.view&&r.a.createElement("div",{className:fa.content},r.a.createElement(Sa,{itinerary:a})),"single"===this.state.view&&r.a.createElement("div",null,r.a.createElement(ga,{itinerary:a}),r.a.createElement(z.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement("div",{className:fa.splitPane},r.a.createElement(H.a,{borderColor:"#e8e8e8"},r.a.createElement("div",{className:fa.panel,style:{width:"100%",padding:"1.5em"}},r.a.createElement(U,{className:fa.overlay}),this.props.itinerary&&r.a.createElement(bt,{collectionID:this.state.collectionID,viewOnly:!1,dragging:this.state.dragging,events:this.state.events,eventOrder:this.state.eventOrder}),!this.props.itinerary&&r.a.createElement(M.a,{style:{marginTop:"25vh",marginBottom:5}},r.a.createElement(B.a,{style:{},size:"large"}))),r.a.createElement("div",{className:fa.panel},r.a.createElement(K,null,r.a.createElement($t,{markers:t,dragging:this.state.dragging,match:this.props.match}))))))),r.a.createElement("div",{className:fa.footer},r.a.createElement(f.a,{type:"flex",align:"middle",style:{height:"100%"}},r.a.createElement(g.a,{span:20},r.a.createElement(Ra,{style:{marginLeft:"1em"},onChange:this.onChange,defaultValue:"single"},r.a.createElement(Aa,{value:"single"},r.a.createElement(C.a,{type:"profile"})),r.a.createElement(Aa,{value:"multiple"},r.a.createElement(C.a,{type:"project"}))),r.a.createElement("span",{style:{fontSize:"20px",marginLeft:"1em",color:"white"}},a&&a.name?a.name:"Untitled"),r.a.createElement(C.a,{type:"form",style:{color:"white",marginLeft:"1em",fontSize:"16px"},onClick:function(){return e.setState({detailsModal:!0})}})),r.a.createElement(g.a,{span:4,style:{textAlign:"right",paddingRight:"1em"}},this.props.saving&&r.a.createElement("span",{style:{fontSize:"1em",color:"white"}},"Saving... ",r.a.createElement(B.a,{indicator:ka})),!this.props.saving&&r.a.createElement("span",{style:{fontSize:"1em",color:"white"}},"Saved ",r.a.createElement(C.a,{type:"check",style:{color:"white",fontSize:".7em"}}))))),r.a.createElement(ca,{visible:this.props.edit.showNewModal,handleModal:function(){return e.handleModal()},itinerary:a}),r.a.createElement(xa,{visible:this.state.detailsModal,closeDetailModal:function(){return e.setState({detailsModal:!1})},itinerary:a}))}}]),t}(n.Component),Ua=Object(q.d)(Object(w.b)(function(e,t){return Object(N.a)({},t,{edit:e.edit,auth:e.firebase.auth,itinerary:e.firestore.data["users/"+e.firebase.auth.uid+"/itineraries"],collectionID:e.edit.currentCollection,view:e.view,saving:e.edit.saving,searchResults:e.search.results})},function(e){return{makeItineraryPublic:function(){return e(function(e,t,a){var n=a.getFirestore,r=t(),i=n(),o=i.collection("users").doc(r.firebase.auth.uid).collection("itineraries").doc(r.edit.currentItinID),l=i.collection("publicItineraries").doc();o.get().then(function(t){if(t.exists){var a=t.data();l.set(a).then(function(){e({type:"ITIN_TO_PUBLIC_SUCCESS"})}).catch(function(t){e({type:"ITIN_TO_PUBLIC_ERROR",e:t})})}}).catch(function(t){e({type:"ITIN_TO_PUBLIC_ERROR",e:t})})})},loadItineraryToEdit:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;t({type:"START_SAVING"});var i=a().firebase,o=r().collection("users").doc(i.auth.uid).collection("itineraries").doc(e);t({type:"LOAD_ITIN_SUCCESS",itinID:e,itinRef:o,transition:function(t,a,n){return{pathname:"/edit/"+e}}})}}(t))},updateEventOrder:function(t){return e(ie(t))},prepEditState:function(t){return e(function(e){return function(t,a,n){n.getFirestore,t({type:"PREP_EDIT_STATE",itinID:e})}}(t))},resetNewModal:function(){return e(function(e,t,a){a.getFirestore,e({type:"CLOSE_NEW_MODAL"})})},updateCurrentCollectionSelected:function(t){return e(oe(t))},addEventToCurrentCollection:function(t,a,n){return e(function(e,t,a){return function(n,r,i){var o=i.getFirestore;n({type:"START_SAVING"});var l=r(),c=o();c.collection("users").doc(l.firebase.auth.uid).collection("itineraries").doc(l.edit.currentItinID).set({editedAt:c.FieldValue.serverTimestamp(),collection:Object(V.a)({},l.edit.currentCollection,{events:Object(V.a)({},e,a),eventOrder:t})},{merge:!0}).then(function(){n({type:"ADD_EVENT_SUCCESS",id:e,event:a})}).catch(function(e){n({type:"ADD_EVENT_ERROR",e:e})})}}(t,a,n))},prepCurrentEventEdit:function(){return e(ce(null,null))}}}),Object(W.firestoreConnect)(function(e){return[{collection:"users/"+e.auth.uid+"/itineraries",doc:e.match.params.id}]}))(Pa),Fa=a(173),Ma=a(506),Ba=a.n(Ma),Va=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Fa.bigContainer},r.a.createElement(f.a,{className:Fa.wrap},r.a.createElement(g.a,{span:20,offset:2},r.a.createElement(f.a,{type:"flex",justify:"space-between"},r.a.createElement(g.a,{xs:24,sm:24,md:6},r.a.createElement("h2",null,"Hello:"),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"About Us")),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"Press")),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"Blog")),r.a.createElement("a",{href:"#"},r.a.createElement("p",null,"Jobs"))),r.a.createElement(g.a,{xs:24,sm:24,md:6},r.a.createElement("h2",null,"Contact Us:"),r.a.createElement("p",null,"travelroo.io@gmail.com")),r.a.createElement(g.a,{xs:24,sm:24,md:6},r.a.createElement("img",{src:Ba.a,alt:"logo"}),r.a.createElement("p",{className:Fa.rights},"\xa9 2019 TRAVELROO.IO,"),r.a.createElement("p",{className:Fa.rights},"ALL RIGHTS RESERVED."),r.a.createElement("p",{className:Fa.last},"Made with love in Seattle, WA."))))))}}]),t}(n.Component),Ga=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"fixed",width:"100%",top:0,zIndex:1050,background:"#ffff"}},r.a.createElement(Pe,null)),r.a.createElement("div",{style:{minHeight:"100vh",paddingTop:"65px"}},this.props.children),r.a.createElement(Va,null))}}]),t}(n.Component),Ya=a(174),za=(a(879),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(){},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ga,null,this.props.itineraryInFocus&&r.a.createElement("div",{className:Ya.content},r.a.createElement(H.a,{borderColor:"#e8e8e8"},r.a.createElement("div",{className:Ya.content,style:{width:"100%"}},r.a.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1001}},r.a.createElement(Ut,{drawer:!0})),r.a.createElement("div",{style:{paddingTop:"70px",paddingBottom:"70px"}},r.a.createElement(f.a,{type:"flex",justify:"center"},r.a.createElement(g.a,{xs:22,sm:22,md:22,lg:20,xl:20,xxl:20},r.a.createElement(K,null,r.a.createElement(Lt,null)))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{paddingTop:"50px"}},r.a.createElement(g.a,null,r.a.createElement(j.a,{disabled:this.props.loading||!this.props.lastSnapshot,onClick:function(){return e.props.loadMorePublicQueryResults()},type:"primary",size:"lg"}," Load More "))))),r.a.createElement("div",{className:Ya.content},r.a.createElement(z.a,{onDragEnd:this.onDragEnd},r.a.createElement(It,{dragging:this.props.dragging,match:this.props.match,onBack:function(){return e.props.clearItineraryInView()}}))))),!this.props.itineraryInFocus&&r.a.createElement("div",{className:Ya.panel,style:{width:"100%"}},r.a.createElement("div",{className:Ya.content},r.a.createElement("div",{style:{position:"fixed",top:65,width:"100%",zIndex:1001}},r.a.createElement(Ut,{drawer:!0})),r.a.createElement("div",{style:{paddingTop:"70px",paddingBottom:"70px"}},r.a.createElement(f.a,{type:"flex",justify:"center"},r.a.createElement(g.a,{xs:22,sm:22,md:22,lg:20,xl:20,xxl:20},r.a.createElement(K,null,r.a.createElement(Lt,null)))),r.a.createElement(f.a,{type:"flex",justify:"center",style:{paddingTop:"50px"}},r.a.createElement(g.a,null,r.a.createElement(j.a,{disabled:this.props.loading||!this.props.lastSnapshot,onClick:function(){return e.props.loadMorePublicQueryResults()},type:"primary",size:"lg"}," Load More ")))))))}}]),t}(n.Component)),Ha=Object(w.b)(function(e){return{authError:e.auth.authError,loading:e.query.loading,lastSnapshot:e.query.lastSnapshot,modalOpen:e.query.discoverModalOpen,itineraryInFocus:e.view.itinerary}},function(e){return{addToPublicIndex:function(t){return e(xe(t))},getPublicQueryResults:function(t){return e(Te(t))},loadMorePublicQueryResults:function(){return e(function(e,t,a){var n=(0,a.getFirestore)(),r=new we.GeoFirestore(n).collection("publicIndex"),i=t().query.currentQuery;i.radius=i.radius+5;var o=r.near({center:new n.GeoPoint(i.lat,i.lng),radius:i.radius});e({type:"QUERY_LOADING"}),o.get().then(function(t){var a={};t.docs.forEach(function(e){a[e.id]=e.data()}),e({type:"QUERY_SUCCESS",formattedResults:a,lastSnapshot:t,currentQuery:i})}).catch(function(t){e({type:"QUERY_ERROR",err:t})})})},clearItineraryInView:function(){return e(function(e,t,a){a.getFirestore,e({type:"CLEAR_ITINERARY_TO_VIEW"})})}}})(za),Wa=(a(980),a(529)),qa=a(203),Qa=a.n(qa),Ja=a(170),Xa=a.n(Ja),Ka=a(507),Za=a.n(Ka),$a=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={searchText:""},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({sortedInfo:n})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,i=t.selectedKeys,o=t.confirm,l=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(I.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:i[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(i,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(j.a,{type:"primary",onClick:function(){return a.handleSearch(i,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(j.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(C.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Za.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.sortedInfo;t=t||{};var a=[Object(N.a)({title:"Name",dataIndex:"name",key:"name",width:"30%",sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===t.columnKey&&t.order},this.getColumnSearchProps("name")),{title:"Tags",key:"tags",dataIndex:"tags",render:function(e){return r.a.createElement("span",null,e.map(function(e){e.length;return"loser"===e&&"volcano",r.a.createElement(rt.a,{color:"#108ee9",key:e},e.toUpperCase())}))}},{title:"Location",key:"location",dataIndex:"location",render:function(e){return r.a.createElement("span",null,e.length>0?e.map(function(t,a){return r.a.createElement("span",null,a+1===e.length?t.name:t.name+" | ")}):"N/A")}},{title:"Created",key:"createdAt",dataIndex:"createdAt",sorter:function(e,t){return e.createdAtDate-t.createdAtDate},sortOrder:"createdAt"===t.columnKey&&t.order,render:function(e){return r.a.createElement("span",null,0!=Xa()().diff(e.toDate(),"days")&&r.a.createElement(Qa.a,{format:"MM/DD/YYYY"},e.toDate()),0==Xa()().diff(e.toDate(),"days")&&r.a.createElement(Qa.a,{fromNow:!0},e.toDate()))}},{title:"Last Edited",key:"editedAt",dataIndex:"editedAt",sorter:function(e,t){return e.editedAtDate-t.editedAtDate},sortOrder:"editedAt"===t.columnKey&&t.order,render:function(e){return r.a.createElement("span",null,0!=Xa()().diff(e.toDate(),"days")&&r.a.createElement(Qa.a,{format:"MM/DD/YYYY"},e.toDate()),0==Xa()().diff(e.toDate(),"days")&&r.a.createElement(Qa.a,{fromNow:!0},e.toDate()))}}];return r.a.createElement(Wa.a,{onRow:function(t,a){return{onClick:function(a){e.props.history.push("/edit/"+t.id)}}},loading:this.props.loading,pagination:!1,columns:a,dataSource:this.props.itineraries,onChange:this.handleChange})}}]),t}(n.Component),en=Object(Oe.a)($a),tn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadItineraries=Object(wa.a)(Na.a.mark(function e(){return Na.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.moreResults&&a.props.auth.isLoaded&&!a.state.loading&&a.setState({loading:!0},function(){var e=a.props.firestore.collection("users").doc(a.props.auth.uid).collection("itineraries").orderBy("editedAt","desc");a.state.next&&(e=a.state.next),e.limit(15).get().then(function(e){var t=e.docs.map(function(e){var t=e.data();return Object(N.a)({},t,{createdAtDate:t.createdAt.toDate().getTime(),editedAtDate:t.editedAt.toDate().getTime(),id:e.id})});if(e.docs.length>0){var n=a.props.firestore.collection("users").doc(a.props.auth.uid).collection("itineraries").orderBy("editedAt").startAfter(e.docs[e.docs.length-1]);a.setState({loading:!1,itineraries:a.state.itineraries.concat(t),next:n,moreResults:e.docs.length>=15})}else a.setState({loading:!1,itineraries:a.state.itineraries.concat(t),next:null,moreResults:!1})})});case 1:case"end":return e.stop()}},e)})),a.state={itineraries:[],moreResults:!0,loading:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!1===e.auth.isLoaded&&this.props.auth.isLoaded&&this.loadItineraries()}},{key:"componentDidMount",value:function(){this.loadItineraries()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(en,{loading:!this.props.auth.isLoaded||this.state.loading,itineraries:this.state.itineraries}))}}]),t}(n.Component),an=Object(q.d)(W.withFirestore,Object(w.b)(function(e,t){return Object(N.a)({},t,{auth:e.firebase.auth})},null))(tn),nn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Buckets")}}]),t}(n.Component),rn=(a(894),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,component:1},a.onCollapse=function(e){a.setState({collapsed:e})},a.onMenuClick=function(e){a.setState({component:e})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){switch(this.state.component){case 1:r.a.createElement(an,null);break;case 2:case 3:r.a.createElement(Ha,null);break;case 4:r.a.createElement(nn,null)}return r.a.createElement(Ga,null)}}]),t}(n.Component)),on=Object(w.b)(function(e){return{addToPublicIndex:function(t){return e(xe(t))},getPublicQueryResults:function(t){return e(Te(t))}}})(rn),ln=(a(895),a(205)),cn=a(357),sn=a(269),un=cn.b.li({}),pn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[0,1,2,3],itemDesc:["a","b","c","d","e"]},a.toggleVisibility=function(){return a.setState({items:mn(a.state.items)})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.toggleVisibility,3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement(ln.a,null,r.a.createElement(ln.a.Item,{key:6},r.a.createElement("div",{className:sn.item})),r.a.createElement(cn.a,null,this.state.items.map(function(e){return r.a.createElement(un,{"data-key":e,key:e},r.a.createElement(ln.a.Item,null,r.a.createElement("div",{className:sn.item,"data-key":e})))}),r.a.createElement(ln.a.Item,{key:6},r.a.createElement("div",{className:sn.item}))))}}]),t}(n.Component);function mn(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}var dn=a(270),hn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{type:"flex",justify:"space-around",className:dn.container},r.a.createElement(g.a,{xs:{span:20},md:{span:8}},r.a.createElement("h1",{className:dn.header},"Travelroo.io"),r.a.createElement("p",{className:dn.sub},"Discover, plan, and share your perfect itinerary"),r.a.createElement(f.a,null,r.a.createElement(j.a,{type:"primary",shape:"round",size:"large"},"Learn More"))),r.a.createElement(g.a,{xs:{span:0},md:{span:8}},r.a.createElement(pn,null)))}}]),t}(n.Component),gn=a(510),fn=a(68),En=a(511),yn=a.n(En),vn=a(512),bn=a.n(vn),On=a(513),Cn=a.n(On),_n=a(514),In=a.n(_n),Sn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:fn.slant},r.a.createElement("p",{className:fn.title},"Designed to make planning fun again"),r.a.createElement(f.a,null,r.a.createElement(g.a,{span:18,offset:3},r.a.createElement(f.a,{type:"flex",justify:"space-around",className:fn.container},r.a.createElement(g.a,{className:fn.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:fn.circle},r.a.createElement("img",{className:fn.imageIcon,src:In.a,alt:"Globe"})),r.a.createElement("p",null,"Pick a place on the Earth")),r.a.createElement(g.a,{className:fn.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:fn.circle},r.a.createElement("img",{className:fn.imageIcon,src:bn.a,alt:"Trip Itinerary"})),r.a.createElement("p",null,"Discover what other's have done")),r.a.createElement(g.a,{className:fn.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:fn.circle},r.a.createElement("img",{className:fn.imageIcon,src:Cn.a,alt:"Trip Route"})),r.a.createElement("p",null,"Build your itinerary")),r.a.createElement(g.a,{className:fn.col,sm:{span:20,offset:2},md:{span:4,offset:0}},r.a.createElement("div",{className:fn.circle},r.a.createElement("img",{className:fn.imageIcon,src:yn.a,alt:"Pyramid"})),r.a.createElement("p",null,"Travelroo the world!"))))))}}]),t}(n.Component),jn=a(33),Nn=a(515),wn=a.n(Nn),Tn=rt.a.CheckableTag,xn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!0},a.toggleVisibility=function(){return a.setState({checked:Math.random()>=.5})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.toggleVisibility,3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement(Tn,Object.assign({},this.props,{checked:this.state.checked}))}}]),t}(r.a.Component),kn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:jn.bigContainer},r.a.createElement("p",{className:jn.title},"Travel plans made by real travelers"),r.a.createElement(f.a,null,r.a.createElement(g.a,{xs:{span:20,offset:2},md:{span:18,offset:3},lg:{span:16,offset:4}},r.a.createElement(f.a,{type:"flex",className:jn.container},r.a.createElement(g.a,{className:jn.blue,xs:{span:24,offset:0},md:{span:12,offset:0}},r.a.createElement("p",{className:jn.sectionTitleWhite},"Powered by community"),r.a.createElement("p",{className:jn.sectionText},"At Travelroo, it's all about community. Whether you're a seasoned traveller or don't know where to start, Travelroo has something for you. Explore our community currated collection of itineraries from across the world. Get insight, get inspired, and when you're ready, build an itinerary fined tuned for you."),r.a.createElement(j.a,{size:"default",ghost:!0,shape:"round"},"Begin Exploring")),r.a.createElement(g.a,{className:jn.white,sm:{span:24,offset:0},md:{span:12,offset:0}},r.a.createElement(f.a,{style:{height:"700px"}},r.a.createElement(f.a,{className:jn.rowContainer},r.a.createElement(g.a,{xs:24,sm:24,md:24,lg:16,className:jn.rowTextContainer},r.a.createElement("p",{className:jn.rowTextTitle},"Explore"),r.a.createElement("p",{className:jn.rowTextDescription},"Browse our community currated itineraries from across the globe."),r.a.createElement(T.a,{to:"#"},"Learn More >")),r.a.createElement(g.a,{xs:0,sm:0,md:0,lg:8,className:jn.rowImageContainer},r.a.createElement("div",null,r.a.createElement(xn,null,"Food"),r.a.createElement(xn,null,"21+"),r.a.createElement(xn,null,"Kid Friendly"),r.a.createElement(xn,null,"Outdoors"),r.a.createElement(xn,null,"City"),r.a.createElement(xn,null,"Tour"),r.a.createElement(xn,null,"Shopping"),r.a.createElement(xn,null,"Local")))),r.a.createElement(f.a,{className:jn.rowContainer},r.a.createElement(g.a,{xs:0,sm:0,md:0,lg:8,className:jn.rowImageContainer},r.a.createElement("img",{src:wn.a,alt:"heart"})),r.a.createElement(g.a,{xs:24,sm:24,md:24,lg:16,className:jn.rowTextContainer},r.a.createElement("p",{className:jn.rowTextTitle},"Discover"),r.a.createElement("p",{className:jn.rowTextDescription},"Found something cool? Store it in a 'trip bucket' to save for later."),r.a.createElement(T.a,{to:"#"},"Learn More >"))),r.a.createElement(f.a,{className:jn.rowContainer},r.a.createElement(g.a,{xs:24,sm:24,md:24,lg:16,className:jn.rowTextContainer},r.a.createElement("p",{className:jn.rowTextTitle},"Build"),r.a.createElement("p",{className:jn.rowTextDescription},"Plan your trip, add items from your buckets or build from scratch."),r.a.createElement(T.a,{to:"#"},"Learn More >")),r.a.createElement(g.a,{xs:0,sm:0,md:0,lg:8,className:jn.rowImageContainer},r.a.createElement("img",{src:"https://via.placeholder.com/200?text=Placeholder",className:jn.right,alt:"Placeholder"}))),r.a.createElement(f.a,{className:jn.rowContainer},r.a.createElement(g.a,{xs:0,sm:0,md:0,lg:8,className:jn.rowImageContainer},r.a.createElement("img",{src:"https://via.placeholder.com/200?text=Placeholder",alt:"Placeholder"})),r.a.createElement(g.a,{xs:24,sm:24,md:24,lg:16,className:jn.rowTextContainerLast},r.a.createElement("p",{className:jn.rowTextTitle},"Contribute"),r.a.createElement("p",{className:jn.rowTextDescription},"Inspire others with your travel. Publicize your itinerary to our collection (we'll generify it)!"),r.a.createElement(T.a,{to:"#"},"Learn More >")))))))))}}]),t}(n.Component),An=a(52),Rn=a(516),Dn=a.n(Rn),Ln=a(517),Pn=a.n(Ln),Un=a(518),Fn=a.n(Un),Mn=a(519),Bn=a.n(Mn),Vn=a(520),Gn=a.n(Vn),Yn=a(521),zn=a.n(Yn),Hn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:An.bigContainer},r.a.createElement("p",{className:An.title},"Meet the team behind the scenes"),r.a.createElement(f.a,null,r.a.createElement(g.a,{span:20,offset:2},r.a.createElement(f.a,{type:"flex",justify:"space-around"},r.a.createElement(g.a,null,r.a.createElement("div",{className:An.container},r.a.createElement("img",{src:Bn.a,alt:"Avatar",className:An.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/UKkes2qN2T70s/giphy.gif",alt:"Avatar",className:An.imageTop})),r.a.createElement("p",{className:An.position},"The Architect"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/matthewkli/",target:"_blank"},"Matthew Li")),r.a.createElement(g.a,null,r.a.createElement("div",{className:An.container},r.a.createElement("img",{src:Dn.a,alt:"Avatar",className:An.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/w90dSL511YLiutvRYo/giphy.gif",alt:"Avatar",className:An.imageTop})),r.a.createElement("p",{className:An.position},"The Planner"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/alisa-kean/",target:"_blank"},"Alisa Kean")),r.a.createElement(g.a,null,r.a.createElement("div",{className:An.container},r.a.createElement("img",{src:Gn.a,alt:"Avatar",className:An.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/9Jcw5pUQlgQLe5NonJ/giphy.gif",alt:"Avatar",className:An.imageTop})),r.a.createElement("p",{className:An.position},"The Swiss Army Knife"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/peterhongg/",target:"_blank"},"Peter Hong")),r.a.createElement(g.a,null,r.a.createElement("div",{className:An.container},r.a.createElement("img",{src:Pn.a,alt:"Avatar",className:An.image}),r.a.createElement("img",{src:"https://media.giphy.com/media/ZVik7pBtu9dNS/giphy.gif",alt:"Avatar",className:An.imageTop})),r.a.createElement("p",{className:An.position},"The Dev"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/in/epeng1/",target:"_blank"},"Eric Peng"))))),r.a.createElement(f.a,null,r.a.createElement(g.a,{span:16,offset:4},r.a.createElement(f.a,{type:"flex",justify:"space-around"},r.a.createElement(g.a,{xs:20,sm:20,md:8,lg:8},r.a.createElement("img",{src:zn.a,alt:"Avatar",className:An.image2})),r.a.createElement(g.a,{xs:20,sm:20,md:8,lg:8},r.a.createElement("img",{src:Fn.a,alt:"Avatar",className:An.image2}))))))}}]),t}(n.Component),Wn=a(204),qn=a(533),Qn=function(){return r.a.createElement(qn.a,{url:"https://travelroo.us20.list-manage.com/subscribe/post?u=2185e84ce0e75be368b493285&amp;id=1f199c783c"})},Jn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Wn.bigContainer},r.a.createElement("p",{className:Wn.title},"Let's stay in touch :)"),r.a.createElement("p",{className:Wn.subTitle},"Be the first to know when we're live!"),r.a.createElement(f.a,{className:Wn.form},r.a.createElement(g.a,{lg:{span:12,offset:6},md:{span:18,offset:3},sm:{span:20,offset:2},xs:{span:22,offset:1}},r.a.createElement(Qn,null))))}}]),t}(n.Component),Xn=a(175),Kn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Xn.bigContainer},r.a.createElement(f.a,null,r.a.createElement(g.a,{span:20,offset:2},r.a.createElement(f.a,{type:"flex",justify:"center"},r.a.createElement(g.a,null,r.a.createElement("span",{className:Xn.title},"Follow Travelroo.io")),r.a.createElement(g.a,null,r.a.createElement("a",{href:"#",className:Xn.icon},r.a.createElement(E.Icon,{size:28,icon:y.twitter})),r.a.createElement("a",{href:"#",className:Xn.icon},r.a.createElement(E.Icon,{size:28,icon:y.instagram})),r.a.createElement("a",{href:"#",className:Xn.icon},r.a.createElement(E.Icon,{size:28,icon:y.linkedin})))))))}}]),t}(n.Component),Zn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Ga,null,r.a.createElement("div",{className:gn.body},r.a.createElement(hn,null),r.a.createElement(Sn,null),r.a.createElement(kn,null),r.a.createElement(Hn,null),r.a.createElement(Jn,null),r.a.createElement(Kn,null)))}}]),t}(n.Component),$n=a(524),er=a(985),tr=a(984),ar=Object(tr.a)(Object(w.b)(function(e){return{auth:e.firebase.auth}})(function(e){var t=e.component,a=e.auth,n=e.isAuth,i=void 0!==n&&n,o=e.redirect,l=void 0===o?"/":o,c=Object($n.a)(e,["component","auth","isAuth","redirect"]),s=t;return r.a.createElement(h.a,Object.assign({},c,{render:function(e){return i&&!a&&!a.uid||0==i&&a.uid?r.a.createElement(er.a,{to:{pathname:l,state:{from:e.location}}}):r.a.createElement(s,e)}}))})),nr=a(528),rr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).exportPDFWithComponent=function(){a.pdfExportComponent.save()},a.onDragEnd=function(e){},a.onDragStart=function(e){},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:"k-button",onClick:this.exportPDFWithComponent},"Export with component"),r.a.createElement("p",null,this.props.edit.currentItin?this.props.edit.currentItin.toString():"asdf"),r.a.createElement(j.a,{onClick:function(){return e.props.createNewItinerary()}}),r.a.createElement(j.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()}}),r.a.createElement(j.a,{onClick:function(){return e.props.loadItineraryToState()}},"Load To State"),r.a.createElement(nr.a,{ref:function(t){return e.pdfExportComponent=t},paperSize:"A4"},r.a.createElement(j.a,{onClick:function(){return e.props.addCollectionToCurrentItinerary()}}),r.a.createElement(j.a,{onClick:function(){return e.props.loadItineraryToState()}},"Load To State")),r.a.createElement(z.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},r.a.createElement(Xt,null)))}}]),t}(n.Component),ir=Object(w.b)(function(e){return{edit:e.edit,view:e.view}},function(e){return{createNewItinerary:function(){return e(te())},addCollectionToCurrentItinerary:function(){return e(ae())},loadItineraryToState:function(){return e(Me("3H0jUKxaJ5mX0LReiGH1"))}}})(rr),or=a(120),lr=Object(or.a)(),cr=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ga,null,r.a.createElement(f.a,{type:"flex",justify:"center"},r.a.createElement(g.a,{xs:24,sm:24,md:22,lg:20,xl:20,xxl:20,style:{paddingTop:"100px"}},r.a.createElement("h1",{style:{marginBottom:"20px"}},"My Itineraries"),r.a.createElement(j.a,{style:{marginBottom:"20px"},onClick:function(){return e.props.createNewItinerary()},type:"primary"},r.a.createElement(C.a,{type:"plus"}),"Create New Itinerary"),r.a.createElement(an,null))))}}]),t}(n.Component),sr=Object(w.b)(null,function(e){return{createNewItinerary:function(){return e(te())}}})(cr),ur=function(){return r.a.createElement(F,{isLogin:!1})},pr=function(){return r.a.createElement(F,{isLogin:!0})},mr=function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{history:lr},r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/test",component:ir}),r.a.createElement(h.a,{path:"/discover",component:Ha}),r.a.createElement(ar,{isAuth:!1,path:"/signup",redirect:"/home",component:ur}),r.a.createElement(ar,{isAuth:!1,path:"/login",redirect:"/home",component:pr}),r.a.createElement(ar,{isAuth:!0,path:"/profile",redirect:"/home",component:sr}),r.a.createElement(ar,{isAuth:!0,path:"/home",redirect:"/login",component:on}),r.a.createElement(h.a,{path:"/edit/:id/:action?",component:Ua}),r.a.createElement(ar,{isAuth:!1,path:"/",redirect:"/profile",component:Zn})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dr={authError:null},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"SIGNUP_ERROR":return console.log("signup error"),Object(N.a)({},e,{authError:t.err});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(N.a)({},e,{authError:null});case"LOGIN_ERROR":return console.log("login error"),Object(N.a)({},e,{authError:t.err});case"LOGIN_SUCCESS":return console.log("login success"),Object(N.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return Object(N.a)({},e,{authError:null});case"SIGNOUT_ERROR":return Object(N.a)({},e,{authError:t.err});default:return e}},gr=a(202),fr={formattedResults:null,loading:!1,specificLoading:!1,discoverModalOpen:!1,lastSnapshot:null},Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUERY_SUCCESS":return Object(N.a)({},e,{formattedResults:t.formattedResults,currentQuery:t.currentQuery?t.currentQuery:e.currentQuery,lastSnapshot:t.lastSnapshot,loading:!1});case"QUERY_LOADING":return Object(N.a)({},e,{formattedResults:null,loading:!0});case"SPECIFIC_QUERY_SUCCESS":return Object(N.a)({},e,{focused:t.focused,specificLoading:!1});case"SPECIFIC_QUERY_ERROR":return Object(N.a)({},e,{focused:null,specificLoading:!1});case"SPECIFIC_QUERY_LOADING":return Object(N.a)({},e,{focused:null,discoverModalOpen:!0,specificLoading:!0});case"CLOSE_DISCOVER_MODAL":return Object(N.a)({},e,{discoverModalOpen:!1});default:return e}},yr={currentRef:null,currentCollection:null,currentItinID:null,editEventID:null,editError:null,currentEventEditing:null,currentEventInitial:null,showNewModal:!1,saving:!1},vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),t.type){case"CLEAR_STATE":return Object(N.a)({},yr);case"START_SAVING":return Object(N.a)({},e,{saving:!0});case"PREP_EDIT_STATE":return Object(N.a)({},e,{editError:null,currentItinID:t.itinID});case"NEW_ITIN_CREATED_SUCCESS":return Object(N.a)({},yr,{currentItinID:t.itinID,currentRef:t.itinRef,showNewModal:!0});case"CLOSE_NEW_MODAL":return Object(N.a)({},e,{showNewModal:!1});case"NEW_COLLECTION_SUCCESS":return Object(N.a)({},e,{saving:!1,editError:null});case"UPDATE_CURRENT_COLLECTION_VIEW":return Object(N.a)({},e,{currentCollection:t.currentCollection});case"LOAD_ITIN_SUCCESS":return Object(N.a)({},e,{currentRef:t.itinRef,currentItinID:t.itinID});case"UPDATE_COLLECTION_SELECTED_SUCCESS":return Object(N.a)({},e,{currentCollection:t.collectionID,editEventID:null});case"PREP_CURRENT_EVENT_EDITING":return Object(N.a)({},e,{editEventID:t.id,currentEventEditing:t.event,currentEventInitial:t.event});case"UPDATE_CURRENT_EVENT_EDITING":return Object(N.a)({},e,{currentEventEditing:t.event});case"CURRENT_EVENT_SAVED_ERROR":return Object(N.a)({},e,{editError:t.error});case"CURRENT_EVENT_SAVED_SUCCESS":return Object(N.a)({},e,{editError:t.error,editEventID:null,currentEventEditing:null,currentEventInitial:null,saving:!1});case"CLOSE_EVENT_EDITING":return Object(N.a)({},e,{editEventID:null,currentEventEditing:null,currentEventInitial:null,saving:!1});case"PREP_CURRENT_EVENT_EDITING_SPECIFIC":return Object(N.a)({},e,{currentCollection:t.collectionId,editEventID:t.id,currentEventEditing:t.event,currentEventInitial:t.event});case"NEW_EVENT_SUCCESS":case"ADD_EVENT_SUCCESS":return Object(N.a)({},e,{editEventID:t.id,currentEventEditing:t.event,currentEventInitial:t.event,saving:!1});case"UPDATED_EVENTLIST_ORDER_SUCCESS":case"UPDATED_COLLECTION_ORDER_SUCCESS":case"CURRENT_EVENT_SAVED_SUCCESS":case"ITIN_UPDATE_SUCCESS":return Object(N.a)({},e,{saving:!1});default:return e}},br={itinerary:null,currentCollectionId:null,loading:!1},Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TRANSACTION":return Object(N.a)({},e,{loading:!0});case"LOAD_ITINERARY_TO_VIEW":return Object(N.a)({},e,{itinerary:t.itinerary,currentCollectionId:t.currentCollectionId,loading:!1});case"UPDATE_COLLECTION_VIEWING":return Object(N.a)({},e,{currentCollectionId:t.currentCollectionId});case"CLEAR_ITINERARY_TO_VIEW":return Object(N.a)({},br);default:return e}},Cr={results:[]},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_RESULTS":return Object(N.a)({},e,{results:t.results});default:return e}},Ir=Object(q.c)({auth:hr,query:Er,firestore:gr.firestoreReducer,firebase:W.firebaseReducer,edit:vr,view:Or,search:_r}),Sr=function(e,t){return"RESET_APP"===t.type&&(e=void 0),Ir(e,t)},jr=a(526),Nr=a(356),wr=a.n(Nr);a(972),a(974),a(979);wr.a.initializeApp({apiKey:"AIzaSyBn6pNrtzd5hZGRm9HkTdoc6l-ETB35IAQ",authDomain:"travelbear-685cf.firebaseapp.com",databaseURL:"https://travelbear-685cf.firebaseio.com",projectId:"travelbear-685cf",storageBucket:"travelbear-685cf.appspot.com",messagingSenderId:"1060317126868"});var Tr=wr.a,xr=a(527),kr=a.n(xr)()(lr),Ar=Object(q.e)(Sr,Object(q.d)(Object(q.a)(jr.a.withExtraArgument({getFirebase:W.getFirebase,getFirestore:gr.getFirestore})),Object(gr.reduxFirestore)(Tr),Object(W.reactReduxFirebase)(Tr),kr));o.a.render(r.a.createElement(w.a,{store:Ar},r.a.createElement(mr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[536,1,2]]]);
//# sourceMappingURL=main.999efb22.chunk.js.map